
<!doctype html>
<html>
  <head>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-158616893-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-158616893-1');
    </script>

    <link href="../../images/favicon-4f296779.ico" rel="icon" type="image/ico" />
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Bybit API Docs</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cpf {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s, .highlight .sa, .highlight .dl {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf, .highlight .fm {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
  background-color: #272822;
}
.highlight .nn {
  color: #ffffff;
  background-color: #272822;
}
.highlight .nl {
  color: #ffffff;
  background-color: #272822;
}
.highlight .ni {
  color: #ffffff;
  background-color: #272822;
}
.highlight .bp {
  color: #ffffff;
  background-color: #272822;
}
.highlight .vg {
  color: #ffffff;
  background-color: #272822;
}
.highlight .vi {
  color: #ffffff;
  background-color: #272822;
}
.highlight .nv, .highlight .vm {
  color: #ffffff;
  background-color: #272822;
}
.highlight .w {
  color: #ffffff;
  background-color: #272822;
}
.highlight {
  color: #ffffff;
  background-color: #272822;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
  background-color: #272822;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
      header.top-nav {
        position:fixed;
        display:flex;
        flex:1;
        width:100%;
        z-index:100;
        background: #333;
        padding: 0 26px;
        -webkit-box-sizing: border-box;
                box-sizing: border-box;
        align-items: center;
      }
      div.top-menu{
        display:flex;
        flex: 1;
      }
      a.logo-link{
        line-height: 50px;
      }
      img.logo {
        width: 161px;
        height: 50px;
        vertical-align: middle;
      }
      .con {
          display: flex;
          top: 0;
          height: 55px;
          margin: 0 0 0 62px;
          padding: 0;
          list-style: none;
          text-align: center;
      }

      .con li{
          text-align: center;
          line-height: 55px;
          border:0 solid #000;
          -webkit-box-sizing: border-box;
                  box-sizing: border-box;
      }

      .con a {
        display: inline-block;
        color: #B0B8DB;
        font-size: 16px;
        text-decoration: none;
        line-height: 53px;
        padding: 0 20px;
      }

      .con a.selected {
        border-bottom: 2px solid transparent;
        border-color: #FFB11A;
        color: #fff;
      }

      a.international{
        display: block;
        height: 27px;
        line-height: 27px;
        text-align: center;
        color: #fff;
        text-decoration: none;
        border: 1px solid #383F66;
        padding: 0 20px;
        color: #F0B90B;
      }
    </style>
    <link href="../../stylesheets/screen-6a7bc757.css" rel="stylesheet" media="screen" />
    <link href="../../stylesheets/print-41ffbffc.css" rel="stylesheet" media="print" />
      <script src="../../javascripts/all-6b1e9343.js"></script>

    <script>
      $(function() { setupCodeCopy(); });
    </script>
  </head>
  <header class="top-nav">
  <div class="top-menu">
  <a href="https://bybit-exchange.github.io/docs/inverse" class="logo-link" target="_self">
    <img src="../../images/logo-c373d083.svg" class="logo" alt="" />
  </a>
  <ul class="con">
    <li><a href="/docs/zh-cn/inverse" class="selected">反向永续</a></li>
    <li><a href="/docs/zh-cn/linear">USDT永续</a></li>
    <li><a href="/docs/zh-cn/inverse_futures">反向交割</a></li>
  </ul>
  </div>
  <a class="international" id="international" href="javascript:void(0);">English</a>
  </header>

  <body class="zh-cn zh-cn_inverse zh-cn_inverse_index" data-languages="[&quot;console&quot;,&quot;python&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="../../images/navbar-cad8cdcb.png" alt="" />
      </span>
    </a>
    <div class="toc-wrapper">
        <div class="lang-selector">
              <a href="#" data-language-name="console">console</a>
              <a href="#" data-language-name="python">python</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="搜索">
        </div>
        <ul class="search-results"></ul>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#t-introduction" class="toc-h1 toc-link" data-title="中文社区和参考资料">中文社区和参考资料</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#t-resources" class="toc-h2 toc-link" data-title="中文社区和参考资料">中文社区和参考资料</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#t-changelog" class="toc-h1 toc-link" data-title="更新日志">更新日志</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#2021-04-07" class="toc-h2 toc-link" data-title="2021-04-07">2021-04-07</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#rest-api" class="toc-h3 toc-link" data-title="REST API">REST API</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#2021-04-02" class="toc-h2 toc-link" data-title="2021-04-02">2021-04-02</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#rest-api-2" class="toc-h3 toc-link" data-title="REST API">REST API</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#2021-03-24" class="toc-h2 toc-link" data-title="2021-03-24">2021-03-24</a>
                  </li>
                  <li>
                    <a href="#2021-03-22" class="toc-h2 toc-link" data-title="2021-03-22">2021-03-22</a>
                  </li>
                  <li>
                    <a href="#2021-03-15" class="toc-h2 toc-link" data-title="2021-03-15">2021-03-15</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#rest-api-3" class="toc-h3 toc-link" data-title="REST API">REST API</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#2021-03-12" class="toc-h2 toc-link" data-title="2021-03-12">2021-03-12</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#rest-api-4" class="toc-h3 toc-link" data-title="REST API">REST API</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#2021-03-11" class="toc-h2 toc-link" data-title="2021-03-11">2021-03-11</a>
                  </li>
                  <li>
                    <a href="#2021-03-04" class="toc-h2 toc-link" data-title="2021-03-04">2021-03-04</a>
                  </li>
                  <li>
                    <a href="#2021-02-02" class="toc-h2 toc-link" data-title="2021-02-02">2021-02-02</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#websocket-api" class="toc-h3 toc-link" data-title="Websocket API">Websocket API</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#2021-01-25" class="toc-h2 toc-link" data-title="2021-01-25">2021-01-25</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#rest-api-5" class="toc-h3 toc-link" data-title="REST API">REST API</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#2021-01-12" class="toc-h2 toc-link" data-title="2021-01-12">2021-01-12</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#rest-api-6" class="toc-h3 toc-link" data-title="REST API">REST API</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#2020-12-31" class="toc-h2 toc-link" data-title="2020-12-31">2020-12-31</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#rest-api-7" class="toc-h3 toc-link" data-title="REST API">REST API</a>
                              <ul class="toc-list-h4">
                                  <li>
                                    <a href="#t-restapi_update_20201231_0" class="toc-h4 toc-link" data-title="服务升级后新增<code>v2</code>接口路由，列表如下：">服务升级后新增<code>v2</code>接口路由，列表如下：</a>
                                  </li>
                              </ul>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#2020-12-17" class="toc-h2 toc-link" data-title="2020-12-17">2020-12-17</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#rest-api-8" class="toc-h3 toc-link" data-title="REST API">REST API</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#2020-11-20" class="toc-h2 toc-link" data-title="2020-11-20">2020-11-20</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#rest-api-9" class="toc-h3 toc-link" data-title="REST API">REST API</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#2020-11-12" class="toc-h2 toc-link" data-title="2020-11-12">2020-11-12</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#rest-api-10" class="toc-h3 toc-link" data-title="REST API">REST API</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#2020-11-10" class="toc-h2 toc-link" data-title="2020-11-10">2020-11-10</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#websocket-api-2" class="toc-h3 toc-link" data-title="Websocket API">Websocket API</a>
                              <ul class="toc-list-h4">
                                  <li>
                                    <a href="#t-restapi_update_20201111_2" class="toc-h4 toc-link" data-title="废弃接口将于2020年11月30日彻底下线">废弃接口将于2020年11月30日彻底下线</a>
                                  </li>
                              </ul>
                          </li>
                          <li>
                            <a href="#rest-api-11" class="toc-h3 toc-link" data-title="REST API">REST API</a>
                              <ul class="toc-list-h4">
                                  <li>
                                    <a href="#t-restapi_update_20201111_1" class="toc-h4 toc-link" data-title="旧版API将在2020年12月10日进行废弃处理。届时旧版API的频率限制将会降低到原有的1/2，并在12月17日彻底下线。">旧版API将在2020年12月10日进行废弃处理。届时旧版API的频率限制将会降低到原有的1/2，并在12月17日彻底下线。</a>
                                  </li>
                              </ul>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#2020-11-02" class="toc-h2 toc-link" data-title="2020-11-02">2020-11-02</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#rest-api-12" class="toc-h3 toc-link" data-title="REST API">REST API</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#2020-10-26" class="toc-h2 toc-link" data-title="2020-10-26">2020-10-26</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#rest-api-13" class="toc-h3 toc-link" data-title="REST API">REST API</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#2020-10-21" class="toc-h2 toc-link" data-title="2020-10-21">2020-10-21</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#rest-api-14" class="toc-h3 toc-link" data-title="REST API">REST API</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#2020-10-12" class="toc-h2 toc-link" data-title="2020-10-12">2020-10-12</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#rest-api-15" class="toc-h3 toc-link" data-title="REST API">REST API</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#2020-09-27" class="toc-h2 toc-link" data-title="2020-09-27">2020-09-27</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#rest-api-16" class="toc-h3 toc-link" data-title="REST API">REST API</a>
                          </li>
                          <li>
                            <a href="#websocket-api-3" class="toc-h3 toc-link" data-title="Websocket API">Websocket API</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#2020-09-15" class="toc-h2 toc-link" data-title="2020-09-15">2020-09-15</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#rest-api-17" class="toc-h3 toc-link" data-title="REST API">REST API</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#2020-08-19" class="toc-h2 toc-link" data-title="2020-08-19">2020-08-19</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#rest-api-18" class="toc-h3 toc-link" data-title="REST API">REST API</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#2020-07-07" class="toc-h2 toc-link" data-title="2020-07-07">2020-07-07</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#rest-api-19" class="toc-h3 toc-link" data-title="REST API">REST API</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#2020-06-22" class="toc-h2 toc-link" data-title="2020-06-22">2020-06-22</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#rest-api-20" class="toc-h3 toc-link" data-title="REST API">REST API</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#2020-05-21" class="toc-h2 toc-link" data-title="2020-05-21">2020-05-21</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#rest-api-21" class="toc-h3 toc-link" data-title="REST API">REST API</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#2020-04-29" class="toc-h2 toc-link" data-title="2020-04-29">2020-04-29</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#rest-api-22" class="toc-h3 toc-link" data-title="REST API">REST API</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#2020-04-27" class="toc-h2 toc-link" data-title="2020-04-27">2020-04-27</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#rest-api-23" class="toc-h3 toc-link" data-title="REST API">REST API</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#2020-04-17" class="toc-h2 toc-link" data-title="2020-04-17">2020-04-17</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#rest-api-24" class="toc-h3 toc-link" data-title="REST API">REST API</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#2020-04-14" class="toc-h2 toc-link" data-title="2020-04-14">2020-04-14</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#rest-api-25" class="toc-h3 toc-link" data-title="REST API">REST API</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#2020-03-31" class="toc-h2 toc-link" data-title="2020-03-31">2020-03-31</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#rest-api-26" class="toc-h3 toc-link" data-title="REST API">REST API</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#2020-03-26" class="toc-h2 toc-link" data-title="2020-03-26">2020-03-26</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#rest-api-27" class="toc-h3 toc-link" data-title="REST API">REST API</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#2020-03-16" class="toc-h2 toc-link" data-title="2020-03-16">2020-03-16</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#rest-api-28" class="toc-h3 toc-link" data-title="REST API">REST API</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#2020-03-09" class="toc-h2 toc-link" data-title="2020-03-09">2020-03-09</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#rest-api-29" class="toc-h3 toc-link" data-title="REST API">REST API</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#2020-03-02" class="toc-h2 toc-link" data-title="2020-03-02">2020-03-02</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#websocket-api-4" class="toc-h3 toc-link" data-title="Websocket API">Websocket API</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#2020-02-26" class="toc-h2 toc-link" data-title="2020-02-26">2020-02-26</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#rest-api-30" class="toc-h3 toc-link" data-title="REST API">REST API</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#2020-02-10" class="toc-h2 toc-link" data-title="2020-02-10">2020-02-10</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#rest-api-31" class="toc-h3 toc-link" data-title="REST API">REST API</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#2019-12-27" class="toc-h2 toc-link" data-title="2019-12-27">2019-12-27</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#rest-api-32" class="toc-h3 toc-link" data-title="REST API">REST API</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#2019-12-18" class="toc-h2 toc-link" data-title="2019-12-18">2019-12-18</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#rest-api-33" class="toc-h3 toc-link" data-title="REST API">REST API</a>
                          </li>
                          <li>
                            <a href="#websocket-api-5" class="toc-h3 toc-link" data-title="Websocket API">Websocket API</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#2019-12-13" class="toc-h2 toc-link" data-title="2019-12-13">2019-12-13</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#rest-api-34" class="toc-h3 toc-link" data-title="REST API">REST API</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#2019-12-02" class="toc-h2 toc-link" data-title="2019-12-02">2019-12-02</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#rest-api-35" class="toc-h3 toc-link" data-title="REST API">REST API</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#2019-11-19" class="toc-h2 toc-link" data-title="2019-11-19">2019-11-19</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#rest-api-36" class="toc-h3 toc-link" data-title="REST API">REST API</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#2019-11-07" class="toc-h2 toc-link" data-title="2019-11-07">2019-11-07</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#rest-api-37" class="toc-h3 toc-link" data-title="REST API">REST API</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#2019-11-04" class="toc-h2 toc-link" data-title="2019-11-04">2019-11-04</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#rest-api-38" class="toc-h3 toc-link" data-title="REST API">REST API</a>
                          </li>
                          <li>
                            <a href="#websocket-api-6" class="toc-h3 toc-link" data-title="Websocket API">Websocket API</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#2019-10-22" class="toc-h2 toc-link" data-title="2019-10-22">2019-10-22</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#rest-api-39" class="toc-h3 toc-link" data-title="REST API">REST API</a>
                          </li>
                          <li>
                            <a href="#websocket-api-7" class="toc-h3 toc-link" data-title="Websocket API">Websocket API</a>
                          </li>
                      </ul>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#t-authentication" class="toc-h1 toc-link" data-title="鉴权/认证">鉴权/认证</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#t-authenticationparameters" class="toc-h2 toc-link" data-title="公共参数">公共参数</a>
                  </li>
                  <li>
                    <a href="#t-constructingtherequest" class="toc-h2 toc-link" data-title="构建请求">构建请求</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#t-marketdata" class="toc-h1 toc-link" data-title="行情接口">行情接口</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#t-orderbook" class="toc-h2 toc-link" data-title="Orderbook">Orderbook</a>
                  </li>
                  <li>
                    <a href="#t-querykline" class="toc-h2 toc-link" data-title="查询K线数据">查询K线数据</a>
                  </li>
                  <li>
                    <a href="#t-latestsymbolinfo" class="toc-h2 toc-link" data-title="合约最新信息">合约最新信息</a>
                  </li>
                  <li>
                    <a href="#t-publictradingrecords" class="toc-h2 toc-link" data-title="平台交易历史数据">平台交易历史数据</a>
                  </li>
                  <li>
                    <a href="#t-querysymbol" class="toc-h2 toc-link" data-title="查询合约信息">查询合约信息</a>
                  </li>
                  <li>
                    <a href="#t-query_liqrecords" class="toc-h2 toc-link" data-title="查询强平订单数据">查询强平订单数据</a>
                  </li>
                  <li>
                    <a href="#t-markpricekline" class="toc-h2 toc-link" data-title="标记价格K线">标记价格K线</a>
                  </li>
                  <li>
                    <a href="#t-queryindexpricekline" class="toc-h2 toc-link" data-title="查询指数价格K线数据">查询指数价格K线数据</a>
                  </li>
                  <li>
                    <a href="#t-querypremiumindexkline" class="toc-h2 toc-link" data-title="查询溢价K线数据">查询溢价K线数据</a>
                  </li>
                  <li>
                    <a href="#t-advanceddata" class="toc-h2 toc-link" data-title="平台进阶数据">平台进阶数据</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#t-marketopeninterest" class="toc-h3 toc-link" data-title="未平合约持仓数量">未平合约持仓数量</a>
                          </li>
                          <li>
                            <a href="#t-marketbigdeal" class="toc-h3 toc-link" data-title="主动成交大额订单">主动成交大额订单</a>
                          </li>
                          <li>
                            <a href="#t-marketaccountratio" class="toc-h3 toc-link" data-title="用户多空持仓比率">用户多空持仓比率</a>
                          </li>
                      </ul>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#t-accountdata" class="toc-h1 toc-link" data-title="账户/交易接口">账户/交易接口</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#t-activeorders" class="toc-h2 toc-link" data-title="活动单">活动单</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#t-placeactive" class="toc-h3 toc-link" data-title="创建活动委托单">创建活动委托单</a>
                          </li>
                          <li>
                            <a href="#t-getactive" class="toc-h3 toc-link" data-title="查询活动委托">查询活动委托</a>
                          </li>
                          <li>
                            <a href="#t-cancelactive" class="toc-h3 toc-link" data-title="撤销活动委托单">撤销活动委托单</a>
                          </li>
                          <li>
                            <a href="#t-cancelallactive" class="toc-h3 toc-link" data-title="撤销所有活动委托单">撤销所有活动委托单</a>
                          </li>
                          <li>
                            <a href="#t-replaceactive" class="toc-h3 toc-link" data-title="修改活动单信息">修改活动单信息</a>
                          </li>
                          <li>
                            <a href="#t-queryactive" class="toc-h3 toc-link" data-title="实时查询活动委托">实时查询活动委托</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#t-conditionalorders" class="toc-h2 toc-link" data-title="条件单">条件单</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#t-placecond" class="toc-h3 toc-link" data-title="创建条件委托单">创建条件委托单</a>
                          </li>
                          <li>
                            <a href="#t-getcond" class="toc-h3 toc-link" data-title="查询条件委托">查询条件委托</a>
                          </li>
                          <li>
                            <a href="#t-cancelcond" class="toc-h3 toc-link" data-title="撤消条件委托单">撤消条件委托单</a>
                          </li>
                          <li>
                            <a href="#t-cancelallcond" class="toc-h3 toc-link" data-title="撤消全部条件委托单">撤消全部条件委托单</a>
                          </li>
                          <li>
                            <a href="#t-replacecond" class="toc-h3 toc-link" data-title="修改条件委托单">修改条件委托单</a>
                          </li>
                          <li>
                            <a href="#t-querycond" class="toc-h3 toc-link" data-title="实时查询条件委托">实时查询条件委托</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#t-position" class="toc-h2 toc-link" data-title="持仓">持仓</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#t-myposition" class="toc-h3 toc-link" data-title="获取持仓（实时）">获取持仓（实时）</a>
                          </li>
                          <li>
                            <a href="#t-changemargin" class="toc-h3 toc-link" data-title="更新保证金">更新保证金</a>
                          </li>
                          <li>
                            <a href="#t-tradingstop" class="toc-h3 toc-link" data-title="设置止盈止损">设置止盈止损</a>
                          </li>
                          <li>
                            <a href="#t-setleverage" class="toc-h3 toc-link" data-title="修改杠杆">修改杠杆</a>
                          </li>
                          <li>
                            <a href="#t-usertraderecords" class="toc-h3 toc-link" data-title="用户成交记录">用户成交记录</a>
                          </li>
                          <li>
                            <a href="#t-closedprofitandloss" class="toc-h3 toc-link" data-title="平仓盈亏">平仓盈亏</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#t-risklimit" class="toc-h2 toc-link" data-title="风险限额">风险限额</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#t-getrisklimit" class="toc-h3 toc-link" data-title="查询风险限额表">查询风险限额表</a>
                          </li>
                          <li>
                            <a href="#t-setrisklimit" class="toc-h3 toc-link" data-title="设置风险限额">设置风险限额</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#t-funding" class="toc-h2 toc-link" data-title="资金费率">资金费率</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#t-fundingrate" class="toc-h3 toc-link" data-title="查询上个周期的资金费率">查询上个周期的资金费率</a>
                          </li>
                          <li>
                            <a href="#t-mylastfundingfee" class="toc-h3 toc-link" data-title="查询上个周期资金费用结算信息">查询上个周期资金费用结算信息</a>
                          </li>
                          <li>
                            <a href="#t-predictedfunding" class="toc-h3 toc-link" data-title="查询预测资金费率和资金费用">查询预测资金费率和资金费用</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#t-key" class="toc-h2 toc-link" data-title="APIKey信息">APIKey信息</a>
                  </li>
                  <li>
                    <a href="#t-lcp" class="toc-h2 toc-link" data-title="流动性贡献分">流动性贡献分</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#t-wallet" class="toc-h1 toc-link" data-title="钱包接口">钱包接口</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#t-balance" class="toc-h2 toc-link" data-title="获取钱包余额">获取钱包余额</a>
                  </li>
                  <li>
                    <a href="#t-walletrecords" class="toc-h2 toc-link" data-title="资金记录">资金记录</a>
                  </li>
                  <li>
                    <a href="#t-withdrawrecords" class="toc-h2 toc-link" data-title="提币记录">提币记录</a>
                  </li>
                  <li>
                    <a href="#t-assetexchangerecords" class="toc-h2 toc-link" data-title="资产兑换记录">资产兑换记录</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#t-api" class="toc-h1 toc-link" data-title="通用数据接口">通用数据接口</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#t-servertime" class="toc-h2 toc-link" data-title="服务器时间">服务器时间</a>
                  </li>
                  <li>
                    <a href="#t-announcement" class="toc-h2 toc-link" data-title="公告">公告</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#t-ratelimits" class="toc-h1 toc-link" data-title="频率限制">频率限制</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#t-ipratelimits" class="toc-h2 toc-link" data-title="IP频率限制">IP频率限制</a>
                  </li>
                  <li>
                    <a href="#t-understandingratelimits" class="toc-h2 toc-link" data-title="账户频率限制">账户频率限制</a>
                  </li>
                  <li>
                    <a href="#t-perendpoint" class="toc-h2 toc-link" data-title="接口频率限制表">接口频率限制表</a>
                  </li>
                  <li>
                    <a href="#t-orderlimits" class="toc-h2 toc-link" data-title="下单限制">下单限制</a>
                  </li>
                  <li>
                    <a href="#t-raisemylimit" class="toc-h2 toc-link" data-title="如何提高频率限制">如何提高频率限制</a>
                  </li>
                  <li>
                    <a href="#t-liquidity" class="toc-h2 toc-link" data-title="Bybit流动性贡献系统">Bybit流动性贡献系统</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#t-ofrthreshold" class="toc-h3 toc-link" data-title="报单成交率">报单成交率</a>
                              <ul class="toc-list-h4">
                                  <li>
                                    <a href="#t-ofrratio" class="toc-h4 toc-link" data-title="报单成交率">报单成交率</a>
                                  </li>
                                  <li>
                                    <a href="#t-ofrratioexample" class="toc-h4 toc-link" data-title="报单成交率举例">报单成交率举例</a>
                                  </li>
                                  <li>
                                    <a href="#t-ofrminimum" class="toc-h4 toc-link" data-title="API 交易用户最小报单成交率门槛">API 交易用户最小报单成交率门槛</a>
                                  </li>
                              </ul>
                          </li>
                          <li>
                            <a href="#t-frequencylimit" class="toc-h3 toc-link" data-title="API 交易用户提高频率的条件">API 交易用户提高频率的条件</a>
                              <ul class="toc-list-h4">
                                  <li>
                                    <a href="#t-liquiditypoints" class="toc-h4 toc-link" data-title="流动性贡献打分">流动性贡献打分</a>
                                  </li>
                                  <li>
                                    <a href="#t-ratelimitsexplanation" class="toc-h4 toc-link" data-title="名词解释">名词解释</a>
                                  </li>
                              </ul>
                          </li>
                      </ul>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#t-websocket" class="toc-h1 toc-link" data-title="WebSocket接口">WebSocket接口</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#t-websocketauthentication" class="toc-h2 toc-link" data-title="鉴权/认证">鉴权/认证</a>
                  </li>
                  <li>
                    <a href="#t-heartbeat" class="toc-h2 toc-link" data-title="心跳包/Ping">心跳包/Ping</a>
                  </li>
                  <li>
                    <a href="#t-subscribe" class="toc-h2 toc-link" data-title="订阅方式">订阅方式</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#t-websocketfilters" class="toc-h3 toc-link" data-title="Websocket订阅方式">Websocket订阅方式</a>
                          </li>
                          <li>
                            <a href="#t-intervals" class="toc-h3 toc-link" data-title="推送周期">推送周期</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#t-websocketresponse" class="toc-h2 toc-link" data-title="订阅结果">订阅结果</a>
                  </li>
                  <li>
                    <a href="#t-publictopics" class="toc-h2 toc-link" data-title="公共 Topics">公共 Topics</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#t-websocketorderbook25" class="toc-h3 toc-link" data-title="orderBook25档">orderBook25档</a>
                          </li>
                          <li>
                            <a href="#t-websocketorderbook200" class="toc-h3 toc-link" data-title="orderBook200档">orderBook200档</a>
                          </li>
                          <li>
                            <a href="#t-websockettrade" class="toc-h3 toc-link" data-title="平台成交">平台成交</a>
                          </li>
                          <li>
                            <a href="#t-websocketinsurance" class="toc-h3 toc-link" data-title="保险基金">保险基金</a>
                          </li>
                          <li>
                            <a href="#t-websocketinstrumentinfo" class="toc-h3 toc-link" data-title="行情">行情</a>
                          </li>
                          <li>
                            <a href="#t-websocketklinev2" class="toc-h3 toc-link" data-title="K线">K线</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#t-privatetopics" class="toc-h2 toc-link" data-title="私有 Topics">私有 Topics</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#t-websocketposition" class="toc-h3 toc-link" data-title="持仓">持仓</a>
                          </li>
                          <li>
                            <a href="#t-websocketexecution" class="toc-h3 toc-link" data-title="个人成交">个人成交</a>
                          </li>
                          <li>
                            <a href="#t-websocketorder" class="toc-h3 toc-link" data-title="活动单">活动单</a>
                          </li>
                          <li>
                            <a href="#t-websocketstoporder" class="toc-h3 toc-link" data-title="条件单">条件单</a>
                          </li>
                      </ul>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#t-archivedata" class="toc-h1 toc-link" data-title="归档数据">归档数据</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#t-historicalmarketdata" class="toc-h2 toc-link" data-title="历史行情">历史行情</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#t-enums" class="toc-h1 toc-link" data-title="枚举定义">枚举定义</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#side-side" class="toc-h2 toc-link" data-title="Side (side)">Side (<code>side</code>)</a>
                  </li>
                  <li>
                    <a href="#symbol-symbol" class="toc-h2 toc-link" data-title="Symbol (symbol)">Symbol (<code>symbol</code>)</a>
                  </li>
                  <li>
                    <a href="#currency-currency-coin" class="toc-h2 toc-link" data-title="Currency (currency/coin)">Currency (<code>currency</code>/<code>coin</code>)</a>
                  </li>
                  <li>
                    <a href="#contract-type-contract_type" class="toc-h2 toc-link" data-title="Contract Type(contract_type)">Contract Type(<code>contract_type</code>)</a>
                  </li>
                  <li>
                    <a href="#contract-status-status" class="toc-h2 toc-link" data-title="Contract Status(status)">Contract Status(<code>status</code>)</a>
                  </li>
                  <li>
                    <a href="#wallet-fund-type-wallet_fund_type" class="toc-h2 toc-link" data-title="Wallet fund type (wallet_fund_type)">Wallet fund type (<code>wallet_fund_type</code>)</a>
                  </li>
                  <li>
                    <a href="#withdraw-status-status" class="toc-h2 toc-link" data-title="Withdraw status (status)">Withdraw status (<code>status</code>)</a>
                  </li>
                  <li>
                    <a href="#order-type-order_type" class="toc-h2 toc-link" data-title="Order type (order_type)">Order type (<code>order_type</code>)</a>
                  </li>
                  <li>
                    <a href="#quantity-qty" class="toc-h2 toc-link" data-title="Quantity (qty)">Quantity (<code>qty</code>)</a>
                  </li>
                  <li>
                    <a href="#price-price" class="toc-h2 toc-link" data-title="Price (price)">Price (<code>price</code>)</a>
                  </li>
                  <li>
                    <a href="#time-in-force-time_in_force" class="toc-h2 toc-link" data-title="Time in force (time_in_force)">Time in force (<code>time_in_force</code>)</a>
                  </li>
                  <li>
                    <a href="#trigger-price-type-trigger_by" class="toc-h2 toc-link" data-title="Trigger price type (trigger_by)">Trigger price type (<code>trigger_by</code>)</a>
                  </li>
                  <li>
                    <a href="#order-order" class="toc-h2 toc-link" data-title="Order (order)">Order (<code>order</code>)</a>
                  </li>
                  <li>
                    <a href="#order-status-order_status" class="toc-h2 toc-link" data-title="Order status (order_status)">Order status (<code>order_status</code>)</a>
                  </li>
                  <li>
                    <a href="#stop-order-status-stop_order_status" class="toc-h2 toc-link" data-title="Stop order status (stop_order_status)">Stop order status (<code>stop_order_status</code>)</a>
                  </li>
                  <li>
                    <a href="#cancel-type-cancel_type" class="toc-h2 toc-link" data-title="Cancel type (cancel_type)">Cancel type (<code>cancel_type</code>)</a>
                  </li>
                  <li>
                    <a href="#create-type-create_type" class="toc-h2 toc-link" data-title="Create type (create_type)">Create type (<code>create_type</code>)</a>
                  </li>
                  <li>
                    <a href="#exec-type-exec_type" class="toc-h2 toc-link" data-title="Exec type (exec_type)">Exec type (<code>exec_type</code>)</a>
                  </li>
                  <li>
                    <a href="#liquidity-type-last_liquidity_ind" class="toc-h2 toc-link" data-title="Liquidity type (last_liquidity_ind)">Liquidity type (<code>last_liquidity_ind</code>)</a>
                  </li>
                  <li>
                    <a href="#tick-direction-type-tick_direction" class="toc-h2 toc-link" data-title="Tick direction type (tick_direction)">Tick direction type (<code>tick_direction</code>)</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#t-errors" class="toc-h1 toc-link" data-title="错误码">错误码</a>
          </li>
          <li>
            <a href="#t-abandonedendpoints" class="toc-h1 toc-link" data-title="废弃接口">废弃接口</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#t-a_getleverage" class="toc-h2 toc-link" data-title="用户杠杆">用户杠杆</a>
                  </li>
                  <li>
                    <a href="#t-a_getactive" class="toc-h2 toc-link" data-title="查询活动委托">查询活动委托</a>
                  </li>
                  <li>
                    <a href="#t-a_getcond" class="toc-h2 toc-link" data-title="查询条件委托">查询条件委托</a>
                  </li>
                  <li>
                    <a href="#t-a_placecond" class="toc-h2 toc-link" data-title="创建条件委托单">创建条件委托单</a>
                  </li>
                  <li>
                    <a href="#t-a_cancelcond" class="toc-h2 toc-link" data-title="撤消条件委托单">撤消条件委托单</a>
                  </li>
                  <li>
                    <a href="#t-a_replacecond" class="toc-h2 toc-link" data-title="修改条件委托单">修改条件委托单</a>
                  </li>
                  <li>
                    <a href="#t-a_replaceactive" class="toc-h2 toc-link" data-title="修改活动单信息">修改活动单信息</a>
                  </li>
              </ul>
          </li>
      </ul>
        <ul class="toc-footer">
            <li><a href='https://github.com/lord/slate'>Documentation Powered by Slate</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <!---
Clipboard script
-->

<script src="../dist/clipboard.min.js"></script>

<script>
var clipboard = new ClipboardJS('.clipboard_button');

clipboard.on('success', function(e) {
    console.log(e);
});

clipboard.on('error', function(e) {
    console.log(e);
});
</script>
<h1 id='t-introduction'>中文社区和参考资料</h1>
<p><p>欢迎使用 <a href="https://www.bybit.com/">Bybit</a> APIs 和 Websocket官方文档！</p> <p>如果您在使用API的过程中遇到问题需要帮助，请加入我们的 <a href="https://t.me/Bybitapi">官方Telegram API讨论群</a>！</p></p>
<h3 id='t-resources'>中文社区和参考资料</h3>
<p><ul class="bybit-community"> <li><img src="../../images/favicon-4f296779.ico" height="14", width="14"> <a href="https://help.bybit.com/hc/zh-cn"><strong>帮助中心</strong></a> - <strong>在这里了解合约交易</strong> <li><img src="../../images/github_logo_icon-768757c0.png" height="14", width="14"> <a href="https://github.com/bybit-exchange/docs/issues"><strong>Bybit API docs</strong></a> - <strong>在这里提bug</strong> <li><img src="../../images/github_logo_icon-768757c0.png" height="14", width="14"> <a href="https://github.com/bybit-exchange/api-connectors/"><strong>Bybit's api-connectors</strong></a> - <strong>官方API SDK</strong> <li><img src="../../images/telegram_logo_icon-251353d9.png" height="14", width="14"> <a href="https://t.me/BybitAPI"><strong>API Discussion Group</strong></a> - <strong>API英文讨论群</strong> <li><img src="../../images/telegram_logo_icon-251353d9.png" height="14", width="14"> <a href="https://t.me/BybitChineseAPI"><strong>Chinese API Discussion Group</strong></a> - <strong>API中文讨论群</strong> <li><img src="../../images/telegram_logo_icon-251353d9.png" height="14", width="14"> <a href="https://t.me/Bybit_API_Announcements"><strong>API Announcements Channel</strong></a> - <strong>API公告群</strong> <li><img src="../../images/email_icon-e7dd7b20.png" height="14", width="14"> <a href="mailto:IT@bybit.com"><strong>IT@bybit.com</strong></a> - <strong>官方技术支持邮箱!</strong> </ul></p>
<h1 id='t-changelog'>更新日志</h1><h2 id='2021-04-07'>2021-04-07</h2><h3 id='rest-api'>REST API</h3>
<ul>
<li>修复<a href="#t-query_liqrecords">查询强平订单数据</a>接口<code>price</code>字段取值，由<code>liq_price</code>改为<code>bust_price</code>，关于强平订单，请参考<a href="https://help.bybit.com/hc/zh-cn/articles/360039261474-%E5%BC%BA%E5%88%B6%E5%B9%B3%E4%BB%93%E8%BF%87%E7%A8%8B-%E5%A6%82%E4%BD%95%E5%87%8F%E5%B0%91%E5%BC%BA%E5%B9%B3%E4%BA%8B%E4%BB%B6-%E5%8F%8D%E5%90%91%E6%B0%B8%E7%BB%AD-">强制平仓过程</a></li>
</ul>
<h2 id='2021-04-02'>2021-04-02</h2><h3 id='rest-api-2'>REST API</h3>
<ul>
<li>增加错误码描述：10016,10018,30074,30075</li>
</ul>
<h2 id='2021-03-24'>2021-03-24</h2>
<ul>
<li><a href="#t-getrisklimit">查询风险限额表</a> [更新]

<ul>
<li>查询风险限额新增返回字段最大杠杆<code>max_leverage</code></li>
</ul></li>
</ul>
<h2 id='2021-03-22'>2021-03-22</h2>
<ul>
<li><a href="#t-walletrecords">资金记录</a> [更新]

<ul>
<li>修复参数<code>start_date</code>,<code>end_date</code>过滤失效的问题</li>
</ul></li>
</ul>
<h2 id='2021-03-15'>2021-03-15</h2><h3 id='rest-api-3'>REST API</h3>
<ul>
<li>2020年12月31日前，市价单返回的订单价格是下单时刻的最新市场价；自2020年12月31日起，市价单返回的订单价格是修订后的限价价格。详情可见<a href="#t-activeorders">市价活动委托说明</a>。</li>
</ul>
<h2 id='2021-03-12'>2021-03-12</h2><h3 id='rest-api-4'>REST API</h3>
<ul>
<li>修复 <a href="#t-usertraderecords">User Trade Record</a>接口返回值<code>exec_type,last_liquidity_ind</code> 值不对的问题</li>
</ul>
<h2 id='2021-03-11'>2021-03-11</h2>
<ul>
<li><a href="#t-getactive">查询活动委托</a> [更新]

<ul>
<li>修复响应结果顺序的问题</li>
</ul></li>
<li><a href="#t-getcond">查询条件委托</a> [更新]

<ul>
<li>修复响应结果顺序的问题</li>
</ul></li>
</ul>
<h2 id='2021-03-04'>2021-03-04</h2>
<ul>
<li><a href="#t-walletrecords">资金记录</a> [更新]

<ul>
<li>修复参数<code>wallet_fund_type</code>过滤失效的问题</li>
</ul></li>
</ul>
<h2 id='2021-02-02'>2021-02-02</h2><h3 id='websocket-api'>Websocket API</h3>
<ul>
<li><p>Topic <a href="#t-websocketorder">order</a> [更新]</p>

<ul>
<li>新增字段<code>reduce_only</code>和<code>close_on_trigger</code></li>
</ul></li>
<li><p>Topic <a href="#t-websocketstoporder">stop_order</a> [更新]</p>

<ul>
<li>新增字段<code>close_on_trigger</code></li>
</ul></li>
</ul>
<h2 id='2021-01-25'>2021-01-25</h2><h3 id='rest-api-5'>REST API</h3>
<ul>
<li><a href="#t-fundingrate">查询上个周期的资金费率</a> [更新]

<ul>
<li><code>/v2/private/funding/prev-funding-rate</code> <code>此接口不再推荐使用。</code></li>
<li>新增：<code>/v2/public/funding/prev-funding-rate</code></li>
</ul></li>
</ul>
<h2 id='2021-01-12'>2021-01-12</h2><h3 id='rest-api-6'>REST API</h3>
<ul>
<li><a href="#t-queryindexpricekline">查询指数价格K线数据</a> [新增]

<ul>
<li>translation missing: zh-cn.restapi_update_20210107_1</li>
</ul></li>
<li><a href="#t-querypremiumindexkline">查询溢价K线数据</a> [新增]

<ul>
<li>translation missing: zh-cn.restapi_update_20210107_2</li>
</ul></li>
</ul>
<h2 id='2020-12-31'>2020-12-31</h2><h3 id='rest-api-7'>REST API</h3><h4 id='t-restapi_update_20201231_0'>服务升级后新增<code>v2</code>接口路由，列表如下：</h4>
<ul>
<li><a href="#t-setleverage">修改杠杆</a> [新增]

<ul>
<li><code>/user/leverage/save</code> <code>此接口不再推荐使用。</code></li>
<li>新增：<code>/v2/private/position/leverage/save</code></li>
</ul></li>
<li><a href="#t-walletrecords">资金记录</a> [新增]

<ul>
<li><code>/open-api/wallet/fund/records</code> <code>此接口不再推荐使用。</code></li>
<li>新增：<code>/v2/private/wallet/fund/records</code></li>
</ul></li>
<li><a href="#t-withdrawrecords">提币记录</a> [新增]

<ul>
<li><code>/open-api/wallet/withdraw/list</code> <code>此接口不再推荐使用。</code></li>
<li>新增：<code>/v2/private/wallet/withdraw/list</code></li>
</ul></li>
<li><a href="#t-changemargin">更新保证金</a> [新增]

<ul>
<li><code>/position/change-position-margin</code> <code>此接口不再推荐使用。</code></li>
<li>新增：<code>/v2/private/position/change-position-margin</code></li>
</ul></li>
<li><a href="#t-key">APIKey信息</a> [新增]

<ul>
<li><code>/open-api/api-key</code> <code>此接口不再推荐使用。</code></li>
<li>新增：<code>/v2/private/account/api-key</code></li>
</ul></li>
<li><a href="#t-tradingstop">设置止盈止损</a> [新增]

<ul>
<li><code>/open-api/position/trading-stop</code> <code>此接口不再推荐使用。</code></li>
<li>新增：<code>/v2/private/position/trading-stop</code></li>
</ul></li>
<li><a href="#t-fundingrate">查询上个周期的资金费率</a> [新增]

<ul>
<li><code>/open-api/funding/prev-funding-rate</code> <code>此接口不再推荐使用。</code></li>
<li>新增：<code>/2/private/funding/prev-funding-rate</code></li>
</ul></li>
<li><a href="#t-mylastfundingfee">查询上个周期资金费用结算信息</a> [新增]

<ul>
<li><code>/open-api/funding/prev-funding</code> <code>此接口不再推荐使用。</code></li>
<li>新增：<code>/v2/private/funding/prev-funding</code></li>
</ul></li>
<li><a href="#t-predictedfunding">查询预测资金费率和资金费用</a> [新增]

<ul>
<li><code>/open-api/funding/predicted-funding</code> <code>此接口不再推荐使用。</code></li>
<li>新增：<code>/v2/private/funding/predicted-funding</code></li>
</ul></li>
</ul>
<h2 id='2020-12-17'>2020-12-17</h2><h3 id='rest-api-8'>REST API</h3>
<ul>
<li><a href="#t-querycond">实时查询条件委托</a> [更新]

<ul>
<li>实时查询支持返回多个未成交订单数据</li>
</ul></li>
<li><a href="#t-queryactive">实时查询活动委托</a> [更新]

<ul>
<li>实时查询支持返回多个未成交订单数据</li>
</ul></li>
</ul>
<h2 id='2020-11-20'>2020-11-20</h2><h3 id='rest-api-9'>REST API</h3>
<ul>
<li><a href="#t-getcond">查询条件委托</a> [更新]

<ul>
<li>返回参数中新增字段<code>trigger_by</code></li>
</ul></li>
</ul>
<h2 id='2020-11-12'>2020-11-12</h2><h3 id='rest-api-10'>REST API</h3>
<ul>
<li><a href="#t-getactive">查询活动委托</a> [更新]

<ul>
<li><code>order_status</code> 支持多状态查询，状态之间用英文逗号分割。</li>
</ul></li>
<li><a href="#t-getcond">查询条件委托</a> [更新]

<ul>
<li><code>stop_order_status</code> 支持多状态查询，状态之间用英文逗号分割。</li>
</ul></li>
</ul>
<h2 id='2020-11-10'>2020-11-10</h2><h3 id='websocket-api-2'>Websocket API</h3><h4 id='t-restapi_update_20201111_2'>废弃接口将于2020年11月30日彻底下线</h4>
<ul>
<li>Topic <a href="https://github.com/bybit-exchange/bybit-official-api-docs/blob/master/en/websocket.md#public-topic">orderBook25</a> [废弃]

<ul>
<li>请使用新topic <a href="#t-websocketorderbook25">orderBook25档</a> or <a href="#t-websocketorderbook200">orderBook200档</a></li>
</ul></li>
<li>Topic <a href="https://github.com/bybit-exchange/bybit-official-api-docs/blob/master/en/websocket.md#public-topic">kline</a> [废弃]

<ul>
<li>请使用新topic <a href="#t-websocketklinev2">K线</a></li>
</ul></li>
<li>Topic <a href="https://github.com/bybit-exchange/bybit-official-api-docs/blob/master/en/websocket.md#public-topic">instrument</a> [废弃]

<ul>
<li>请使用新topic <a href="#t-websocketinstrumentinfo">行情</a></li>
</ul></li>
</ul>
<h3 id='rest-api-11'>REST API</h3><h4 id='t-restapi_update_20201111_1'>旧版API将在2020年12月10日进行废弃处理。届时旧版API的频率限制将会降低到原有的1/2，并在12月17日彻底下线。</h4>
<ul>
<li><a href="#t-a_getactive">查询活动委托</a> [废弃]

<ul>
<li>请使用新接口 <a href="#t-getactive">查询活动委托</a> [新增]</li>
</ul></li>
<li><a href="#t-a_getcond">查询条件委托</a> [废弃]

<ul>
<li>请使用新接口 <a href="#t-getcond">查询条件委托</a> [新增]</li>
</ul></li>
<li><a href="#t-a_placecond">创建条件委托单</a> [废弃]

<ul>
<li>请使用新接口 <a href="#t-placecond">创建条件委托单</a> [新增]</li>
</ul></li>
<li><a href="#t-a_cancelcond">撤消条件委托单</a> [废弃]

<ul>
<li>请使用新接口 <a href="#t-cancelcond">撤消条件委托单</a> [新增]</li>
</ul></li>
<li><a href="#t-a_replacecond">修改条件委托单</a> [废弃]

<ul>
<li>请使用新接口 <a href="#t-replacecond">修改条件委托单</a> [新增]</li>
</ul></li>
<li><a href="#t-a_replaceactive">修改活动单信息</a> [废弃]

<ul>
<li>请使用新接口 <a href="#t-replaceactive">修改活动单信息</a> [新增]</li>
</ul></li>
<li><a href="#t-a_getleverage">用户杠杆</a> [废弃]

<ul>
<li>请使用新接口 <a href="#t-myposition">获取持仓（实时）</a></li>
</ul></li>
<li><a href="https://github.com/bybit-exchange/bybit-official-api-docs/blob/master/en/rest_api.md#open-apiordercreatepost">/open-api/order/create</a> [废弃]

<ul>
<li>请使用新接口 <a href="#t-placeactive">创建活动委托单</a></li>
</ul></li>
<li><a href="https://github.com/bybit-exchange/bybit-official-api-docs/blob/master/en/rest_api.md#open-apiordercancelpost">/open-api/order/cancel</a> [废弃]

<ul>
<li>请使用新接口 <a href="#t-cancelactive">撤销活动委托单</a></li>
</ul></li>
<li><a href="https://github.com/bybit-exchange/bybit-official-api-docs/blob/master/en/rest_api.md#positionlistget">/position/list</a> [废弃]

<ul>
<li>请使用新接口 <a href="#t-myposition">获取持仓（实时）</a></li>
</ul></li>
</ul>
<h2 id='2020-11-02'>2020-11-02</h2><h3 id='rest-api-12'>REST API</h3>
<ul>
<li><a href="#t-position">持仓</a> [更新]

<ul>
<li>参数<code>symbol</code>改为非必传；如果不指定<code>symbol</code>则返回所有交易对的持仓信息</li>
</ul></li>
</ul>
<h2 id='2020-10-26'>2020-10-26</h2><h3 id='rest-api-13'>REST API</h3>
<ul>
<li><a href="#t-position">持仓</a> [更新]

<ul>
<li>返回参数中新增字段<code>is_isolated</code>，用于判断当前仓位是否是逐仓模式</li>
</ul></li>
</ul>
<h2 id='2020-10-21'>2020-10-21</h2><h3 id='rest-api-14'>REST API</h3>
<ul>
<li><a href="#t-balance">获取钱包余额</a> [更新]

<ul>
<li>修复<code>usdt</code> <code>given_cash</code>和<code>service_cash</code>总是为0的问题</li>
</ul></li>
<li><a href="#t-tradingstop">设置止盈止损</a> [更新]

<ul>
<li>支持根据价格类型设置止盈止损</li>
</ul></li>
</ul>
<h2 id='2020-10-12'>2020-10-12</h2><h3 id='rest-api-15'>REST API</h3>
<ul>
<li><a href="#t-getcond">查询条件委托</a> [bugfix]

<ul>
<li>修复未返回<code>Deactivated</code>状态条件单的问题</li>
</ul></li>
<li><a href="#t-queryactive">实时查询活动委托</a> [bugfix]

<ul>
<li>修复已成交订单<code>cum_exec_fee</code>字段错误的问题</li>
</ul></li>
</ul>
<h2 id='2020-09-27'>2020-09-27</h2><h3 id='rest-api-16'>REST API</h3>
<ul>
<li><a href="#t-replaceactive">修改活动单信息</a> [更新]

<ul>
<li>支持<code>order_link_id</code>修改订单</li>
</ul></li>
<li><a href="#t-replacecond">修改条件委托单</a> [更新]

<ul>
<li>支持<code>order_link_id</code>修改订单</li>
</ul></li>
</ul>
<h3 id='websocket-api-3'>Websocket API</h3>
<ul>
<li><a href="#t-websocket">新增Websocket域名</a> [更新]</li>
</ul>
<h2 id='2020-09-15'>2020-09-15</h2><h3 id='rest-api-17'>REST API</h3>
<ul>
<li><a href="#t-marketaccountratio">用户多空持仓比率</a> [更新]

<ul>
<li>修复<a href="#t-marketaccountratio">用户多空持仓比率</a>数据错误</li>
</ul></li>
<li><a href="#t-placecond">创建条件委托单</a> [更新]<br>

<ul>
<li>创建条件市价单时，返回字段<code>time_in_force</code>的值由<code>GoodTillCancel</code>修复为<code>ImmediateOrCancel</code>(<code>ImmediateOrCancel</code>是实际的执行策略)</li>
</ul></li>
</ul>
<h2 id='2020-08-19'>2020-08-19</h2><h3 id='rest-api-18'>REST API</h3>
<ul>
<li><a href="#t-marketopeninterest">未平合约持仓数量</a> [新增]</li>
<li><a href="#t-marketbigdeal">主动成交大额订单</a> [新增]</li>
<li><a href="#t-marketaccountratio">用户多空持仓比率</a> [新增]</li>
</ul>
<h2 id='2020-07-07'>2020-07-07</h2><h3 id='rest-api-19'>REST API</h3>
<ul>
<li><a href="#t-assetexchangerecords">资产兑换记录</a> [新增]</li>
</ul>

<!--
##merge changelog of 2020-06-29 to 2020-07-07
-->

<ul>
<li><a href="#t-balance">获取钱包余额</a> [更新]

<ul>
<li>更新请求参数 <code>coin</code> 如果不传参数 返回所有钱包余额</li>
</ul></li>
<li><a href="#t-usertraderecords">用户成交记录</a> [更新]

<ul>
<li>返回值数量最大值从50调整到200</li>
</ul></li>
</ul>

<!--
## 2020-06-08
### REST API
- [资金费率](#t-marketfundingrate) [新增]
- [未平合约持仓数量](#t-marketopeninterest) [新增]
- [主动成交大额订单](#t-marketbigdeal) [新增]
- [用户多空持仓比率](#t-marketaccountratio) [新增]
- [精英账户多空持仓账户比](#t-marketeliteratio) [新增]
-->
<h2 id='2020-06-22'>2020-06-22</h2><h3 id='rest-api-20'>REST API</h3>
<ul>
<li><a href="#t-closedprofitandloss">平仓盈亏</a> [新增]</li>
<li><a href="#t-markpricekline">标记价格K线</a> [新增]</li>
</ul>
<h2 id='2020-05-21'>2020-05-21</h2><h3 id='rest-api-21'>REST API</h3>
<ul>
<li><a href="#t-query_liqrecords">查询强平订单数据</a> [新增]</li>
</ul>
<h2 id='2020-04-29'>2020-04-29</h2><h3 id='rest-api-22'>REST API</h3>
<ul>
<li><a href="#t-usertraderecords">用户成交记录</a> [更新]

<ul>
<li>新增请求参数<code>order</code></li>
</ul></li>
<li><a href="#t-key">APIKey信息</a> [bugfix]

<ul>
<li>修复某些情况下<code>inviter_id</code>总是为0的bug</li>
</ul></li>
</ul>
<h2 id='2020-04-27'>2020-04-27</h2><h3 id='rest-api-23'>REST API</h3>
<ul>
<li><a href="#t-lcp">流动性贡献分</a> [新增]</li>
<li><a href="#t-latestsymbolinfo">合约最新信息</a> [更新]

<ul>
<li>默认返回值中增加<code>BTCUSDT</code></li>
</ul></li>
</ul>
<h2 id='2020-04-17'>2020-04-17</h2><h3 id='rest-api-24'>REST API</h3>
<ul>
<li><a href="#t-orderbook">Orderbook</a> [更新]

<ul>
<li>新增 <code>BTCUSDT</code> 至orderbook</li>
</ul></li>
<li><a href="#t-latestsymbolinfo">合约最新信息</a> [更新]

<ul>
<li>新增 <code>BTCUSDT</code> 至合约最新信息</li>
</ul></li>
<li><a href="#t-usertraderecords">用户成交记录</a> [更新]

<ul>
<li>新增 <code>trade_time_ms</code> 字段</li>
<li>更新请求参数 <code>start_time</code> 支持毫秒</li>
<li>废弃返回参数 <code>trade_time</code></li>
</ul></li>
</ul>
<h2 id='2020-04-14'>2020-04-14</h2><h3 id='rest-api-25'>REST API</h3>
<ul>
<li><a href="#t-querysymbol">查询合约信息</a> [更新]

<ul>
<li>更新 <code>BTCUSDT</code> 合约信息</li>
</ul></li>
</ul>
<h2 id='2020-03-31'>2020-03-31</h2><h3 id='rest-api-26'>REST API</h3>
<ul>
<li><a href="#t-balance">获取钱包余额</a> [更新]

<ul>
<li>修复<code>USDT</code>资产不准确的bug</li>
</ul></li>
</ul>
<h2 id='2020-03-26'>2020-03-26</h2><h3 id='rest-api-27'>REST API</h3>
<ul>
<li><a href="#t-tradingstop">设置止盈止损</a> [更新]

<ul>
<li>针对追踪止损订单增加了触发价格 <code>new_trailing_active</code>.</li>
</ul></li>
</ul>
<h2 id='2020-03-16'>2020-03-16</h2><h3 id='rest-api-28'>REST API</h3>
<ul>
<li><a href="#t-position">持仓</a> [更新]

<ul>
<li>返回新增字段<code>effective_leverage</code></li>
</ul></li>
<li><a href="#t-balance">获取钱包余额</a> [更新]

<ul>
<li>修复<code>USDT</code>资产字段<code>equity</code>值总是为0的bug</li>
</ul></li>
</ul>
<h2 id='2020-03-09'>2020-03-09</h2><h3 id='rest-api-29'>REST API</h3>
<ul>
<li><a href="#t-usertraderecords">用户成交记录</a> [更新]

<ul>
<li>symbol是必填参数</li>
</ul></li>
<li><a href="#t-key">APIKey信息</a> [更新]

<ul>
<li>返回结果中新增 <code>inviter_id</code></li>
</ul></li>
</ul>
<h2 id='2020-03-02'>2020-03-02</h2><h3 id='websocket-api-4'>Websocket API</h3>
<ul>
<li><a href="#t-websockettrade">平台成交</a> [更新]

<ul>
<li>增加毫秒成交时间 <code>trade_time_ms</code></li>
</ul></li>
</ul>
<h2 id='2020-02-26'>2020-02-26</h2><h3 id='rest-api-30'>REST API</h3>
<ul>
<li><a href="#t-placeactive">创建活动委托单</a>

<ul>
<li>下单接口的参数列表删除 <code>trailing_stop</code> 字段. 这个字段目前是无效的.</li>
</ul></li>
</ul>
<h2 id='2020-02-10'>2020-02-10</h2><h3 id='rest-api-31'>REST API</h3>
<ul>
<li><a href="#t-balance">获取钱包余额</a> [新增]</li>
<li><a href="#t-replaceactive">修改活动单信息</a> [更新]

<ul>
<li>返回结果中增加<code>order_id</code></li>
</ul></li>
<li><a href="#t-replacecond">修改条件委托单</a> [更新]

<ul>
<li>返回结果中增加 <code>stop_order_id</code></li>
<li>为了和其他接口保持统一，新增请求参数<code>stop_order_id</code>，替换调原来的参数 <code>order_id</code></li>
</ul></li>
<li>修复V2私有接口返回值中<code>rate_limit_reset_ms</code>单位问题，将原来的微妙改为毫秒，和V1接口保持一致 [bugfix]</li>
</ul>
<h2 id='2019-12-27'>2019-12-27</h2><h3 id='rest-api-32'>REST API</h3>
<ul>
<li><a href="#t-setrisklimit">设置风险限额</a> [新增]</li>
<li><a href="#t-getrisklimit">查询风险限额表</a> [新增]</li>
</ul>
<h2 id='2019-12-18'>2019-12-18</h2><h3 id='rest-api-33'>REST API</h3>
<ul>
<li><a href="#t-myposition">获取持仓（实时）</a> [新增]</li>
</ul>
<h3 id='websocket-api-5'>Websocket API</h3>
<ul>
<li><a href="#t-websocketorderbook200">orderBook200档</a> [新增]</li>
</ul>
<h2 id='2019-12-13'>2019-12-13</h2><h3 id='rest-api-34'>REST API</h3>
<ul>
<li><a href="#t-querycond">实时查询条件委托</a> [新增]</li>
</ul>
<h2 id='2019-12-02'>2019-12-02</h2><h3 id='rest-api-35'>REST API</h3>
<ul>
<li><a href="#t-placeactive">创建活动委托单</a> [新增]</li>
<li><a href="#t-cancelactive">撤销活动委托单</a> [新增]</li>
<li><a href="#t-cancelallactive">撤销所有活动委托单</a> [新增]</li>
<li><a href="#t-cancelallcond">撤消全部条件委托单</a> [新增]</li>
</ul>
<h2 id='2019-11-19'>2019-11-19</h2><h3 id='rest-api-36'>REST API</h3>
<ul>
<li><a href="#t-publictradingrecords">平台交易历史数据</a> [新增]</li>
</ul>
<h2 id='2019-11-07'>2019-11-07</h2><h3 id='rest-api-37'>REST API</h3>
<ul>
<li><a href="#t-setleverage">修改杠杆</a> [更新]</li>
<li>[我的持仓] [更新]</li>
<li><a href="#t-changemargin">更新保证金</a> [更新]</li>
<li><a href="#t-tradingstop">设置止盈止损</a> [更新]</li>
</ul>
<h2 id='2019-11-04'>2019-11-04</h2><h3 id='rest-api-38'>REST API</h3>
<ul>
<li><a href="#t-announcement">公告</a> [新增]</li>
<li><a href="#t-cancelactive">撤销活动单</a> [更新]

<ul>
<li>支持根据<code>order_link_id</code>撤销活动单</li>
</ul></li>
<li><a href="#t-cancelcond">撤消条件委托单</a> [更新]

<ul>
<li>支持根据<code>order_link_id</code>撤销条件单</li>
</ul></li>
<li><a href="#t-key">APIKey信息</a> [更新]

<ul>
<li>添加额外字段</li>
<li>更新 <code>ips</code> 字段返回内容</li>
</ul></li>
<li><a href="#t-ratelimits">更新REST API频率限制</a> [更新]

<ul>
<li>频率限制精确到毫秒</li>
<li>细化接口的频率限制</li>
<li>返回值中新增字段: <code>rate_limit_reset_ms</code>, <code>rate_limit</code>
</li>
</ul></li>
</ul>
<h3 id='websocket-api-6'>Websocket API</h3>
<ul>
<li><a href="#t-websocketklinev2">K线</a> [新增]</li>
<li><a href="#t-websocketstoporder">条件单</a> [新增]</li>
</ul>
<h2 id='2019-10-22'>2019-10-22</h2><h3 id='rest-api-39'>REST API</h3>
<ul>
<li><a href="#t-queryactive">实时查询活动委托</a> [新增]</li>
</ul>
<h3 id='websocket-api-7'>Websocket API</h3>
<ul>
<li><a href="#t-websocketposition">持仓</a> [更新]

<ul>
<li>添加了额外字段，如<code>wallet_balance</code></li>
</ul></li>
<li><a href="#t-websockettrade">平台成交</a> [更新]

<ul>
<li>修复重复推送交易数据的问题</li>
<li>现在支持在一个消息中推送多条交易</li>
</ul></li>
</ul>
<h1 id='t-authentication'>鉴权/认证</h1>
<aside class="notice">
请先生成<a href="https://testnet.bybit.com/app/user/api-management"><b>测试网</b></a> 或 <a href="https://www.bybit.com/app/user/api-management"<b>主网</b></a>API KEY。
</aside>

<aside class="notice">
REST接口根URL:
<ul>
<p>
  <li>测试网:<br/>
    <span id="testnet">https://api-testnet.bybit.com</span>
    <button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#testnet"><img src="../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button>
  </li>
</p>
<p>
  <li>主网(请根据您的网络情况选择以下任意一个地址使用):<br/>
    <span id="mainnet_1">https://api.bybit.com</span>
    <button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#mainnet_1"><img src="../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button>
    <br/>
    <span id="mainnet_2">https://api.bytick.com</span>
    <button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#mainnet_2"><img src="../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button>
  </li>
</p>
</ul>

</aside>

<p><p>所有<b>private</b>接口都需要认证，<b>public</b> 接口不需要认证。</p></p>
<h2 id='t-authenticationparameters'>公共参数</h2>
<p>需要签名的接口必须包含以下参数:
<ul>
  <li><b>api_key</b></li>
  <li><b>timestamp</b> - UTC<b>毫秒</b>时间戳</li>
  <li><b>sign</b> - 请求参数签名</li>
</ul>
</p>

<p>另外我们提供可选的<code>recv_window</code>参数（单位是毫秒，默认值为<code>5000</code>），来指定请求在多长时间内有效，同时用来防止重放攻击。
</p>

<aside class="warning">
注意，timestamp参数必须符合如下规则: <b>server_time - recv_window <= timestamp < server_time + 1000</b>，其中server_time是Bybit服务器时间，您可以通过<a href="#t-servertime">服务器时间接口</a>获取。

</aside>
<h2 id='t-constructingtherequest'>构建请求</h2>
<blockquote>
<p>拼接参数示例（以修改杠杆接口为例）：</p>
</blockquote>
<div class="highlight"><pre class="highlight python tab-python"><code><span class="n">param_str</span> <span class="o">=</span> <span class="s">"api_key=B2Rou0PLPpGqcU0Vu2&amp;leverage=100&amp;symbol=BTCUSD&amp;timestamp=1542434791747"</span>

<span class="c1"># api_key=B2Rou0PLPpGqcU0Vu2&amp;
# leverage=100&amp;
# symbol=BTCUSD&amp;
# timestamp=1542434791747
</span></code></pre></div>
<blockquote>
<p>参数按照 <b>字母顺序</b> 排列，然后计算<code>sign</code>。</p>
</blockquote>

<p><p>1. 所有参数按照字母顺序排序，然后按照<a href="https://en.wikipedia.org/wiki/Query_string">query string</a>格式拼接。</p>
<div></div></p>

<p><p>2. 使用<code>HMAC_SHA256</code>算法对第1步中拼接的query string签名，并转换为16进制字符串，得出<code>sign</code>参数。</p></p>

<blockquote>
<p><b>GET</b>请求格式（查询杠杆）:
</p>
</blockquote>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">GET</span> <span class="nn">/v2/private/order?symbol=BTCUSD&amp;api_key=B2Rou0PLPpGqcU0Vu2&amp;timestamp=1542434791000&amp;sign=670e3e4aa32b243f2dedf1dafcec2fd17a440e71b05681550416507de591d908</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api-testnet.bybit.com</span>
</code></pre></div>
<blockquote>
<p><b>POST</b>请求格式（修改杠杆）:
</p>
</blockquote>
<div class="highlight"><pre class="highlight http tab-http"><code><span class="nf">POST</span> <span class="nn">/v2/private/order/cancel</span> <span class="k">HTTP</span><span class="o">/</span><span class="m">1.1</span>
<span class="na">Host</span><span class="p">:</span> <span class="s">api-testnet.bybit.com</span>
<span class="na">Content-Type</span><span class="p">:</span> <span class="s">application/json</span>

<span class="p">{</span><span class="w">
    </span><span class="nl">"api_key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"B2Rou0PLPpGqcU0Vu2"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTCUSD"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"order_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3bd1844f-f3c0-4e10-8c25-10fea03763f6"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1542434791000</span><span class="p">,</span><span class="w">
    </span><span class="nl">"sign"</span><span class="p">:</span><span class="w"> </span><span class="s2">"670e3e4aa32b243f2dedf1dafcec2fd17a440e71b05681550416507de591d908"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><p>3. 将<code>sign</code>参数加到请求参数中即可；注意<code>GET</code>和<code>POST</code>请求参数格式不同，详见右边示例。</p></p>

<aside class="notice">
<a href="https://github.com/bybit-exchange/api-connectors/tree/master/encryption_example">签名计算示例</a>.
</aside>

<!--
### Examples of the Signature Algorithm

* [C#](https://github.com/bybit-exchange/bybit-official-api-docs/blob/master/en/example/Encryption.cs)
* [Python](https://github.com/bybit-exchange/bybit-official-api-docs/blob/master/en/example/Encryption.py)
* [C++](https://github.com/bybit-exchange/bybit-official-api-docs/blob/master/en/example/Encryption.cpp)
* [Go](https://github.com/bybit-exchange/bybit-official-api-docs/blob/master/en/example/Encryption.go)
* [PHP](https://github.com/bybit-exchange/bybit-official-api-docs/blob/master/en/example/Encryption.php)
-->

<script>
function copyStringToClipboard (endpoint) {
  var str = document.getElementById(endpoint).innerText;
  // remove whitespace
  var str = str.replace(/ /g,"");
  // Create new element
  var el = document.createElementranslation missing: zh-cn.textarea;
  // Set value (string to be copied)
  el.value = str;
  // Set non-editable to avoid focus and move outside of view
  el.setAttribute("readonly", "");
  el.style = {position: "absolute", left: "-9999px"};
  document.body.appendChild(el);
  // Select text inside element
  el.select();
  // Copy text to clipboard
  document.execCommand("copy");
  // Remove temporary element
  document.body.removeChild(el);
}
</script>
<h1 id='t-marketdata'>行情接口</h1>
<p>以下市场行情数据接口不需要验权.</p>
<h3 id='t-orderbook'>Orderbook</h3>
<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight console tab-console"><code><span class="go">curl https://api.bybit.com/v2/public/orderBook/L2?symbol=BTCUSD
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">bybit</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">bybit</span><span class="p">.</span><span class="n">bybit</span><span class="p">(</span><span class="n">test</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">api_key</span><span class="o">=</span><span class="s">"api_key"</span><span class="p">,</span> <span class="n">api_secret</span><span class="o">=</span><span class="s">"api_secret"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">client</span><span class="p">.</span><span class="n">Market</span><span class="p">.</span><span class="n">Market_orderbook</span><span class="p">(</span><span class="n">symbol</span><span class="o">=</span><span class="s">"BTCUSD"</span><span class="p">).</span><span class="n">result</span><span class="p">())</span>
</code></pre></div>
<blockquote>
<p>响应示例</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">ret_code</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>                              <span class="c1">// return code</span>
    <span class="dl">"</span><span class="s2">ret_msg</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">OK</span><span class="dl">"</span><span class="p">,</span>                            <span class="c1">// error message</span>
    <span class="dl">"</span><span class="s2">ext_code</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>                             <span class="c1">// additional error code</span>
    <span class="dl">"</span><span class="s2">ext_info</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>                             <span class="c1">// additional error info</span>
    <span class="dl">"</span><span class="s2">result</span><span class="dl">"</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="dl">"</span><span class="s2">symbol</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">BTCUSD</span><span class="dl">"</span><span class="p">,</span>                 <span class="c1">// symbol</span>
            <span class="dl">"</span><span class="s2">price</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">9487</span><span class="dl">"</span><span class="p">,</span>                    <span class="c1">// price</span>
            <span class="dl">"</span><span class="s2">size</span><span class="dl">"</span><span class="p">:</span> <span class="mi">336241</span><span class="p">,</span>                     <span class="c1">// size (in USD contracts)</span>
            <span class="dl">"</span><span class="s2">side</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Buy</span><span class="dl">"</span>                       <span class="c1">// side</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="dl">"</span><span class="s2">symbol</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">BTCUSD</span><span class="dl">"</span><span class="p">,</span>                 <span class="c1">// symbol</span>
            <span class="dl">"</span><span class="s2">price</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">9487.5</span><span class="dl">"</span><span class="p">,</span>                  <span class="c1">// price</span>
            <span class="dl">"</span><span class="s2">size</span><span class="dl">"</span><span class="p">:</span> <span class="mi">522147</span><span class="p">,</span>                     <span class="c1">// size (in USD contracts)</span>
            <span class="dl">"</span><span class="s2">side</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Sell</span><span class="dl">"</span>                      <span class="c1">// side</span>
        <span class="p">}</span>
    <span class="p">],</span>
    <span class="dl">"</span><span class="s2">time_now</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1567108756.834357</span><span class="dl">"</span>             <span class="c1">// UTC timestamp</span>
<span class="p">}</span>
</code></pre></div>
<p>获取Bybit当前Orderbook信息.</p>

<aside class="notice">
响应数据是当前时间的切片数据.
</aside>

<p class="fake_header">HTTP 请求</p>

<p>GET
<code><span id=vpoL2>/v2/public/orderBook/L2</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#vpoL2"><img src="../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button></p>

<p class="fake_header">请求参数</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left"><b>true</b></td>
<td style="text-align: left">string</td>
<td>合约类型</td>
</tr>
</tbody></table>

<p class="fake_header">返回参数</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left">string</td>
<td>合约类型</td>
</tr>
<tr>
<td style="text-align: left">price</td>
<td style="text-align: left">string</td>
<td>委托价格</td>
</tr>
<tr>
<td style="text-align: left">size</td>
<td style="text-align: left">integer</td>
<td>合约数量</td>
</tr>
<tr>
<td style="text-align: left"><a href="#side-side">side</a></td>
<td style="text-align: left">string</td>
<td>方向</td>
</tr>
</tbody></table>
<h3 id='t-querykline'>查询K线数据</h3>
<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight console tab-console"><code><span class="go">curl https://api.bybit.com/v2/public/kline/list?symbol=BTCUSD&amp;interval=1&amp;limit=2&amp;from=1581231260
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">bybit</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">bybit</span><span class="p">.</span><span class="n">bybit</span><span class="p">(</span><span class="n">test</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">api_key</span><span class="o">=</span><span class="s">"api_key"</span><span class="p">,</span> <span class="n">api_secret</span><span class="o">=</span><span class="s">"api_secret"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">client</span><span class="p">.</span><span class="n">Kline</span><span class="p">.</span><span class="n">Kline_get</span><span class="p">(</span><span class="n">symbol</span><span class="o">=</span><span class="s">"BTCUSD"</span><span class="p">,</span> <span class="n">interval</span><span class="o">=</span><span class="s">"m"</span><span class="p">,</span> <span class="o">**</span><span class="p">{</span><span class="s">'from'</span><span class="p">:</span><span class="mi">1581231260</span><span class="p">}).</span><span class="n">result</span><span class="p">())</span>
</code></pre></div>
<blockquote>
<p>响应示例</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">ret_code</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ret_msg</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">OK</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_code</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_info</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">result</span><span class="dl">"</span><span class="p">:</span> <span class="p">[{</span>
        <span class="dl">"</span><span class="s2">symbol</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">BTCUSD</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">interval</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">open_time</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1581231300</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">open</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">10112.5</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">high</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">10112.5</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">low</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">10112</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">close</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">10112</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">volume</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">75981</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">turnover</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">7.51394369</span><span class="dl">"</span>
    <span class="p">},</span> <span class="p">{</span>
        <span class="dl">"</span><span class="s2">symbol</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">BTCUSD</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">interval</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">open_time</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1581231360</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">open</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">10112</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">high</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">10112.5</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">low</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">10112</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">close</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">10112</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">volume</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">24616</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">turnover</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2.4343353100000003</span><span class="dl">"</span>
    <span class="p">}],</span>
    <span class="dl">"</span><span class="s2">time_now</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1581928016.558522</span><span class="dl">"</span>
<span class="p">}</span>
</code></pre></div>
<p>查询K线数据</p>

<p class="fake_header">HTTP 请求</p>

<p>GET
<code><span id=vpkList>/v2/public/kline/list</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#vpkList"><img src="../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button></p>

<p class="fake_header">请求参数</p>

<table><thead>
<tr>
<th style="text-align: left">parameter</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left"><b>true</b></td>
<td style="text-align: left">string</td>
<td>合约类型</td>
</tr>
<tr>
<td style="text-align: left">interval</td>
<td style="text-align: left"><b>true</b></td>
<td style="text-align: left">string</td>
<td>数据更新频率. 枚举值： 1 3 5 15 30 60 120 240 360 720 "D" "M" "W"</td>
</tr>
<tr>
<td style="text-align: left">from</td>
<td style="text-align: left"><b>true</b></td>
<td style="text-align: left">integer</td>
<td>起始时间戳（单位秒）</td>
</tr>
<tr>
<td style="text-align: left">limit</td>
<td style="text-align: left">false</td>
<td style="text-align: left">integer</td>
<td>每页数量, 最大200. 默认每页200条</td>
</tr>
</tbody></table>

<p class="fake_header">返回参数</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left">string</td>
<td>合约类型</td>
</tr>
<tr>
<td style="text-align: left">interval</td>
<td style="text-align: left">string</td>
<td>数据更新频率. 枚举值： 1 3 5 15 30 60 120 240 360 720 "D" "M" "W"</td>
</tr>
<tr>
<td style="text-align: left">open_time</td>
<td style="text-align: left">integer</td>
<td>开始时间</td>
</tr>
<tr>
<td style="text-align: left">open</td>
<td style="text-align: left">string</td>
<td>开始价格</td>
</tr>
<tr>
<td style="text-align: left">high</td>
<td style="text-align: left">string</td>
<td>最高价格</td>
</tr>
<tr>
<td style="text-align: left">low</td>
<td style="text-align: left">string</td>
<td>最低价格</td>
</tr>
<tr>
<td style="text-align: left">close</td>
<td style="text-align: left">string</td>
<td>结束价格</td>
</tr>
<tr>
<td style="text-align: left">volume</td>
<td style="text-align: left">string</td>
<td>交易量</td>
</tr>
<tr>
<td style="text-align: left">turnover</td>
<td style="text-align: left">string</td>
<td>成交金额</td>
</tr>
</tbody></table>
<h3 id='t-latestsymbolinfo'>合约最新信息</h3>
<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight console tab-console"><code><span class="go">curl https://api.bybit.com/v2/public/tickers
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">bybit</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">bybit</span><span class="p">.</span><span class="n">bybit</span><span class="p">(</span><span class="n">test</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">api_key</span><span class="o">=</span><span class="s">"api_key"</span><span class="p">,</span> <span class="n">api_secret</span><span class="o">=</span><span class="s">"api_secret"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">client</span><span class="p">.</span><span class="n">Market</span><span class="p">.</span><span class="n">Market_symbolInfo</span><span class="p">().</span><span class="n">result</span><span class="p">())</span>
</code></pre></div>
<blockquote>
<p>响应示例</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">ret_code</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ret_msg</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">OK</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_code</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_info</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">result</span><span class="dl">"</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="dl">"</span><span class="s2">symbol</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">BTCUSD</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">bid_price</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">7230</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">ask_price</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">7230.5</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">last_price</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">7230.00</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">last_tick_direction</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">ZeroMinusTick</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">prev_price_24h</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">7163.00</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">price_24h_pcnt</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0.009353</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">high_price_24h</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">7267.50</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">low_price_24h</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">7067.00</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">prev_price_1h</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">7209.50</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">price_1h_pcnt</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0.002843</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">mark_price</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">7230.31</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">index_price</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">7230.14</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">open_interest</span><span class="dl">"</span><span class="p">:</span> <span class="mi">117860186</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">open_value</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">16157.26</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">total_turnover</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">3412874.21</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">turnover_24h</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">10864.63</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">total_volume</span><span class="dl">"</span><span class="p">:</span> <span class="mi">28291403954</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">volume_24h</span><span class="dl">"</span><span class="p">:</span> <span class="mi">78053288</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">funding_rate</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0.0001</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">predicted_funding_rate</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0.0001</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">next_funding_time</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2019-12-28T00:00:00Z</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">countdown_hour</span><span class="dl">"</span><span class="p">:</span> <span class="mi">2</span>
        <span class="p">}</span>
    <span class="p">],</span>
    <span class="dl">"</span><span class="s2">time_now</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1577484619.817968</span><span class="dl">"</span>
<span class="p">}</span>
</code></pre></div>
<p>获取Bybit的最新合约信息</p>

<p class="fake_header">HTTP 请求</p>

<p>GET
<code><span id=vpTickers>/v2/public/tickers</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#vpTickers"><img src="../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button></p>

<p class="fake_header">请求参数</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>合约类型</td>
</tr>
</tbody></table>

<p class="fake_header">返回参数</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">symbol</td>
<td style="text-align: left">string</td>
<td>合约类型</td>
</tr>
<tr>
<td style="text-align: left">bid_price</td>
<td style="text-align: left">string</td>
<td>第一笔挂单买入价</td>
</tr>
<tr>
<td style="text-align: left">ask_price</td>
<td style="text-align: left">string</td>
<td>第一笔挂单卖出价</td>
</tr>
<tr>
<td style="text-align: left">last_price</td>
<td style="text-align: left">string</td>
<td>最新成交价</td>
</tr>
<tr>
<td style="text-align: left">last_tick_direction</td>
<td style="text-align: left">string</td>
<td><a href="#tick-direction-type-tick_direction">价格波动方向枚举</a></td>
</tr>
<tr>
<td style="text-align: left">prev_price_24h</td>
<td style="text-align: left">string</td>
<td>24小时前的整点市价</td>
</tr>
<tr>
<td style="text-align: left">price_24h_pcnt</td>
<td style="text-align: left">string</td>
<td>市价相对24h变化百分比</td>
</tr>
<tr>
<td style="text-align: left">high_price_24h</td>
<td style="text-align: left">string</td>
<td>最近 24 小时最高价</td>
</tr>
<tr>
<td style="text-align: left">low_price_24h</td>
<td style="text-align: left">string</td>
<td>最近 24 小时最低价</td>
</tr>
<tr>
<td style="text-align: left">prev_price_1h</td>
<td style="text-align: left">string</td>
<td>1小时前的整点市价</td>
</tr>
<tr>
<td style="text-align: left">price_1h_pcnt</td>
<td style="text-align: left">string</td>
<td>市价相对1小时前变化百分比</td>
</tr>
<tr>
<td style="text-align: left">mark_price</td>
<td style="text-align: left">string</td>
<td>标记价格</td>
</tr>
<tr>
<td style="text-align: left">index_price</td>
<td style="text-align: left">string</td>
<td>指数价格</td>
</tr>
<tr>
<td style="text-align: left">open_interest</td>
<td style="text-align: left">number</td>
<td>未平仓合约数量</td>
</tr>
<tr>
<td style="text-align: left">open_value</td>
<td style="text-align: left">string</td>
<td>未平仓价值</td>
</tr>
<tr>
<td style="text-align: left">total_turnover</td>
<td style="text-align: left">string</td>
<td>总营业额</td>
</tr>
<tr>
<td style="text-align: left">turnover_24h</td>
<td style="text-align: left">string</td>
<td>24小时营业额</td>
</tr>
<tr>
<td style="text-align: left">total_volume</td>
<td style="text-align: left">number</td>
<td>总交易量</td>
</tr>
<tr>
<td style="text-align: left">volume_24h</td>
<td style="text-align: left">number</td>
<td>最近 24 小时成交量</td>
</tr>
<tr>
<td style="text-align: left">funding_rate</td>
<td style="text-align: left">string</td>
<td>资金费率</td>
</tr>
<tr>
<td style="text-align: left">predicted_funding_rate</td>
<td style="text-align: left">string</td>
<td>预测资金费率</td>
</tr>
<tr>
<td style="text-align: left">next_funding_time</td>
<td style="text-align: left">string</td>
<td>下次结算资金费用时间</td>
</tr>
<tr>
<td style="text-align: left">countdown_hour</td>
<td style="text-align: left">number</td>
<td>结算资金费用剩余时间</td>
</tr>
</tbody></table>
<h3 id='t-publictradingrecords'>平台交易历史数据</h3>
<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight console tab-console"><code><span class="go">curl https://api.bybit.com/v2/public/trading-records?symbol=BTCUSD
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">bybit</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">bybit</span><span class="p">.</span><span class="n">bybit</span><span class="p">(</span><span class="n">test</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">api_key</span><span class="o">=</span><span class="s">"api_key"</span><span class="p">,</span> <span class="n">api_secret</span><span class="o">=</span><span class="s">"api_secret"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">client</span><span class="p">.</span><span class="n">Market</span><span class="p">.</span><span class="n">Market_tradingRecords</span><span class="p">(</span><span class="n">symbol</span><span class="o">=</span><span class="s">"BTCUSD"</span><span class="p">).</span><span class="n">result</span><span class="p">())</span>
</code></pre></div>
<blockquote>
<p>响应示例</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">ret_code</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>                                   <span class="c1">// error code 0 means success</span>
    <span class="dl">"</span><span class="s2">ret_msg</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">OK</span><span class="dl">"</span><span class="p">,</span>                                 <span class="c1">// error message</span>
    <span class="dl">"</span><span class="s2">ext_code</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_info</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">result</span><span class="dl">"</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="dl">"</span><span class="s2">id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">7724919</span><span class="p">,</span>                                   <span class="c1">// ID</span>
            <span class="dl">"</span><span class="s2">symbol</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">BTCUSD</span><span class="dl">"</span><span class="p">,</span>                             <span class="c1">// contract type</span>
            <span class="dl">"</span><span class="s2">price</span><span class="dl">"</span><span class="p">:</span> <span class="mf">9499.5</span><span class="p">,</span>                                <span class="c1">// execution price</span>
            <span class="dl">"</span><span class="s2">qty</span><span class="dl">"</span><span class="p">:</span> <span class="mi">9500</span><span class="p">,</span>                                    <span class="c1">// execution quantity</span>
            <span class="dl">"</span><span class="s2">side</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Buy</span><span class="dl">"</span><span class="p">,</span>                                  <span class="c1">// side</span>
            <span class="dl">"</span><span class="s2">time</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2019-11-19T08:03:04.077Z</span><span class="dl">"</span>              <span class="c1">// UTC time</span>
        <span class="p">}</span>
    <span class="p">],</span>
    <span class="dl">"</span><span class="s2">time_now</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1567109419.049271</span><span class="dl">"</span>
<span class="p">}</span>
</code></pre></div>
<p>获取Bybit的最近成交数据。如果您想获取历史所有的成交记录，请通过<a href="https://public.bybit.com">这里</a>下载历史行情。</p>

<p class="fake_header">HTTP 请求</p>

<p>GET
<code><span id=vpTradingRecords>/v2/public/trading-records</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#vpTradingRecords"><img src="../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button></p>

<p class="fake_header">请求参数</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left"><b>true</b></td>
<td style="text-align: left">string</td>
<td>合约类型</td>
</tr>
<tr>
<td style="text-align: left">from</td>
<td style="text-align: left">false</td>
<td style="text-align: left">int</td>
<td>起始ID. 默认: 返回最新数据
</td>
</tr>
<tr>
<td style="text-align: left">limit</td>
<td style="text-align: left">false</td>
<td style="text-align: left">int</td>
<td>默认返回500条数据. 最大返回1000条数据</td>
</tr>
</tbody></table>

<p class="fake_header">返回参数</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">id</td>
<td style="text-align: left">number</td>
<td>最新数据ID</td>
</tr>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left">string</td>
<td>合约类型</td>
</tr>
<tr>
<td style="text-align: left">price</td>
<td style="text-align: left">number</td>
<td>交易价格</td>
</tr>
<tr>
<td style="text-align: left"><a href="#quantity-qty">qty</a></td>
<td style="text-align: left">number</td>
<td>交易数量</td>
</tr>
<tr>
<td style="text-align: left"><a href="#side-side">side</a></td>
<td style="text-align: left">string</td>
<td>方向</td>
</tr>
<tr>
<td style="text-align: left">time</td>
<td style="text-align: left">string</td>
<td>UTC 时间</td>
</tr>
</tbody></table>
<h3 id='t-querysymbol'>查询合约信息</h3>
<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight console tab-console"><code><span class="go">curl https://api.bybit.com/v2/public/symbols
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">bybit</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">bybit</span><span class="p">.</span><span class="n">bybit</span><span class="p">(</span><span class="n">test</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">api_key</span><span class="o">=</span><span class="s">"api_key"</span><span class="p">,</span> <span class="n">api_secret</span><span class="o">=</span><span class="s">"api_secret"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">client</span><span class="p">.</span><span class="n">Symbol</span><span class="p">.</span><span class="n">Symbol_get</span><span class="p">().</span><span class="n">result</span><span class="p">())</span>
</code></pre></div>
<blockquote>
<p>响应示例</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">ret_code</span><span class="dl">"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ret_msg</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">OK</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_code</span><span class="dl">"</span><span class="p">:</span><span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_info</span><span class="dl">"</span><span class="p">:</span><span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">result</span><span class="dl">"</span><span class="p">:[</span>
        <span class="p">{</span>
            <span class="dl">"</span><span class="s2">name</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">BTCUSD</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">alias</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">BTCUSD</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">status</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">Trading</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">base_currency</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">BTC</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">quote_currency</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">USD</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">price_scale</span><span class="dl">"</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">taker_fee</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">0.00075</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">maker_fee</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">-0.00025</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">leverage_filter</span><span class="dl">"</span><span class="p">:{</span>
                <span class="dl">"</span><span class="s2">min_leverage</span><span class="dl">"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">max_leverage</span><span class="dl">"</span><span class="p">:</span><span class="mi">100</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">leverage_step</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">0.01</span><span class="dl">"</span>
            <span class="p">},</span>
            <span class="dl">"</span><span class="s2">price_filter</span><span class="dl">"</span><span class="p">:{</span>
                <span class="dl">"</span><span class="s2">min_price</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">0.5</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">max_price</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">999999.5</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">tick_size</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">0.5</span><span class="dl">"</span>
            <span class="p">},</span>
            <span class="dl">"</span><span class="s2">lot_size_filter</span><span class="dl">"</span><span class="p">:{</span>
                <span class="dl">"</span><span class="s2">max_trading_qty</span><span class="dl">"</span><span class="p">:</span><span class="mi">1000000</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">min_trading_qty</span><span class="dl">"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">qty_step</span><span class="dl">"</span><span class="p">:</span><span class="mi">1</span>
            <span class="p">}</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="dl">"</span><span class="s2">name</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">EOSUSD</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">alias</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">EOSUSD</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">status</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">Trading</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">base_currency</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">EOS</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">quote_currency</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">USD</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">price_scale</span><span class="dl">"</span><span class="p">:</span><span class="mi">3</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">taker_fee</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">0.00075</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">maker_fee</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">-0.00025</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">leverage_filter</span><span class="dl">"</span><span class="p">:{</span>
                <span class="dl">"</span><span class="s2">min_leverage</span><span class="dl">"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">max_leverage</span><span class="dl">"</span><span class="p">:</span><span class="mi">50</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">leverage_step</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">0.01</span><span class="dl">"</span>
            <span class="p">},</span>
            <span class="dl">"</span><span class="s2">price_filter</span><span class="dl">"</span><span class="p">:{</span>
                <span class="dl">"</span><span class="s2">min_price</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">0.001</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">max_price</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">1999.999</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">tick_size</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">0.001</span><span class="dl">"</span>
            <span class="p">},</span>
            <span class="dl">"</span><span class="s2">lot_size_filter</span><span class="dl">"</span><span class="p">:{</span>
                <span class="dl">"</span><span class="s2">max_trading_qty</span><span class="dl">"</span><span class="p">:</span><span class="mi">1000000</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">min_trading_qty</span><span class="dl">"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">qty_step</span><span class="dl">"</span><span class="p">:</span><span class="mi">1</span>
            <span class="p">}</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="dl">"</span><span class="s2">name</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">BTCUSDT</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">alias</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">BTCUSDT</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">status</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">Trading</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">base_currency</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">BTC</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">quote_currency</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">USDT</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">price_scale</span><span class="dl">"</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">taker_fee</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">0.00075</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">maker_fee</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">-0.00025</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">leverage_filter</span><span class="dl">"</span><span class="p">:{</span>
                <span class="dl">"</span><span class="s2">min_leverage</span><span class="dl">"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">max_leverage</span><span class="dl">"</span><span class="p">:</span><span class="mi">100</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">leverage_step</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">0.01</span><span class="dl">"</span>
            <span class="p">},</span>
            <span class="dl">"</span><span class="s2">price_filter</span><span class="dl">"</span><span class="p">:{</span>
                <span class="dl">"</span><span class="s2">min_price</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">0.5</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">max_price</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">999999.5</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">tick_size</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">0.5</span><span class="dl">"</span>
            <span class="p">},</span>
            <span class="dl">"</span><span class="s2">lot_size_filter</span><span class="dl">"</span><span class="p">:{</span>
                <span class="dl">"</span><span class="s2">max_trading_qty</span><span class="dl">"</span><span class="p">:</span><span class="mi">100</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">min_trading_qty</span><span class="dl">"</span><span class="p">:</span><span class="mf">0.001</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">qty_step</span><span class="dl">"</span><span class="p">:</span><span class="mf">0.001</span>
            <span class="p">}</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="dl">"</span><span class="s2">name</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">BTCUSDM21</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">alias</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">BTCUSD0625</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">status</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">Trading</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">base_currency</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">BTC</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">quote_currency</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">USD</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">price_scale</span><span class="dl">"</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">taker_fee</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">0.00075</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">maker_fee</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">-0.00025</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">leverage_filter</span><span class="dl">"</span><span class="p">:{</span>
                <span class="dl">"</span><span class="s2">min_leverage</span><span class="dl">"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">max_leverage</span><span class="dl">"</span><span class="p">:</span><span class="mi">100</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">leverage_step</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">0.01</span><span class="dl">"</span>
            <span class="p">},</span>
            <span class="dl">"</span><span class="s2">price_filter</span><span class="dl">"</span><span class="p">:{</span>
                <span class="dl">"</span><span class="s2">min_price</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">0.5</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">max_price</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">999999.5</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">tick_size</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">0.5</span><span class="dl">"</span>
            <span class="p">},</span>
            <span class="dl">"</span><span class="s2">lot_size_filter</span><span class="dl">"</span><span class="p">:{</span>
                <span class="dl">"</span><span class="s2">max_trading_qty</span><span class="dl">"</span><span class="p">:</span><span class="mi">1000000</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">min_trading_qty</span><span class="dl">"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">qty_step</span><span class="dl">"</span><span class="p">:</span><span class="mi">1</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">],</span>
    <span class="dl">"</span><span class="s2">time_now</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">1615801223.589808</span><span class="dl">"</span>
<span class="p">}</span>
</code></pre></div>
<p>获取合约信息.</p>

<p class="fake_header">HTTP 请求</p>

<p>GET
<code><span id=vpSymbols>/v2/public/symbols</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#vpSymbols"><img src="../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button></p>

<p class="fake_header">请求参数</p>

<table><thead>
<tr>
<th style="text-align: left">parameter</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">类型</th>
<th>说明</th>
</tr>
</thead><tbody>
</tbody></table>

<p class="fake_header">返回参数</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">name</td>
<td style="text-align: left">string</td>
<td>合约名称</td>
</tr>
<tr>
<td style="text-align: left">alias</td>
<td style="text-align: left">string</td>
<td>合约名称</td>
</tr>
<tr>
<td style="text-align: left">status</td>
<td style="text-align: left">string</td>
<td><a href="#contract-status-status">合约状态</a></td>
</tr>
<tr>
<td style="text-align: left">base_currency</td>
<td style="text-align: left">string</td>
<td>基础货币</td>
</tr>
<tr>
<td style="text-align: left">quote_currency</td>
<td style="text-align: left">string</td>
<td>报价货币</td>
</tr>
<tr>
<td style="text-align: left">price_scale</td>
<td style="text-align: left">number</td>
<td>价格范围</td>
</tr>
<tr>
<td style="text-align: left">taker_fee</td>
<td style="text-align: left">string</td>
<td>taker 手续费</td>
</tr>
<tr>
<td style="text-align: left">maker_fee</td>
<td style="text-align: left">string</td>
<td>maker 手续费</td>
</tr>
<tr>
<td style="text-align: left">leverage_filter &gt; min_leverage</td>
<td style="text-align: left">number</td>
<td>最小杠杆数</td>
</tr>
<tr>
<td style="text-align: left">leverage_filter &gt; max_leverage</td>
<td style="text-align: left">number</td>
<td>最大杠杆数</td>
</tr>
<tr>
<td style="text-align: left">leverage_filter &gt; leverage_step</td>
<td style="text-align: left">string</td>
<td>杠杆最小增加或减少数量</td>
</tr>
<tr>
<td style="text-align: left">price_filter &gt; min_price</td>
<td style="text-align: left">string</td>
<td>最小价格</td>
</tr>
<tr>
<td style="text-align: left">price_filter &gt; max_price</td>
<td style="text-align: left">string</td>
<td>最大价格</td>
</tr>
<tr>
<td style="text-align: left">price_filter &gt; tick_size</td>
<td style="text-align: left">string</td>
<td>价格最小增加或减少数量</td>
</tr>
<tr>
<td style="text-align: left">lot_size_filter &gt; max_trading_qty</td>
<td style="text-align: left">number</td>
<td>最大交易数量</td>
</tr>
<tr>
<td style="text-align: left">lot_size_filter &gt; min_trading_qty</td>
<td style="text-align: left">number</td>
<td>最小交易数量</td>
</tr>
<tr>
<td style="text-align: left">lot_size_filter &gt; qty_step</td>
<td style="text-align: left">number</td>
<td>合约数量最小单位</td>
</tr>
</tbody></table>
<h3 id='t-query_liqrecords'>查询强平订单数据</h3>
<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight console tab-console"><code><span class="go">curl https://api.bybit.com/v2/public/liq-records?symbol=BTCUSD
</span></code></pre></div>
<blockquote>
<p>响应示例</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">ret_code</span><span class="dl">"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ret_msg</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">OK</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_code</span><span class="dl">"</span><span class="p">:</span><span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_info</span><span class="dl">"</span><span class="p">:</span><span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">result</span><span class="dl">"</span><span class="p">:[</span>
        <span class="p">{</span>
            <span class="dl">"</span><span class="s2">id</span><span class="dl">"</span><span class="p">:</span><span class="mi">2369683</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">qty</span><span class="dl">"</span><span class="p">:</span><span class="mi">155</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">side</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">Buy</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">time</span><span class="dl">"</span><span class="p">:</span><span class="mi">1590030126798</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">symbol</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">BTCUSD</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">price</span><span class="dl">"</span><span class="p">:</span><span class="mi">9444</span>
        <span class="p">}</span>
    <span class="p">],</span>
    <span class="dl">"</span><span class="s2">time_now</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">1590068362.493540</span><span class="dl">"</span>
<span class="p">}</span>
</code></pre></div>
<p>查询强平订单数据，查询范围是最近七天的数据。</p>

<p class="fake_header">HTTP 请求</p>

<p>GET
<code><span id=vpkLiq>/v2/public/liq-records</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#vpkLiq"><img src="../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button></p>

<p class="fake_header">请求参数</p>

<table><thead>
<tr>
<th style="text-align: left">parameter</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left"><b>true</b></td>
<td style="text-align: left">string</td>
<td>合约类型</td>
</tr>
<tr>
<td style="text-align: left">from</td>
<td style="text-align: left">false</td>
<td style="text-align: left">integer</td>
<td>起始ID. 默认: 返回最新数据
</td>
</tr>
<tr>
<td style="text-align: left">limit</td>
<td style="text-align: left">false</td>
<td style="text-align: left">integer</td>
<td>默认返回500条数据. 最大返回1000条数据</td>
</tr>
<tr>
<td style="text-align: left">start_time</td>
<td style="text-align: left">false</td>
<td style="text-align: left">integer</td>
<td>开始时间戳（毫秒）</td>
</tr>
<tr>
<td style="text-align: left">end_time</td>
<td style="text-align: left">false</td>
<td style="text-align: left">integer</td>
<td>结束时间戳（毫秒）</td>
</tr>
</tbody></table>

<p class="fake_header">返回参数</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">id</td>
<td style="text-align: left">number</td>
<td>最新数据ID</td>
</tr>
<tr>
<td style="text-align: left"><a href="#quantity-qty">qty</a></td>
<td style="text-align: left">number</td>
<td>交易数量</td>
</tr>
<tr>
<td style="text-align: left"><a href="#side-side">side</a></td>
<td style="text-align: left">string</td>
<td>强平订单的方向</td>
</tr>
<tr>
<td style="text-align: left">time</td>
<td style="text-align: left">number</td>
<td>毫秒时间戳</td>
</tr>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left">string</td>
<td>合约类型</td>
</tr>
<tr>
<td style="text-align: left">price</td>
<td style="text-align: left">number</td>
<td>交易价格</td>
</tr>
</tbody></table>
<h3 id='t-markpricekline'>标记价格K线</h3>
<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight console tab-console"><code><span class="go">curl "https://api.bybit.com/v2/public/mark-price-kline?symbol=BTCUSD&amp;interval=1&amp;limit=2&amp;from=1581231260"
</span></code></pre></div>
<blockquote>
<p>响应示例</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code>
<span class="p">{</span>
    <span class="dl">"</span><span class="s2">ret_code</span><span class="dl">"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ret_msg</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">OK</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_code</span><span class="dl">"</span><span class="p">:</span><span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_info</span><span class="dl">"</span><span class="p">:</span><span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">result</span><span class="dl">"</span><span class="p">:[</span>
        <span class="p">{</span>
            <span class="dl">"</span><span class="s2">id</span><span class="dl">"</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">symbol</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">BTCUSD</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">period</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">1</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">start_at</span><span class="dl">"</span><span class="p">:</span><span class="mi">1582231260</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">open</span><span class="dl">"</span><span class="p">:</span><span class="mi">100</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">high</span><span class="dl">"</span><span class="p">:</span><span class="mi">120</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">low</span><span class="dl">"</span><span class="p">:</span><span class="mi">88</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">close</span><span class="dl">"</span><span class="p">:</span><span class="mi">115</span>
        <span class="p">}</span>
    <span class="p">],</span>
    <span class="dl">"</span><span class="s2">time_now</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">1591263582.601795</span><span class="dl">"</span>
<span class="p">}</span>
</code></pre></div>
<p>查询标记价格K线</p>

<p class="fake_header">HTTP 请求</p>

<p>GET
<code><span id=plmpk>/v2/public/mark-price-kline</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#plmpk"><img src="../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button></p>

<p class="fake_header">请求参数</p>

<table><thead>
<tr>
<th style="text-align: left">parameter</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left"><b>true</b></td>
<td style="text-align: left">string</td>
<td>合约类型</td>
</tr>
<tr>
<td style="text-align: left">interval</td>
<td style="text-align: left"><b>true</b></td>
<td style="text-align: left">string</td>
<td>数据更新频率. 枚举值： 1 3 5 15 30 60 120 240 360 720 "D" "M" "W"</td>
</tr>
<tr>
<td style="text-align: left">from</td>
<td style="text-align: left"><b>true</b></td>
<td style="text-align: left">integer</td>
<td>起始时间戳（单位秒）</td>
</tr>
<tr>
<td style="text-align: left">limit</td>
<td style="text-align: left">false</td>
<td style="text-align: left">integer</td>
<td>最大200. 默认每页200条</td>
</tr>
</tbody></table>

<p class="fake_header">返回参数</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">symbol</td>
<td style="text-align: left">string</td>
<td>合约类型</td>
</tr>
<tr>
<td style="text-align: left">period</td>
<td style="text-align: left">string</td>
<td>数据记录周期. 5min 15min 30min 1h 4h 1d</td>
</tr>
<tr>
<td style="text-align: left">start_at</td>
<td style="text-align: left">integer</td>
<td>开始时间戳（秒）</td>
</tr>
<tr>
<td style="text-align: left">open</td>
<td style="text-align: left">integer</td>
<td>开始价格</td>
</tr>
<tr>
<td style="text-align: left">high</td>
<td style="text-align: left">integer</td>
<td>最高价格</td>
</tr>
<tr>
<td style="text-align: left">low</td>
<td style="text-align: left">integer</td>
<td>最低价格</td>
</tr>
<tr>
<td style="text-align: left">close</td>
<td style="text-align: left">integer</td>
<td>结束价格</td>
</tr>
</tbody></table>
<h3 id='t-queryindexpricekline'>查询指数价格K线数据</h3>
<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight console tab-console"><code><span class="go">curl "https://api.bybit.com/v2/public/index-price-kline?symbol=BTCUSD&amp;interval=1&amp;limit=2&amp;from=1581231260"
</span></code></pre></div>
<blockquote>
<p>响应示例</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">ret_code</span><span class="dl">"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ret_msg</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">OK</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_code</span><span class="dl">"</span><span class="p">:</span><span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_info</span><span class="dl">"</span><span class="p">:</span><span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">result</span><span class="dl">"</span><span class="p">:[</span>
        <span class="p">{</span>
            <span class="dl">"</span><span class="s2">symbol</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">BTCUSD</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">period</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">1</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">open_time</span><span class="dl">"</span><span class="p">:</span><span class="mi">1582231260</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">open</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">10106.09</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">high</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">10108.75</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">low</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">10104.66</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">close</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">10108.73</span><span class="dl">"</span>
        <span class="p">}</span>
    <span class="p">],</span>
    <span class="dl">"</span><span class="s2">time_now</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">1591263582.601795</span><span class="dl">"</span>
<span class="p">}</span>
</code></pre></div>
<p>指数价格K线</p>

<p class="fake_header">HTTP 请求</p>

<p>GET
<code><span id=v2pIndexPriceKline>/v2/public/index-price-kline</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#v2pIndexPriceKline"><img src="../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button></p>

<p class="fake_header">请求参数</p>

<table><thead>
<tr>
<th style="text-align: left">parameter</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left">true</td>
<td style="text-align: left">string</td>
<td>合约类型</td>
</tr>
<tr>
<td style="text-align: left">interval</td>
<td style="text-align: left">true</td>
<td style="text-align: left">string</td>
<td>数据更新频率. 枚举值： 1 3 5 15 30 60 120 240 360 720 "D" "M" "W"</td>
</tr>
<tr>
<td style="text-align: left">from</td>
<td style="text-align: left">true</td>
<td style="text-align: left">integer</td>
<td>起始时间戳（单位秒）</td>
</tr>
<tr>
<td style="text-align: left">limit</td>
<td style="text-align: left">false</td>
<td style="text-align: left">integer</td>
<td>最大200. 默认每页200条</td>
</tr>
</tbody></table>

<p class="fake_header">返回参数</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left">string</td>
<td>合约类型</td>
</tr>
<tr>
<td style="text-align: left">period</td>
<td style="text-align: left">string</td>
<td>数据记录周期. 5min 15min 30min 1h 4h 1d</td>
</tr>
<tr>
<td style="text-align: left">open_time</td>
<td style="text-align: left">integer</td>
<td>开始时间戳（秒）</td>
</tr>
<tr>
<td style="text-align: left">open</td>
<td style="text-align: left">string</td>
<td>开始价格</td>
</tr>
<tr>
<td style="text-align: left">high</td>
<td style="text-align: left">string</td>
<td>最高价格</td>
</tr>
<tr>
<td style="text-align: left">low</td>
<td style="text-align: left">string</td>
<td>最低价格</td>
</tr>
<tr>
<td style="text-align: left">close</td>
<td style="text-align: left">string</td>
<td>结束价格</td>
</tr>
</tbody></table>
<h3 id='t-querypremiumindexkline'>查询溢价K线数据</h3>
<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight console tab-console"><code><span class="go">curl "https://api.bybit.com/v2/public/premium-index-kline?symbol=BTCUSD&amp;interval=1&amp;limit=2&amp;from=1581231260"
</span></code></pre></div>
<blockquote>
<p>响应示例</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">ret_code</span><span class="dl">"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ret_msg</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">OK</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_code</span><span class="dl">"</span><span class="p">:</span><span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_info</span><span class="dl">"</span><span class="p">:</span><span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">result</span><span class="dl">"</span><span class="p">:[</span>
        <span class="p">{</span>
            <span class="dl">"</span><span class="s2">symbol</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">BTCUSD</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">period</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">1</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">open_time</span><span class="dl">"</span><span class="p">:</span><span class="mi">1582231260</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">open</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">0.000588</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">high</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">0.000618</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">low</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">0.000588</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">close</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">0.000618</span><span class="dl">"</span>
        <span class="p">}</span>
  <span class="p">],</span>
    <span class="dl">"</span><span class="s2">time_now</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">1591263582.601795</span><span class="dl">"</span>
<span class="p">}</span>
</code></pre></div>
<p>溢价K线</p>

<p class="fake_header">HTTP 请求</p>

<p>GET
<code><span id=vpPremiumIndexKline>/v2/public/premium-index-kline</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#vpPremiumIndexKline"><img src="../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button></p>

<p class="fake_header">请求参数</p>

<table><thead>
<tr>
<th style="text-align: left">parameter</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left">true</td>
<td style="text-align: left">string</td>
<td>合约类型</td>
</tr>
<tr>
<td style="text-align: left">interval</td>
<td style="text-align: left">true</td>
<td style="text-align: left">string</td>
<td>数据更新频率. 枚举值： 1 3 5 15 30 60 120 240 360 720 "D" "M" "W"</td>
</tr>
<tr>
<td style="text-align: left">from</td>
<td style="text-align: left">true</td>
<td style="text-align: left">integer</td>
<td>起始时间戳（单位秒）</td>
</tr>
<tr>
<td style="text-align: left">limit</td>
<td style="text-align: left">false</td>
<td style="text-align: left">integer</td>
<td>最大200. 默认每页200条</td>
</tr>
</tbody></table>

<p class="fake_header">返回参数</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left">string</td>
<td>合约类型</td>
</tr>
<tr>
<td style="text-align: left">period</td>
<td style="text-align: left">string</td>
<td>数据记录周期. 5min 15min 30min 1h 4h 1d</td>
</tr>
<tr>
<td style="text-align: left">open_time</td>
<td style="text-align: left">integer</td>
<td>开始时间戳（秒）</td>
</tr>
<tr>
<td style="text-align: left">open</td>
<td style="text-align: left">string</td>
<td>开始价格</td>
</tr>
<tr>
<td style="text-align: left">high</td>
<td style="text-align: left">string</td>
<td>最高价格</td>
</tr>
<tr>
<td style="text-align: left">low</td>
<td style="text-align: left">string</td>
<td>最低价格</td>
</tr>
<tr>
<td style="text-align: left">close</td>
<td style="text-align: left">string</td>
<td>结束价格</td>
</tr>
</tbody></table>
<h2 id='t-advanceddata'>平台进阶数据</h2><h3 id='t-marketopeninterest'>未平合约持仓数量</h3>
<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight console tab-console"><code><span class="go">curl https://api.bybit.com/v2/public/open-interest?symbol=BTCUSD&amp;period=5min
</span></code></pre></div>
<blockquote>
<p>响应示例</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">ret_code</span><span class="dl">"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ret_msg</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">OK</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_code</span><span class="dl">"</span><span class="p">:</span><span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_info</span><span class="dl">"</span><span class="p">:</span><span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">result</span><span class="dl">"</span><span class="p">:[</span>
        <span class="p">{</span>
            <span class="dl">"</span><span class="s2">open_interest</span><span class="dl">"</span><span class="p">:</span><span class="mi">371491978</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">timestamp</span><span class="dl">"</span><span class="p">:</span><span class="mi">1597658100</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">symbol</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">BTCUSD</span><span class="dl">"</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="dl">"</span><span class="s2">open_interest</span><span class="dl">"</span><span class="p">:</span><span class="mi">370696076</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">timestamp</span><span class="dl">"</span><span class="p">:</span><span class="mi">1597657800</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">symbol</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">BTCUSD</span><span class="dl">"</span>
        <span class="p">}</span>
    <span class="p">],</span>
    <span class="dl">"</span><span class="s2">time_now</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">1597658304.938839</span><span class="dl">"</span>
<span class="p">}</span>
</code></pre></div>
<p>获取Bybit各个合约的持仓数量</p>

<p class="fake_header">HTTP 请求</p>

<p>GET
<code><span id=vpMarketOpenInterest>/v2/public/open-interest</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#vpMarketOpenInterest"><img src="../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button></p>

<p class="fake_header">请求参数</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left"><b>true</b></td>
<td style="text-align: left">string</td>
<td>合约类型</td>
</tr>
<tr>
<td style="text-align: left">period</td>
<td style="text-align: left"><b>true</b></td>
<td style="text-align: left">string</td>
<td>数据记录周期. 5min 15min 30min 1h 4h 1d</td>
</tr>
<tr>
<td style="text-align: left">limit</td>
<td style="text-align: left">false</td>
<td style="text-align: left">int</td>
<td>返回数据最大200条. 默认返回50条</td>
</tr>
</tbody></table>

<p class="fake_header">返回参数</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">open_interest</td>
<td style="text-align: left">number</td>
<td>未平仓合约数量</td>
</tr>
<tr>
<td style="text-align: left">timestamp</td>
<td style="text-align: left">number</td>
<td>时间戳（秒）</td>
</tr>
<tr>
<td style="text-align: left">symbol</td>
<td style="text-align: left">string</td>
<td>合约类型</td>
</tr>
</tbody></table>
<h3 id='t-marketbigdeal'>主动成交大额订单</h3>
<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight console tab-console"><code><span class="go">curl https://api.bybit.com/v2/public/big-deal?symbol=BTCUSD
</span></code></pre></div>
<blockquote>
<p>响应示例</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">ret_code</span><span class="dl">"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ret_msg</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">OK</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_code</span><span class="dl">"</span><span class="p">:</span><span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_info</span><span class="dl">"</span><span class="p">:</span><span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">result</span><span class="dl">"</span><span class="p">:[</span>
        <span class="p">{</span>
            <span class="dl">"</span><span class="s2">symbol</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">BTCUSD</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">side</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">Sell</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">timestamp</span><span class="dl">"</span><span class="p">:</span><span class="mi">1597623362</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">value</span><span class="dl">"</span><span class="p">:</span><span class="mi">1242368</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="dl">"</span><span class="s2">symbol</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">BTCUSD</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">side</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">Buy</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">timestamp</span><span class="dl">"</span><span class="p">:</span><span class="mi">1597623363</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">value</span><span class="dl">"</span><span class="p">:</span><span class="mi">1242368</span>
        <span class="p">}</span>
    <span class="p">],</span>
    <span class="dl">"</span><span class="s2">time_now</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">1597658434.219859</span><span class="dl">"</span>
<span class="p">}</span>
</code></pre></div>
<p>获取Bybit主动成交大于500000USD的订单，时间范围是最近24h内。</p>

<p class="fake_header">HTTP 请求</p>

<p>GET
<code><span id=vpMarketBigDeal>/v2/public/big-deal</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#vpMarketBigDeal"><img src="../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button></p>

<p class="fake_header">请求参数</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left"><b>true</b></td>
<td style="text-align: left">string</td>
<td>合约类型</td>
</tr>
<tr>
<td style="text-align: left">limit</td>
<td style="text-align: left">false</td>
<td style="text-align: left">int</td>
<td>返回数据最大1000条. 默认返回500条</td>
</tr>
</tbody></table>

<p class="fake_header">返回参数</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">symbol</td>
<td style="text-align: left">string</td>
<td>合约类型</td>
</tr>
<tr>
<td style="text-align: left"><a href="#side-side">side</a></td>
<td style="text-align: left">string</td>
<td>方向</td>
</tr>
<tr>
<td style="text-align: left">timestamp</td>
<td style="text-align: left">number</td>
<td>时间戳（秒）</td>
</tr>
<tr>
<td style="text-align: left">value</td>
<td style="text-align: left">number</td>
<td>订单价值</td>
</tr>
</tbody></table>
<h3 id='t-marketaccountratio'>用户多空持仓比率</h3>
<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight console tab-console"><code><span class="go">curl https://api.bybit.com/v2/public/account-ratio?symbol=BTCUSD&amp;period=5min
</span></code></pre></div>
<blockquote>
<p>响应示例</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">ret_code</span><span class="dl">"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ret_msg</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">OK</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_code</span><span class="dl">"</span><span class="p">:</span><span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_info</span><span class="dl">"</span><span class="p">:</span><span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">result</span><span class="dl">"</span><span class="p">:[</span>
        <span class="p">{</span>
            <span class="dl">"</span><span class="s2">symbol</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">BTCUSD</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">buy_ratio</span><span class="dl">"</span><span class="p">:</span><span class="mf">0.6538</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">sell_ratio</span><span class="dl">"</span><span class="p">:</span><span class="mf">0.3462</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">timestamp</span><span class="dl">"</span><span class="p">:</span><span class="mi">1597659000</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="dl">"</span><span class="s2">symbol</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">BTCUSD</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">buy_ratio</span><span class="dl">"</span><span class="p">:</span><span class="mf">0.6533</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">sell_ratio</span><span class="dl">"</span><span class="p">:</span><span class="mf">0.3467</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">timestamp</span><span class="dl">"</span><span class="p">:</span><span class="mi">1597658700</span>
        <span class="p">}</span>
    <span class="p">],</span>
    <span class="dl">"</span><span class="s2">time_now</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">1597659230.743313</span><span class="dl">"</span>
<span class="p">}</span>
</code></pre></div>
<p>获取Bybit平台用户多空持仓比率</p>

<p class="fake_header">HTTP 请求</p>

<p>GET
<code><span id=vpMarketAccountRatio>/v2/public/account-ratio</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#vpMarketAccountRatio"><img src="../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button></p>

<p class="fake_header">请求参数</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left"><b>true</b></td>
<td style="text-align: left">string</td>
<td>合约类型</td>
</tr>
<tr>
<td style="text-align: left">period</td>
<td style="text-align: left"><b>true</b></td>
<td style="text-align: left">string</td>
<td>数据记录周期. 5min 15min 30min 1h 4h 1d</td>
</tr>
<tr>
<td style="text-align: left">limit</td>
<td style="text-align: left">false</td>
<td style="text-align: left">int</td>
<td>返回数据最大500条. 默认返回50条</td>
</tr>
</tbody></table>

<p class="fake_header">返回参数</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">symbol</td>
<td style="text-align: left">string</td>
<td>合约类型</td>
</tr>
<tr>
<td style="text-align: left">buy_ratio</td>
<td style="text-align: left">number</td>
<td>多仓人数占比</td>
</tr>
<tr>
<td style="text-align: left">sell_ratio</td>
<td style="text-align: left">number</td>
<td>空仓人数占比</td>
</tr>
<tr>
<td style="text-align: left">timestamp</td>
<td style="text-align: left">number</td>
<td>时间戳（秒）</td>
</tr>
</tbody></table>

<!--
### 资金费率
> 请求示例

```console
curl https://api.bybit.com/v2/public/funding-rate?symbol=BTCUSD&limit=100
```
```javascript
{
    "ret_code":0,
    "ret_msg":"OK",
    "ext_code":"",
    "ext_info":"",
    "result":[
        {
            "symbol":"BTCUSD",
            "funding_rate":0.00375,
            "timestamp":1590998277
                }
    ],
    "time_now":"1590068362.493540"
}
```

获取Bybit近一个月的资金费率。

<p class="fake_header">HTTP 请求</p>
GET
<code><span id=vpMarketFundingRate>/v2/public/funding-rate</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#vpMarketFundingRate"><img src="../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button>

<p class="fake_header">请求参数</p>
|参数|是否必须|类型|说明|
|:----- |:-------|:-----|----- |
|<a href="#symbol-symbol">symbol</a> |<b>true</b> |string |合约类型 |
|limit |false |int |返回数据最大100条. 默认返回50条|


### 精英账户多空持仓账户比
> 请求示例

```console
curl https://api.bybit.com/v2/public/elite-ratio?symbol=BTCUSD&period=5min
```

> 响应示例

```javascript
{
    "ret_code":0,
    "ret_msg":"OK",
    "ext_code":"",
    "ext_info":"",
    "result":[
        {
            "symbol":"BTCUSD",
            "buy_ratio":0.4288,
            "sell_ratio":0.5712,
            "timestamp":1591165240
        },
        {
            "symbol":"XRPUSD",
            "buy_ratio":0.3288,
            "sell_ratio":0.6712,
            "timestamp":1591165240
        }
    ],
    "time_now":"1591597368.673697"
}
```

获取Bybit精英账户多空持仓账户比

<p class="fake_header">HTTP 请求</p>
GET
<code><span id=vpMarketEliteRatio>/v2/public/elite-ratio</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#vpMarketEliteRatio"><img src="../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button>

<p class="fake_header">请求参数</p>
|参数|是否必须|类型|说明|
|:----- |:-------|:-----|----- |
|<a href="#symbol-symbol">symbol</a> |<b>true</b> |string |合约类型 |
|period |<b>true</b> |string |数据记录周期. 5min 15min 30min 1h 4h 1d|
-->
<h1 id='t-accountdata'>账户/交易接口</h1>
<p>以下账户/交易接口都需要鉴权.</p>
<h2 id='t-activeorders'>活动单</h2><h3 id='t-placeactive'>创建活动委托单</h3>
<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight console tab-console"><code><span class="go">curl https://api.bybit.com/v2/private/order/create \
-H "Content-Type: application/json" \
-d '{"api_key":"{api_key}","side"="Buy","symbol"="BTCUSD","order_type":"Market","qty":10,"time_in_force":"GoodTillCancel","timestamp":{timestamp},"sign":"{sign}"}'

</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">bybit</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">bybit</span><span class="p">.</span><span class="n">bybit</span><span class="p">(</span><span class="n">test</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">api_key</span><span class="o">=</span><span class="s">"api_key"</span><span class="p">,</span> <span class="n">api_secret</span><span class="o">=</span><span class="s">"api_secret"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">client</span><span class="p">.</span><span class="n">Order</span><span class="p">.</span><span class="n">Order_new</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="s">"Buy"</span><span class="p">,</span><span class="n">symbol</span><span class="o">=</span><span class="s">"BTCUSD"</span><span class="p">,</span><span class="n">order_type</span><span class="o">=</span><span class="s">"Market"</span><span class="p">,</span><span class="n">qty</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">time_in_force</span><span class="o">=</span><span class="s">"GoodTillCancel"</span><span class="p">).</span><span class="n">result</span><span class="p">())</span>
</code></pre></div>
<blockquote>
<p>响应示例</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">ret_code</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ret_msg</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">OK</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_code</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_info</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">result</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
        <span class="dl">"</span><span class="s2">user_id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">order_id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">335fd977-e5a5-4781-b6d0-c772d5bfb95b</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">symbol</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">BTCUSD</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">side</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Buy</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">order_type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Limit</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">price</span><span class="dl">"</span><span class="p">:</span> <span class="mi">8800</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">qty</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">time_in_force</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">GoodTillCancel</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">order_status</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Created</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">last_exec_time</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">last_exec_price</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">leaves_qty</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">cum_exec_qty</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">cum_exec_value</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">cum_exec_fee</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">reject_reason</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">order_link_id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">created_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2019-11-30T11:03:43.452Z</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">updated_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2019-11-30T11:03:43.455Z</span><span class="dl">"</span>
    <span class="p">},</span>
    <span class="dl">"</span><span class="s2">time_now</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1575111823.458705</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_status</span><span class="dl">"</span><span class="p">:</span> <span class="mi">98</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_reset_ms</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1580885703683</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit</span><span class="dl">"</span><span class="p">:</span> <span class="mi">100</span>
<span class="p">}</span>
</code></pre></div>
<p><p>市价活动委托: 一个传统的市场价格订单,会以当前的最优价格为您成交订单。当且仅当选择市价单时，<code>price</code>可为空！<b>为了保护市价单遭遇严重的滑点，Bybit将市价单转为限价单进入撮合，买单价格高于最优卖价，卖单价格低于最优买价。限价价格和成交价格均可通过用户成交记录接口查询。</b></p>
<p>限价活动委托: 您可以为您的订单设置一个执行价格，当市场价格达到您的设置价格时，系统会为您成交订单。</p>
<p><b>止盈止损: 您仅能在开仓时设置止盈止损条件单，一旦持有仓位后提交活动委托时关联的止盈止损则不会生效。</b></p>
<p>委托数量: 表示您要购买/卖出的永续合约数，对于委托数量目前Bybit只允许提交正整数。</p>
<p>委托价格: 如果是下<b>限价单</b>，该参数为<b>必填</b>. 在没有仓位时，做多的委托价格需高于市价的10%、低于1百万。如有仓位时则需优于强平价。价格增减最小单位请参考<a href="#t-querysymbol">交易对接口</a>响应中的<b>price_filter</b>字段。</p>
<p>自定义条件单ID: 您可以自定义活动委托订单ID，我们会为您关联到系统的订单ID，并把系统的唯一订单ID在活动委托创建成功后一并返回给您，您可以使用该订单ID去取消活动委托，同时要求您传递的自定义订单ID<code>最大长度不超过36个字段且唯一</code>。</p>
<p><b>每个账户最多可同时持有500个活动订单。这是针对合约的，因此可以允许出现例如：账户同时持有300个BTCUSD的活动单、280个ETHUSD合约的活动单。</b></p>
<p><b>当您达到订单上限的时候的时候，仍然可以下单设置了参数<code>reduce_only</code> 或 <code>closeOnTrigger</code>的订单。</b></p>
</p>

<p class="fake_header">HTTP 请求</p>

<p>POST
<code><span id=vpoCreate>/v2/private/order/create</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#vpoCreate"><img src="../../images/copy_to_clipboard-ff25494f.png" height=zh5 width=15></img></button></p>

<p class="fake_header">请求参数</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><a href="#side-side">side</a></td>
<td style="text-align: left"><b>true</b></td>
<td style="text-align: left">string</td>
<td>方向</td>
</tr>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left"><b>true</b></td>
<td style="text-align: left">string</td>
<td>合约类型</td>
</tr>
<tr>
<td style="text-align: left"><a href="#order-type-order_type">order_type</a></td>
<td style="text-align: left"><b>true</b></td>
<td style="text-align: left">string</td>
<td>委托单价格类型</td>
</tr>
<tr>
<td style="text-align: left"><a href="#quantity-qty">qty</a></td>
<td style="text-align: left"><b>true</b></td>
<td style="text-align: left">integer</td>
<td>委托数量(1个委托1美元)，只能为正整数</td>
</tr>
<tr>
<td style="text-align: left"><a href="#price-price">price</a></td>
<td style="text-align: left">false</td>
<td style="text-align: left">number</td>
<td>委托价格</td>
</tr>
<tr>
<td style="text-align: left"><a href="#time-in-force-time_in_force">time_in_force</a></td>
<td style="text-align: left"><b>true</b></td>
<td style="text-align: left">string</td>
<td>执行策略</td>
</tr>
<tr>
<td style="text-align: left">take_profit</td>
<td style="text-align: left">false</td>
<td style="text-align: left">number</td>
<td>止盈价格，仅开仓时生效</td>
</tr>
<tr>
<td style="text-align: left">stop_loss</td>
<td style="text-align: left">false</td>
<td style="text-align: left">number</td>
<td>止损价格，仅开仓时生效</td>
</tr>
<tr>
<td style="text-align: left">reduce_only</td>
<td style="text-align: left">false</td>
<td style="text-align: left">bool</td>
<td>只减仓</td>
</tr>
<tr>
<td style="text-align: left">close_on_trigger</td>
<td style="text-align: left">false</td>
<td style="text-align: left">bool</td>
<td>触发后平仓. 如果下平仓单，请设置为<code>true</code>，避免因为保证金不足而导致下单失败</td>
</tr>
<tr>
<td style="text-align: left">order_link_id</td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>机构自定义订单ID, 最大长度36位，且同一机构下自定义ID不可重复</td>
</tr>
</tbody></table>

<p class="fake_header">返回参数</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">user_id</td>
<td style="text-align: left">number</td>
<td>用户ID</td>
</tr>
<tr>
<td style="text-align: left">order_id</td>
<td style="text-align: left">string</td>
<td>活动订单号ID。当成功创建了活动订单后返回的唯一的订单号ID。</td>
</tr>
<tr>
<td style="text-align: left">symbol</td>
<td style="text-align: left">string</td>
<td>合约类型</td>
</tr>
<tr>
<td style="text-align: left">side</td>
<td style="text-align: left">string</td>
<td>方向</td>
</tr>
<tr>
<td style="text-align: left">order_type</td>
<td style="text-align: left">string</td>
<td>交易记录类型</td>
</tr>
<tr>
<td style="text-align: left">price</td>
<td style="text-align: left">number</td>
<td>委托价格</td>
</tr>
<tr>
<td style="text-align: left">qty</td>
<td style="text-align: left">number</td>
<td>委托数量</td>
</tr>
<tr>
<td style="text-align: left">time_in_force</td>
<td style="text-align: left">string</td>
<td>执行策略</td>
</tr>
<tr>
<td style="text-align: left">order_status</td>
<td style="text-align: left">string</td>
<td>订单状态</td>
</tr>
<tr>
<td style="text-align: left">last_exec_time</td>
<td style="text-align: left">string</td>
<td>最近一次成交时间</td>
</tr>
<tr>
<td style="text-align: left">last_exec_price</td>
<td style="text-align: left">string</td>
<td>最近一次成交价格</td>
</tr>
<tr>
<td style="text-align: left">leaves_qty</td>
<td style="text-align: left">number</td>
<td>剩余委托数量</td>
</tr>
<tr>
<td style="text-align: left">cum_exec_qty</td>
<td style="text-align: left">number</td>
<td>累计成交数量</td>
</tr>
<tr>
<td style="text-align: left">cum_exec_value</td>
<td style="text-align: left">number</td>
<td>累计成交价值</td>
</tr>
<tr>
<td style="text-align: left">cum_exec_fee</td>
<td style="text-align: left">number</td>
<td>累计成交手续费</td>
</tr>
<tr>
<td style="text-align: left">reject_reason</td>
<td style="text-align: left">string</td>
<td>被拒单的原因</td>
</tr>
<tr>
<td style="text-align: left">order_link_id</td>
<td style="text-align: left">string</td>
<td>机构自定义订单ID</td>
</tr>
<tr>
<td style="text-align: left">created_at</td>
<td style="text-align: left">string</td>
<td>创建时间</td>
</tr>
<tr>
<td style="text-align: left">updated_at</td>
<td style="text-align: left">string</td>
<td>更新时间</td>
</tr>
</tbody></table>
<h3 id='t-getactive'>查询活动委托</h3>
<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight console tab-console"><code><span class="go">curl "https://api.bybit.com/v2/private/order/list?api_key={api_key}&amp;timestamp={timestamp}&amp;sign={sign}&amp;symbol=BTCUSD"
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">bybit</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">bybit</span><span class="p">.</span><span class="n">bybit</span><span class="p">(</span><span class="n">test</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">api_key</span><span class="o">=</span><span class="s">"api_key"</span><span class="p">,</span> <span class="n">api_secret</span><span class="o">=</span><span class="s">"api_secret"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">client</span><span class="p">.</span><span class="n">Order</span><span class="p">.</span><span class="n">Order_getOrders</span><span class="p">(</span><span class="n">symbol</span><span class="o">=</span><span class="s">"BTCUSD"</span><span class="p">,</span><span class="n">order_status</span><span class="o">=</span><span class="s">"New"</span><span class="p">).</span><span class="n">result</span><span class="p">())</span>
</code></pre></div>
<blockquote>
<p>响应示例</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">ret_code</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ret_msg</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">OK</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_code</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_info</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">result</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
        <span class="dl">"</span><span class="s2">data</span><span class="dl">"</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span>
                <span class="dl">"</span><span class="s2">user_id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">160861</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">order_status</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Cancelled</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">symbol</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">BTCUSD</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">side</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Buy</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">order_type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Market</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">price</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">9800</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">qty</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">16737</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">time_in_force</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">ImmediateOrCancel</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">order_link_id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">order_id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">fead08d7-47c0-4d6a-b9e7-5c71d5df8ba1</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">created_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2020-07-24T08:22:30Z</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">updated_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2020-07-24T08:22:30Z</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">leaves_qty</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">leaves_value</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">cum_exec_qty</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">cum_exec_value</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">cum_exec_fee</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">reject_reason</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">EC_NoImmediateQtyToFill</span><span class="dl">"</span>
            <span class="p">}</span>
        <span class="p">],</span>
        <span class="dl">"</span><span class="s2">cursor</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">w01XFyyZc8lhtCLl6NgAaYBRfsN9Qtpp1f2AUy3AS4+fFDzNSlVKa0od8DKCqgAn</span><span class="dl">"</span>
    <span class="p">},</span>
    <span class="dl">"</span><span class="s2">time_now</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1604653633.173848</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_status</span><span class="dl">"</span><span class="p">:</span> <span class="mi">599</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_reset_ms</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1604653633171</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit</span><span class="dl">"</span><span class="p">:</span> <span class="mi">600</span>
<span class="p">}</span>
</code></pre></div>
<p><p>获取我的活动委托单列表。</p>
<p>创建/取消订单是异步的，因此<b>该接口可能返回的数据可能会有延迟</b>。如果要获取订单的实时信息，可以调用接口<a href="#t-queryactive">实时查询活动单信息</a>.</p>
</p>

<p class="fake_header">HTTP 请求</p>

<p>GET
<code><span id=vpoList>/v2/private/order/list</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#vpoList"><img src="../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button></p>

<p class="fake_header">请求参数</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left"><b>true</b></td>
<td style="text-align: left">string</td>
<td>合约类型</td>
</tr>
<tr>
<td style="text-align: left"><a href="#order-status-order_status">order_status</a></td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>指定订单状态查询订单列表。不传该参数则默认查询所有状态订单。该参数支持多状态查询，状态之间用英文逗号分割。</td>
</tr>
<tr>
<td style="text-align: left">direction</td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>搜索方向：<code>prev</code>:上一页,<code>next</code>:下一页,默认为 <code>next</code></td>
</tr>
<tr>
<td style="text-align: left">limit</td>
<td style="text-align: left">false</td>
<td style="text-align: left">integer</td>
<td>每页数量, 最大50. 默认每页20条</td>
</tr>
<tr>
<td style="text-align: left">cursor</td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>翻页标记,请使用返回的cursor,签名时使用返回的原始数据，发送request时请进行urlencode</td>
</tr>
</tbody></table>

<p class="fake_header">返回参数</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">data &gt; user_id</td>
<td style="text-align: left">integer</td>
<td>用户ID</td>
</tr>
<tr>
<td style="text-align: left">data &gt; symbol</td>
<td style="text-align: left">string</td>
<td>合约类型</td>
</tr>
<tr>
<td style="text-align: left">data &gt; side</td>
<td style="text-align: left">string</td>
<td>方向</td>
</tr>
<tr>
<td style="text-align: left">data &gt; order_type</td>
<td style="text-align: left">string</td>
<td>交易记录类型</td>
</tr>
<tr>
<td style="text-align: left">data &gt; price</td>
<td style="text-align: left">string</td>
<td>委托价格</td>
</tr>
<tr>
<td style="text-align: left">data &gt; qty</td>
<td style="text-align: left">string</td>
<td>委托数量</td>
</tr>
<tr>
<td style="text-align: left">data &gt; time_in_force</td>
<td style="text-align: left">string</td>
<td>执行策略</td>
</tr>
<tr>
<td style="text-align: left">data &gt; order_status</td>
<td style="text-align: left">string</td>
<td>订单状态</td>
</tr>
<tr>
<td style="text-align: left">data &gt; leaves_qty</td>
<td style="text-align: left">string</td>
<td>剩余委托数量</td>
</tr>
<tr>
<td style="text-align: left">data &gt; leaves_value</td>
<td style="text-align: left">string</td>
<td>剩余挂单数量对应的预估价值</td>
</tr>
<tr>
<td style="text-align: left">data &gt; cum_exec_qty</td>
<td style="text-align: left">string</td>
<td>累计成交数量</td>
</tr>
<tr>
<td style="text-align: left">data &gt; cum_exec_value</td>
<td style="text-align: left">string</td>
<td>累计成交价值</td>
</tr>
<tr>
<td style="text-align: left">data &gt; cum_exec_fee</td>
<td style="text-align: left">string</td>
<td>累计成交手续费</td>
</tr>
<tr>
<td style="text-align: left">data &gt; reject_reason</td>
<td style="text-align: left">string</td>
<td>被拒单的原因</td>
</tr>
<tr>
<td style="text-align: left">data &gt; order_link_id</td>
<td style="text-align: left">string</td>
<td>机构自定义订单ID</td>
</tr>
<tr>
<td style="text-align: left">data &gt; created_at</td>
<td style="text-align: left">string</td>
<td>创建时间</td>
</tr>
<tr>
<td style="text-align: left">data &gt; order_id</td>
<td style="text-align: left">string</td>
<td>订单ID</td>
</tr>
<tr>
<td style="text-align: left">cursor</td>
<td style="text-align: left">string</td>
<td>翻页标记</td>
</tr>
</tbody></table>
<h3 id='t-cancelactive'>撤销活动委托单</h3>
<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight console tab-console"><code><span class="go">curl https://api.bybit.com/v2/private/order/cancel \
-H "Content-Type: application/json" \
-d '{"api_key":"{api_key}","symbol":"BTCUSD","order_id":"","timestamp":{timestamp},"sign":"{sign}"}'
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">bybit</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">bybit</span><span class="p">.</span><span class="n">bybit</span><span class="p">(</span><span class="n">test</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">api_key</span><span class="o">=</span><span class="s">"api_key"</span><span class="p">,</span> <span class="n">api_secret</span><span class="o">=</span><span class="s">"api_secret"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">client</span><span class="p">.</span><span class="n">Order</span><span class="p">.</span><span class="n">Order_cancel</span><span class="p">(</span><span class="n">symbol</span><span class="o">=</span><span class="s">"BTCUSD"</span><span class="p">,</span> <span class="n">order_id</span><span class="o">=</span><span class="s">""</span><span class="p">).</span><span class="n">result</span><span class="p">())</span>
</code></pre></div>
<blockquote>
<p>响应示例</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">ret_code</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ret_msg</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">OK</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_code</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_info</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">result</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
        <span class="dl">"</span><span class="s2">user_id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">order_id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">3bd1844f-f3c0-4e10-8c25-10fea03763f6</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">symbol</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">BTCUSD</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">side</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Buy</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">order_type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Limit</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">price</span><span class="dl">"</span><span class="p">:</span> <span class="mi">8800</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">qty</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">time_in_force</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">GoodTillCancel</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">order_status</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">New</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">last_exec_time</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">last_exec_price</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">leaves_qty</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">cum_exec_qty</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">cum_exec_value</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">cum_exec_fee</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">reject_reason</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">order_link_id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">created_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2019-11-30T11:17:18.396Z</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">updated_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2019-11-30T11:18:01.811Z</span><span class="dl">"</span>
    <span class="p">},</span>
    <span class="dl">"</span><span class="s2">time_now</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1575112681.814760</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_status</span><span class="dl">"</span><span class="p">:</span> <span class="mi">98</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_reset_ms</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1580885703683</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit</span><span class="dl">"</span><span class="p">:</span> <span class="mi">100</span>
<span class="p">}</span>
</code></pre></div>
<p><p>所有撤销活动委托都必须填写<code>order_id</code>或<code>order_link_id</code>。 <code>order_id</code> - 当您成功创建了活动委托时会为您返回36位唯一的订单ID。</p>
<p>您可以撤销未成交、部分成交的活动委托单。但全部成交的活动委托不可取消。</p>
</p>

<p class="fake_header">HTTP 请求</p>

<p>POST
<code><span id=vpoCancel>/v2/private/order/cancel</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#vpoCancel"><img src="../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button></p>

<p class="fake_header">请求参数</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left"><b>true</b></td>
<td style="text-align: left">string</td>
<td>合约类型</td>
</tr>
<tr>
<td style="text-align: left">order_id</td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>订单ID。如果未填order_link_id则为<b>必填</b>字段。</td>
</tr>
<tr>
<td style="text-align: left">order_link_id</td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>机构ID。如果未填order_id则为<b>必填</b>字段。</td>
</tr>
</tbody></table>

<p class="fake_header">返回参数</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">user_id</td>
<td style="text-align: left">number</td>
<td>用户ID</td>
</tr>
<tr>
<td style="text-align: left">order_id</td>
<td style="text-align: left">string</td>
<td>订单ID</td>
</tr>
<tr>
<td style="text-align: left">symbol</td>
<td style="text-align: left">string</td>
<td>合约类型</td>
</tr>
<tr>
<td style="text-align: left">side</td>
<td style="text-align: left">string</td>
<td>方向</td>
</tr>
<tr>
<td style="text-align: left">order_type</td>
<td style="text-align: left">string</td>
<td>交易记录类型</td>
</tr>
<tr>
<td style="text-align: left">price</td>
<td style="text-align: left">number</td>
<td>委托价格</td>
</tr>
<tr>
<td style="text-align: left">qty</td>
<td style="text-align: left">number</td>
<td>委托数量</td>
</tr>
<tr>
<td style="text-align: left"><a href="#time-in-force-time_in_force">time_in_force</a></td>
<td style="text-align: left">string</td>
<td>执行策略</td>
</tr>
<tr>
<td style="text-align: left">order_status</td>
<td style="text-align: left">string</td>
<td>订单状态</td>
</tr>
<tr>
<td style="text-align: left">last_exec_time</td>
<td style="text-align: left">string</td>
<td>最近一次成交时间</td>
</tr>
<tr>
<td style="text-align: left">last_exec_price</td>
<td style="text-align: left">string</td>
<td>最近一次成交价格</td>
</tr>
<tr>
<td style="text-align: left">leaves_qty</td>
<td style="text-align: left">number</td>
<td>剩余委托数量</td>
</tr>
<tr>
<td style="text-align: left">cum_exec_qty</td>
<td style="text-align: left">number</td>
<td>累计成交数量</td>
</tr>
<tr>
<td style="text-align: left">cum_exec_value</td>
<td style="text-align: left">number</td>
<td>累计成交价值</td>
</tr>
<tr>
<td style="text-align: left">cum_exec_fee</td>
<td style="text-align: left">number</td>
<td>累计成交手续费</td>
</tr>
<tr>
<td style="text-align: left">reject_reason</td>
<td style="text-align: left">string</td>
<td>被拒单的原因</td>
</tr>
<tr>
<td style="text-align: left">order_link_id</td>
<td style="text-align: left">string</td>
<td>机构自定义订单ID</td>
</tr>
<tr>
<td style="text-align: left">created_at</td>
<td style="text-align: left">string</td>
<td>创建时间</td>
</tr>
<tr>
<td style="text-align: left">updated_at</td>
<td style="text-align: left">string</td>
<td>更新时间</td>
</tr>
</tbody></table>
<h3 id='t-cancelallactive'>撤销所有活动委托单</h3>
<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight console tab-console"><code><span class="go">curl https://api.bybit.com/v2/private/order/cancelAll \
-H "Content-Type: application/json" \
-d '{"api_key":"{api_key}","symbol":"BTCUSD","timestamp":{timestamp},"sign":"{sign}"}'
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">bybit</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">bybit</span><span class="p">.</span><span class="n">bybit</span><span class="p">(</span><span class="n">test</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">api_key</span><span class="o">=</span><span class="s">"api_key"</span><span class="p">,</span> <span class="n">api_secret</span><span class="o">=</span><span class="s">"api_secret"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">client</span><span class="p">.</span><span class="n">Order</span><span class="p">.</span><span class="n">Order_cancelAll</span><span class="p">(</span><span class="n">symbol</span><span class="o">=</span><span class="s">"BTCUSD"</span><span class="p">).</span><span class="n">result</span><span class="p">())</span>
</code></pre></div>
<blockquote>
<p>响应示例</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">ret_code</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>      
    <span class="dl">"</span><span class="s2">ret_msg</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">OK</span><span class="dl">"</span><span class="p">,</span>    
    <span class="dl">"</span><span class="s2">ext_code</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>     
    <span class="dl">"</span><span class="s2">ext_info</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">result</span><span class="dl">"</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="dl">"</span><span class="s2">clOrdID</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">89a38056-80f1-45b2-89d3-4d8e3a203a79</span><span class="dl">"</span><span class="p">,</span>  
            <span class="dl">"</span><span class="s2">user_id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>                                  
            <span class="dl">"</span><span class="s2">symbol</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">BTCUSD</span><span class="dl">"</span><span class="p">,</span>                                
            <span class="dl">"</span><span class="s2">side</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Buy</span><span class="dl">"</span><span class="p">,</span>                                      
            <span class="dl">"</span><span class="s2">order_type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Limit</span><span class="dl">"</span><span class="p">,</span>                              
            <span class="dl">"</span><span class="s2">price</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">7693.5</span><span class="dl">"</span><span class="p">,</span>                                  
            <span class="dl">"</span><span class="s2">qty</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>                                           
            <span class="dl">"</span><span class="s2">time_in_force</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">GoodTillCancel</span><span class="dl">"</span><span class="p">,</span>                  
            <span class="dl">"</span><span class="s2">create_type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">CreateByUser</span><span class="dl">"</span><span class="p">,</span>                     
            <span class="dl">"</span><span class="s2">cancel_type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">CancelByUser</span><span class="dl">"</span><span class="p">,</span>                      
            <span class="dl">"</span><span class="s2">order_status</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>                                 
            <span class="dl">"</span><span class="s2">leaves_qty</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>                                    
            <span class="dl">"</span><span class="s2">leaves_value</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0</span><span class="dl">"</span><span class="p">,</span>                                
            <span class="dl">"</span><span class="s2">created_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2019-11-30T10:38:53.564428Z</span><span class="dl">"</span><span class="p">,</span>        
            <span class="dl">"</span><span class="s2">updated_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2019-11-30T10:38:59.102589Z</span><span class="dl">"</span><span class="p">,</span>        
            <span class="dl">"</span><span class="s2">cross_status</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">PendingCancel</span><span class="dl">"</span><span class="p">,</span>  <span class="c1">// `PendingCancel` means the matching engine received the cancellation but there is no guarantee that the cancellation will be successful.</span>
            <span class="dl">"</span><span class="s2">cross_seq</span><span class="dl">"</span><span class="p">:</span> <span class="mi">387734027</span>                              
        <span class="p">}</span>
    <span class="p">],</span>
    <span class="dl">"</span><span class="s2">time_now</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1575110339.105675</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_status</span><span class="dl">"</span><span class="p">:</span> <span class="mi">98</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_reset_ms</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1580885703683</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit</span><span class="dl">"</span><span class="p">:</span> <span class="mi">100</span>
<span class="p">}</span>
</code></pre></div>
<p><p>撤销所有未成交、部分成交的活动委托单。但全部成交的活动委托不可取消。</p>
</p>

<aside class="notice">
注意，此api每调用一次会导致<code>rate_limit</code>扣减10
</aside>

<p class="fake_header">HTTP 请求</p>

<p>POST
<code><span id=vpoCancelAll>/v2/private/order/cancelAll</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#vpoCancelAll"><img src="../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button></p>

<p class="fake_header">请求参数</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left"><b>true</b></td>
<td style="text-align: left">string</td>
<td>合约类型</td>
</tr>
</tbody></table>

<p class="fake_header">返回参数</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">clOrdID</td>
<td style="text-align: left">string</td>
<td>uuid类型的唯一订单号</td>
</tr>
<tr>
<td style="text-align: left">user_id</td>
<td style="text-align: left">number</td>
<td>用户ID</td>
</tr>
<tr>
<td style="text-align: left">symbol</td>
<td style="text-align: left">string</td>
<td>合约类型</td>
</tr>
<tr>
<td style="text-align: left">side</td>
<td style="text-align: left">string</td>
<td>方向</td>
</tr>
<tr>
<td style="text-align: left">order_type</td>
<td style="text-align: left">string</td>
<td>交易记录类型</td>
</tr>
<tr>
<td style="text-align: left">price</td>
<td style="text-align: left">number</td>
<td>委托价格</td>
</tr>
<tr>
<td style="text-align: left">qty</td>
<td style="text-align: left">number</td>
<td>委托数量</td>
</tr>
<tr>
<td style="text-align: left"><a href="#time-in-force-time_in_force">time_in_force</a></td>
<td style="text-align: left">string</td>
<td>执行策略</td>
</tr>
<tr>
<td style="text-align: left">create_type</td>
<td style="text-align: left">string</td>
<td>下单操作的触发场景</td>
</tr>
<tr>
<td style="text-align: left">cancel_type</td>
<td style="text-align: left">string</td>
<td>取消操作的触发场景</td>
</tr>
<tr>
<td style="text-align: left">order_status</td>
<td style="text-align: left">string</td>
<td>订单状态</td>
</tr>
<tr>
<td style="text-align: left">leaves_qty</td>
<td style="text-align: left">number</td>
<td>剩余委托数量</td>
</tr>
<tr>
<td style="text-align: left">leaves_value</td>
<td style="text-align: left">number</td>
<td>剩余挂单数量对应的预估价值</td>
</tr>
<tr>
<td style="text-align: left">created_at</td>
<td style="text-align: left">string</td>
<td>创建时间</td>
</tr>
<tr>
<td style="text-align: left">updated_at</td>
<td style="text-align: left">string</td>
<td>更新时间</td>
</tr>
<tr>
<td style="text-align: left">cross_status</td>
<td style="text-align: left">string</td>
<td>取消操作的触发场景</td>
</tr>
<tr>
<td style="text-align: left">cross_seq</td>
<td style="text-align: left">number</td>
<td>撮合版本号</td>
</tr>
</tbody></table>
<h3 id='t-replaceactive'>修改活动单信息</h3>
<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight console tab-console"><code><span class="go">curl https://api.bybit.com/v2/private/order/replace \
-H "Content-Type: application/json" \
-d '{"api_key":"{api_key}","symbol":"BTCUSD","order_id":"","timestamp":{timestamp},"sign":"{sign}"}'
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">bybit</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">bybit</span><span class="p">.</span><span class="n">bybit</span><span class="p">(</span><span class="n">test</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">api_key</span><span class="o">=</span><span class="s">"api_key"</span><span class="p">,</span> <span class="n">api_secret</span><span class="o">=</span><span class="s">"api_secret"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">client</span><span class="p">.</span><span class="n">Order</span><span class="p">.</span><span class="n">Order_replace</span><span class="p">(</span><span class="n">symbol</span><span class="o">=</span><span class="s">"BTCUSD"</span><span class="p">,</span> <span class="n">order_id</span><span class="o">=</span><span class="s">""</span><span class="p">).</span><span class="n">result</span><span class="p">())</span>
</code></pre></div>
<blockquote>
<p>响应示例</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">ret_code</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>    <span class="c1">//Error code,</span>
    <span class="dl">"</span><span class="s2">ret_msg</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">ok</span><span class="dl">"</span><span class="p">,</span>  <span class="c1">//Error message,</span>
    <span class="dl">"</span><span class="s2">ext_code</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">result</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
        <span class="dl">"</span><span class="s2">order_id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">efa44157-c355-4a98-b6d6-1d846a936b93</span><span class="dl">"</span>
    <span class="p">},</span>
    <span class="dl">"</span><span class="s2">time_now</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1539778407.210858</span><span class="dl">"</span><span class="p">,</span>    <span class="c1">// UTC timestamp</span>
    <span class="dl">"</span><span class="s2">rate_limit_status</span><span class="dl">"</span><span class="p">:</span> <span class="mi">99</span><span class="p">,</span> <span class="c1">// The remaining number of accesses in one minute</span>
    <span class="dl">"</span><span class="s2">rate_limit_reset_ms</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1580885703683</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit</span><span class="dl">"</span><span class="p">:</span> <span class="mi">100</span>             
<span class="p">}</span>
</code></pre></div>
<p><p>本接口可以修改您的活动单信息.</p>
</p>

<aside class="notice">
请注意，只有未成交或未完全成交的订单才可以被修改。
</aside>

<p class="fake_header">HTTP 请求</p>

<p>POST
<code><span id=vpoReplace>/v2/private/order/replace</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#vpoReplace"><img src="../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button></p>

<p class="fake_header">请求参数</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">order_id</td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>订单ID。如果未填order_link_id则为<b>必填</b>字段。</td>
</tr>
<tr>
<td style="text-align: left">order_link_id</td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>机构ID。如果未填order_id则为<b>必填</b>字段。</td>
</tr>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left"><b>true</b></td>
<td style="text-align: left">string</td>
<td>合约类型.</td>
</tr>
<tr>
<td style="text-align: left">p_r_qty</td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>修改后的订单数量。如果是未完全成交订单，则表示修改剩余未成交的部分。如果不修改这个字段，请不要传这个参数。</td>
</tr>
<tr>
<td style="text-align: left">p_r_price</td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>修改后的订单价格。如果不修改这个字段，请不要传这个参数。</td>
</tr>
</tbody></table>

<p class="fake_header">返回参数</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">order_id</td>
<td style="text-align: left">string</td>
<td>订单ID</td>
</tr>
</tbody></table>
<h3 id='t-queryactive'>实时查询活动委托</h3>
<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight console tab-console"><code><span class="go">curl "https://api.bybit.com/v2/private/order?api_key={api_key}&amp;symbol=BTCUSD&amp;timestamp={timestamp}order_id={order_id}&amp;sign={sign}"
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">bybit</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">bybit</span><span class="p">.</span><span class="n">bybit</span><span class="p">(</span><span class="n">test</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">api_key</span><span class="o">=</span><span class="s">"api_key"</span><span class="p">,</span> <span class="n">api_secret</span><span class="o">=</span><span class="s">"api_secret"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">client</span><span class="p">.</span><span class="n">Order</span><span class="p">.</span><span class="n">Order_query</span><span class="p">(</span><span class="n">symbol</span><span class="o">=</span><span class="s">"BTCUSD"</span><span class="p">,</span> <span class="n">order_id</span><span class="o">=</span><span class="s">""</span><span class="p">).</span><span class="n">result</span><span class="p">())</span>
</code></pre></div>
<blockquote>
<p>响应示例</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">ret_code</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ret_msg</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">OK</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_code</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_info</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">result</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
        <span class="dl">"</span><span class="s2">user_id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">106958</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">symbol</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">BTCUSD</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">side</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Buy</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">order_type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Limit</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">price</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">11756.5</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">qty</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">time_in_force</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">PostOnly</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">order_status</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Filled</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">ext_fields</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
            <span class="dl">"</span><span class="s2">o_req_num</span><span class="dl">"</span><span class="p">:</span> <span class="o">-</span><span class="mi">68948112492</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">xreq_type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">x_create</span><span class="dl">"</span>
        <span class="p">},</span>
        <span class="dl">"</span><span class="s2">last_exec_time</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1596304897.847944</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">last_exec_price</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">11756.5</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">leaves_qty</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">leaves_value</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">cum_exec_qty</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">cum_exec_value</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0.00008505</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">cum_exec_fee</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">-0.00000002</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">reject_reason</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">cancel_type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">order_link_id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">created_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2020-08-01T18:00:26Z</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">updated_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2020-08-01T18:01:37Z</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">order_id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">e66b101a-ef3f-4647-83b5-28e0f38dcae0</span><span class="dl">"</span>
    <span class="p">},</span>
    <span class="dl">"</span><span class="s2">time_now</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1597171013.867068</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_status</span><span class="dl">"</span><span class="p">:</span> <span class="mi">599</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_reset_ms</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1597171013861</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit</span><span class="dl">"</span><span class="p">:</span> <span class="mi">600</span>
<span class="p">}</span>

<span class="c1">//当只传参数<code>symbol</code>的时候，返回结构如下：</span>
<span class="p">{</span>
    <span class="dl">"</span><span class="s2">ret_code</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ret_msg</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">OK</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_code</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_info</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">result</span><span class="dl">"</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="dl">"</span><span class="s2">user_id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">100228</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">symbol</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">BTCUSD</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">side</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Sell</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">order_type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Limit</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">price</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">17740</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">qty</span><span class="dl">"</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">time_in_force</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">GoodTillCancel</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">order_status</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">New</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">ext_fields</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
                <span class="dl">"</span><span class="s2">o_req_num</span><span class="dl">"</span><span class="p">:</span> <span class="mi">434743</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">xreq_type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">x_create</span><span class="dl">"</span>
            <span class="p">},</span>
            <span class="dl">"</span><span class="s2">last_exec_time</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1608193181.827761</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">leaves_qty</span><span class="dl">"</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">leaves_value</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0.00056369</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">cum_exec_qty</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">cum_exec_value</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0.00008505</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">cum_exec_fee</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">-0.00000002</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">reject_reason</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">EC_NoError</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">cancel_type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">UNKNOWN</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">order_link_id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">created_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2020-12-17T08:19:41.827637283Z</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">updated_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2020-12-17T08:19:41.827761Z</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">order_id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">d570d931-771e-4911-a24e-cdeddedb5b0e</span><span class="dl">"</span>
        <span class="p">},</span>
        <span class="p">...</span>
        <span class="p">{</span>
            <span class="dl">"</span><span class="s2">user_id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">100228</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">symbol</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">BTCUSD</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">side</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Sell</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">order_type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Limit</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">price</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">17740</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">qty</span><span class="dl">"</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">time_in_force</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">GoodTillCancel</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">order_status</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">New</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">ext_fields</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
                <span class="dl">"</span><span class="s2">o_req_num</span><span class="dl">"</span><span class="p">:</span> <span class="mi">434728</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">xreq_type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">x_create</span><span class="dl">"</span>
            <span class="p">},</span>
            <span class="dl">"</span><span class="s2">last_exec_time</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1608193178.955412</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">leaves_qty</span><span class="dl">"</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">leaves_value</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0.00056369</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">cum_exec_qty</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">cum_exec_value</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0.00008505</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">cum_exec_fee</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">-0.00000002</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">reject_reason</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">EC_NoError</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">cancel_type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">UNKNOWN</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">order_link_id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">created_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2020-12-17T08:19:38.955297869Z</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">updated_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2020-12-17T08:19:38.955412Z</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">order_id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">88b91101-7ac1-40af-90b8-72d53fe23622</span><span class="dl">"</span>
        <span class="p">}</span>
    <span class="p">],</span>
    <span class="dl">"</span><span class="s2">time_now</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1608193190.911073</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_status</span><span class="dl">"</span><span class="p">:</span> <span class="mi">599</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_reset_ms</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1608193190909</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit</span><span class="dl">"</span><span class="p">:</span> <span class="mi">600</span>
<span class="p">}</span>

</code></pre></div>
<p>实时查询活动委托。当传递参数<code>order_id</code>或<code>order_link_id</code>其中任意一个时，将返回单条订单数据，如果参数<code>order_id</code>和<code>order_link_id</code>都不传递时，将返回所有<b>未成交</b>的订单，最多500条。</p>

<p class="fake_header">HTTP 请求</p>

<p>GET
<code><span id=vpOrder>/v2/private/order</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#vpOrder"><img src="../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button></p>

<p class="fake_header">请求参数</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left"><b>true</b></td>
<td style="text-align: left">string</td>
<td>合约类型</td>
</tr>
<tr>
<td style="text-align: left">order_id</td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>订单ID</td>
</tr>
<tr>
<td style="text-align: left">order_link_id</td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>用户自定义订单ID</td>
</tr>
</tbody></table>

<p class="fake_header">返回参数</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">user_id</td>
<td style="text-align: left">number</td>
<td>用户ID</td>
</tr>
<tr>
<td style="text-align: left">symbol</td>
<td style="text-align: left">string</td>
<td>合约类型</td>
</tr>
<tr>
<td style="text-align: left">side</td>
<td style="text-align: left">string</td>
<td>方向</td>
</tr>
<tr>
<td style="text-align: left">order_type</td>
<td style="text-align: left">string</td>
<td>交易记录类型</td>
</tr>
<tr>
<td style="text-align: left">price</td>
<td style="text-align: left">number</td>
<td>委托价格</td>
</tr>
<tr>
<td style="text-align: left">qty</td>
<td style="text-align: left">number</td>
<td>委托数量</td>
</tr>
<tr>
<td style="text-align: left">time_in_force</td>
<td style="text-align: left">string</td>
<td>执行策略</td>
</tr>
<tr>
<td style="text-align: left">order_status</td>
<td style="text-align: left">string</td>
<td>订单状态</td>
</tr>
<tr>
<td style="text-align: left">ext_fields</td>
<td style="text-align: left">json</td>
<td>扩展字段</td>
</tr>
<tr>
<td style="text-align: left">leaves_qty</td>
<td style="text-align: left">number</td>
<td>剩余委托数量</td>
</tr>
<tr>
<td style="text-align: left">leaves_value</td>
<td style="text-align: left">number</td>
<td>剩余挂单数量对应的预估价值</td>
</tr>
<tr>
<td style="text-align: left">cum_exec_qty</td>
<td style="text-align: left">number</td>
<td>累计成交数量</td>
</tr>
<tr>
<td style="text-align: left">cum_exec_value</td>
<td style="text-align: left">number</td>
<td>累计成交价值</td>
</tr>
<tr>
<td style="text-align: left">cum_exec_fee</td>
<td style="text-align: left">order_link_id</td>
<td>string</td>
</tr>
<tr>
<td style="text-align: left">reject_reason</td>
<td style="text-align: left">string</td>
<td>被拒单的原因</td>
</tr>
<tr>
<td style="text-align: left">cancel_type</td>
<td style="text-align: left">string</td>
<td>取消操作的触发场景</td>
</tr>
<tr>
<td style="text-align: left">order_link_id</td>
<td style="text-align: left">string</td>
<td>机构自定义订单ID</td>
</tr>
<tr>
<td style="text-align: left">created_at</td>
<td style="text-align: left">string</td>
<td>创建时间</td>
</tr>
<tr>
<td style="text-align: left">updated_at</td>
<td style="text-align: left">string</td>
<td>更新时间</td>
</tr>
<tr>
<td style="text-align: left">order_id</td>
<td style="text-align: left">string</td>
<td>订单ID</td>
</tr>
</tbody></table>
<h2 id='t-conditionalorders'>条件单</h2><h3 id='t-placecond'>创建条件委托单</h3>
<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight console tab-console"><code><span class="go">curl https://api.bybit.com/v2/private/stop-order/create \
-H "Content-Type: application/json" \
-d '{"api_key":"{api_key}","order_type":"Limit","side":"Buy","symbol":"BTCUSD","qty":1,"price":8100,"base_price":8300,"stop_px":8150,"time_in_force":"GoodTillCancel","order_link_id":"cus_order_id_1","timestamp":{timestamp},"sign":"{sign}"}'
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">bybit</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">bybit</span><span class="p">.</span><span class="n">bybit</span><span class="p">(</span><span class="n">test</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">api_key</span><span class="o">=</span><span class="s">"api_key"</span><span class="p">,</span> <span class="n">api_secret</span><span class="o">=</span><span class="s">"api_secret"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">client</span><span class="p">.</span><span class="n">Conditional</span><span class="p">.</span><span class="n">Conditional_new</span><span class="p">(</span><span class="n">order_type</span><span class="o">=</span><span class="s">"Limit"</span><span class="p">,</span><span class="n">side</span><span class="o">=</span><span class="s">"Buy"</span><span class="p">,</span><span class="n">symbol</span><span class="o">=</span><span class="s">"XRPUSD"</span><span class="p">,</span><span class="n">qty</span><span class="o">=</span><span class="s">"1"</span><span class="p">,</span><span class="n">price</span><span class="o">=</span><span class="s">"0.2569"</span><span class="p">,</span><span class="n">base_price</span><span class="o">=</span><span class="s">"15700"</span><span class="p">,</span><span class="n">stop_px</span><span class="o">=</span><span class="s">"0.2119"</span><span class="p">,</span><span class="n">time_in_force</span><span class="o">=</span><span class="s">"GoodTillCancel"</span><span class="p">).</span><span class="n">result</span><span class="p">())</span>

</code></pre></div>
<blockquote>
<p>响应示例</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">ret_code</span><span class="dl">"</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ret_msg</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">OK</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_code</span><span class="dl">"</span><span class="p">:</span><span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_info</span><span class="dl">"</span><span class="p">:</span><span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">result</span><span class="dl">"</span><span class="p">:{</span>
        <span class="dl">"</span><span class="s2">user_id</span><span class="dl">"</span><span class="p">:</span><span class="mi">160880</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">symbol</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">BTCUSD</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">side</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">Buy</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">order_type</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">Limit</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">price</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">9003</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">qty</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">2</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">time_in_force</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">GoodTillCancel</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">remark</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">127.0.0.1</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">leaves_qty</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">2</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">leaves_value</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">0</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">stop_px</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">8232</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">reject_reason</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">EC_NoError</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">stop_order_id</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">eaf205ac-9dcc-44f6-8731-734e2101e61b</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">created_at</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">2020-11-06T07:48:43.940Z</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">updated_at</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">2020-11-06T07:48:43.940Z</span><span class="dl">"</span>
    <span class="p">},</span>
    <span class="dl">"</span><span class="s2">time_now</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">1604648923.942177</span><span class="dl">"</span>
<span class="p">}</span>
</code></pre></div>
<p><p>市价条件委托: 一个传统的市场价格订单,会以当前的最优价格为您成交订单。当且仅当选择市价单时，'price', '可为空！</p>
<p>限价条件委托: 您可以为您的订单设置一个执行价格，当市场价格达到您的设置价格时，系统会为您成交订单。</p>
<p>止盈止损: 您仅能在开仓时设置止盈止损条件单，一旦持有仓位后提交活动委托时关联的止盈止损则不再有效。一旦持仓后，当创建订单后发送的止盈止损信息将不再有效。</p>
<p>委托数量: 表示您要购买/卖出的永续合约数，对于委托数量目前Bybit只允许提交正整数。</p>
<p>委托价格: 表示您期望购买/卖出永续合约的价格，可以根据<a href="#t-querysymbol">交易对接口</a>查询不同symbol价格阶梯。</p>
<p>条件委托触发价格: 您可以为您的条件委托单设置一个触发价格，条件委托单不进入委托表（Order Book)，只有触发条件成立如市场价格到达触发价格时，条件委托单才会进入交易系统。当市场价格到达触发价格：1）您的限价条件委托单进入Order Book，等待被执行；2）您的市价条件委托单将按照市场最优价格立即被执行。</p>
<p>自定义条件单ID: 您可以自定义活动委托订单ID，我们会为您关联到系统的订单ID，并把系统的唯一订单ID在活动委托创建成功后一并返回给您，您可以使用该订单ID去取消活动委托，同时要求您传递的自定义订单ID最大长度不超过36个字段且唯一。</p>
</p>

<aside class="notice">
请注意:只允许最多创建10个条件委托单
</aside>

<p class="fake_header">HTTP 请求</p>

<p>POST
<code><span id=vpsoCreate>/v2/private/stop-order/create</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#vpsoCreate"><img src="../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button></p>

<p class="fake_header">请求参数</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><a href="#side-side">side</a></td>
<td style="text-align: left"><b>true</b></td>
<td style="text-align: left">string</td>
<td>方向</td>
</tr>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left"><b>true</b></td>
<td style="text-align: left">string</td>
<td>合约类型</td>
</tr>
<tr>
<td style="text-align: left"><a href="#order-type-order_type">order_type</a></td>
<td style="text-align: left"><b>true</b></td>
<td style="text-align: left">string</td>
<td>委托单价格类型</td>
</tr>
<tr>
<td style="text-align: left"><a href="#quantity-qty">qty</a></td>
<td style="text-align: left"><b>true</b></td>
<td style="text-align: left">string</td>
<td>委托数量(1个委托1美元)，只能为正整数</td>
</tr>
<tr>
<td style="text-align: left"><a href="#price-price">price</a></td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>条件委托执行价格。如果条件委托是限价单，则price为必传字段</td>
</tr>
<tr>
<td style="text-align: left">base_price</td>
<td style="text-align: left"><b>true</b></td>
<td style="text-align: left">string</td>
<td>当前市价。用于和stop_px值进行比较，确定当前条件委托是看空到<code>stop_px</code>时触发还是看多到stop_px触发。主要是用来标识当前条件单预期的方向</td>
</tr>
<tr>
<td style="text-align: left">stop_px</td>
<td style="text-align: left"><b>true</b></td>
<td style="text-align: left">string</td>
<td>触发价格</td>
</tr>
<tr>
<td style="text-align: left"><a href="#time-in-force-time_in_force">time_in_force</a></td>
<td style="text-align: left"><b>true</b></td>
<td style="text-align: left">string</td>
<td>执行策略</td>
</tr>
<tr>
<td style="text-align: left"><a href="#trigger-price-type-trigger_by">trigger_by</a></td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>触发价格类型. 默认为最新市价</td>
</tr>
<tr>
<td style="text-align: left">close_on_trigger</td>
<td style="text-align: left">false</td>
<td style="text-align: left">bool</td>
<td>触发后平仓. 如果下平仓单，请设置为<code>true</code>，避免因为保证金不足而导致下单失败</td>
</tr>
<tr>
<td style="text-align: left">order_link_id</td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>机构自定义订单ID, 最大长度36位，且同一机构下自定义ID不可重复</td>
</tr>
</tbody></table>

<p class="fake_header">返回参数</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">user_id</td>
<td style="text-align: left">integer</td>
<td>用户ID</td>
</tr>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left">string</td>
<td>合约类型</td>
</tr>
<tr>
<td style="text-align: left"><a href="#side-side">side</a></td>
<td style="text-align: left">string</td>
<td>方向</td>
</tr>
<tr>
<td style="text-align: left"><a href="#order-type-order_type">order_type</a></td>
<td style="text-align: left">string</td>
<td>订单类型</td>
</tr>
<tr>
<td style="text-align: left"><a href="#price-price">price</a></td>
<td style="text-align: left">string</td>
<td>委托价格</td>
</tr>
<tr>
<td style="text-align: left"><a href="#quantity-qty">qty</a></td>
<td style="text-align: left">string</td>
<td>委托数量</td>
</tr>
<tr>
<td style="text-align: left"><a href="#time-in-force-time_in_force">time_in_force</a></td>
<td style="text-align: left">string</td>
<td>执行策略</td>
</tr>
<tr>
<td style="text-align: left"><a href="#trigger-price-type-trigger_by">trigger_by</a></td>
<td style="text-align: left">string</td>
<td>触发价格类型. 默认为最新市价</td>
</tr>
<tr>
<td style="text-align: left">base_price</td>
<td style="text-align: left">string</td>
<td>下单时市价</td>
</tr>
<tr>
<td style="text-align: left">remark</td>
<td style="text-align: left">string</td>
<td>备注</td>
</tr>
<tr>
<td style="text-align: left">reject_reason</td>
<td style="text-align: left">string</td>
<td>被拒单的原因</td>
</tr>
<tr>
<td style="text-align: left">stop_px</td>
<td style="text-align: left">string</td>
<td>触发价格</td>
</tr>
<tr>
<td style="text-align: left">stop_order_id</td>
<td style="text-align: left">string</td>
<td>条件委托订单ID。</td>
</tr>
<tr>
<td style="text-align: left">created_at</td>
<td style="text-align: left">string</td>
<td>创建时间</td>
</tr>
<tr>
<td style="text-align: left">order_link_id</td>
<td style="text-align: left">string</td>
<td>机构自定义订单ID</td>
</tr>
</tbody></table>
<h3 id='t-getcond'>查询条件委托</h3>
<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight console tab-console"><code><span class="go">curl "https://api.bybit.com/v2/private/stop-order/list?api_key={api_key}&amp;timestamp={timestamp}&amp;sign={sign}"
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">bybit</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">bybit</span><span class="p">.</span><span class="n">bybit</span><span class="p">(</span><span class="n">test</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">api_key</span><span class="o">=</span><span class="s">"api_key"</span><span class="p">,</span> <span class="n">api_secret</span><span class="o">=</span><span class="s">"api_secret"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">client</span><span class="p">.</span><span class="n">Conditional</span><span class="p">.</span><span class="n">Conditional_getOrders</span><span class="p">(</span><span class="n">symbol</span><span class="o">=</span><span class="s">"BTCUSD"</span><span class="p">,</span><span class="n">stop_order_status</span><span class="o">=</span><span class="s">"Untriggered"</span><span class="p">).</span><span class="n">result</span><span class="p">())</span>
</code></pre></div>
<blockquote>
<p>响应示例</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">ret_code</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ret_msg</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">OK</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_code</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_info</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">result</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
        <span class="dl">"</span><span class="s2">data</span><span class="dl">"</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span>
                <span class="dl">"</span><span class="s2">user_id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">160861</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">stop_order_status</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Active</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">symbol</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">ETHUSD</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">side</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Buy</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">order_type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Market</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">stop_order_type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">TakeProfit</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">price</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">220</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">qty</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">120</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">time_in_force</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">ImmediateOrCancel</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">base_price</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">258</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">order_link_id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">created_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2019-08-02T07:37:24Z</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">updated_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2019-08-02T07:38:40Z</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">stop_px</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">224.3</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">stop_order_id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">6d0dec74-f516-4d95-81f1-c85e60c9a331</span><span class="dl">"</span>
            <span class="p">}</span>
        <span class="p">],</span>
        <span class="dl">"</span><span class="s2">cursor</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">zZtvOJ0gc3UOxZOwotsJSZyMTOgyC9tj1DmFyUU6eNHUL0X4NLwZvo8iqI6ltPIc</span><span class="dl">"</span>
    <span class="p">},</span>
    <span class="dl">"</span><span class="s2">time_now</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1604653512.292878</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_status</span><span class="dl">"</span><span class="p">:</span> <span class="mi">599</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_reset_ms</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1604653512287</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit</span><span class="dl">"</span><span class="p">:</span> <span class="mi">600</span>
<span class="p">}</span>
</code></pre></div>
<p><p>获取我的条件委托单列表。</p> <p>创建/取消订单是异步的，因此<b>该接口可能返回的数据可能会有延迟</b>。如果要获取订单的实时信息，可以调用接口<a href="#t-querycond">实时查询条件单信息</a>。</p></p>

<p class="fake_header">HTTP 请求</p>

<p>GET
<code><span id=vpsoList>/v2/private/stop-order/list</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#vpsoList"><img src="../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button></p>

<p class="fake_header">请求参数</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left"><b>true</b></td>
<td style="text-align: left">string</td>
<td>合约类型</td>
</tr>
<tr>
<td style="text-align: left"><a href="#stop-order-status-stop_order_status">stop_order_status</a></td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>指定订单状态查询订单列表。不传该参数则默认查询<code>Untriggered</code>,<code>Active</code>,<code>Deactivated</code>这三种状态的订单列表。该参数支持多状态查询，状态之间用英文逗号分割。</td>
</tr>
<tr>
<td style="text-align: left">direction</td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>搜索方向：<code>prev</code>:上一页,<code>next</code>:下一页,默认为 <code>next</code></td>
</tr>
<tr>
<td style="text-align: left">limit</td>
<td style="text-align: left">false</td>
<td style="text-align: left">integer</td>
<td>每页数量, 最大50. 默认每页20条</td>
</tr>
<tr>
<td style="text-align: left">cursor</td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>翻页标记,请使用返回的cursor,签名时使用返回的原始数据，发送request时请进行urlencode</td>
</tr>
</tbody></table>

<p class="fake_header">返回参数</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">data &gt; user_id</td>
<td style="text-align: left">integer</td>
<td>用户ID</td>
</tr>
<tr>
<td style="text-align: left">data &gt; <a href="#stop-order-status-stop_order_status">stop_order_status</a></td>
<td style="text-align: left">string</td>
<td>条件单状态</td>
</tr>
<tr>
<td style="text-align: left">data &gt; <a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left">string</td>
<td>合约类型</td>
</tr>
<tr>
<td style="text-align: left">data &gt; <a href="#side-side">side</a></td>
<td style="text-align: left">string</td>
<td>方向</td>
</tr>
<tr>
<td style="text-align: left">data &gt; <a href="#order-type-order_type">order_type</a></td>
<td style="text-align: left">string</td>
<td>订单类型</td>
</tr>
<tr>
<td style="text-align: left">data &gt; <a href="#price-price">price</a></td>
<td style="text-align: left">number</td>
<td>委托价格</td>
</tr>
<tr>
<td style="text-align: left">data &gt; <a href="#quantity-qty">qty</a></td>
<td style="text-align: left">number</td>
<td>委托数量</td>
</tr>
<tr>
<td style="text-align: left">data &gt; <a href="#time-in-force-time_in_force">time_in_force</a></td>
<td style="text-align: left">string</td>
<td>执行策略</td>
</tr>
<tr>
<td style="text-align: left">data &gt; stop_order_type</td>
<td style="text-align: left">string</td>
<td>委托单价格类型</td>
</tr>
<tr>
<td style="text-align: left">data &gt; <a href="#trigger-price-type-trigger_by">trigger_by</a></td>
<td style="text-align: left">string</td>
<td>触发价格类型</td>
</tr>
<tr>
<td style="text-align: left">data &gt; base_price</td>
<td style="text-align: left">number</td>
<td>下单时市价</td>
</tr>
<tr>
<td style="text-align: left">data &gt; order_link_id</td>
<td style="text-align: left">string</td>
<td>机构自定义订单ID</td>
</tr>
<tr>
<td style="text-align: left">data &gt; created_at</td>
<td style="text-align: left">string</td>
<td>创建时间</td>
</tr>
<tr>
<td style="text-align: left">data &gt; updated_at</td>
<td style="text-align: left">string</td>
<td>更新时间</td>
</tr>
<tr>
<td style="text-align: left">data &gt; stop_px</td>
<td style="text-align: left">number</td>
<td>触发价格</td>
</tr>
<tr>
<td style="text-align: left">data &gt; stop_order_id</td>
<td style="text-align: left">string</td>
<td>条件委托订单ID。</td>
</tr>
<tr>
<td style="text-align: left">cursor</td>
<td style="text-align: left">string</td>
<td>翻页标记</td>
</tr>
</tbody></table>
<h3 id='t-cancelcond'>撤消条件委托单</h3>
<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight console tab-console"><code><span class="go">curl https://api.bybit.com/v2/private/stop-order/cancel \
-H "Content-Type: application/json" \
-d '{"api_key":"{api_key}","symbol":"BTCUSD","stop_order_id":"xxx","timestamp":{timestamp},"sign":"{sign}"}'
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">bybit</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">bybit</span><span class="p">.</span><span class="n">bybit</span><span class="p">(</span><span class="n">test</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">api_key</span><span class="o">=</span><span class="s">"api_key"</span><span class="p">,</span> <span class="n">api_secret</span><span class="o">=</span><span class="s">"api_secret"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">client</span><span class="p">.</span><span class="n">Conditional</span><span class="p">.</span><span class="n">Conditional_cancel</span><span class="p">(</span><span class="n">symbol</span><span class="o">=</span><span class="s">"BTCUSD"</span><span class="p">,</span> <span class="n">stop_order_id</span><span class="o">=</span><span class="s">""</span><span class="p">).</span><span class="n">result</span><span class="p">())</span>
</code></pre></div>
<blockquote>
<p>响应示例</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">ret_code</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ret_msg</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">ok</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_code</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">result</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
        <span class="dl">"</span><span class="s2">stop_order_id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">c1025629-e85b-4c26-b4f3-76e86ad9f8cb</span><span class="dl">"</span>
    <span class="p">},</span>
    <span class="dl">"</span><span class="s2">ext_info</span><span class="dl">"</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">time_now</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1577452218.567120</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_status</span><span class="dl">"</span><span class="p">:</span> <span class="mi">97</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_reset_ms</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1577452218573</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">100</span><span class="dl">"</span>
<span class="p">}</span>
</code></pre></div>
<p><p>您可以撤销所有未被激活的条件委托,或止盈止损单。本质上所有条件委托在被激活后都是属于活动委托，所以条件委托一旦被激活，您需要通过调用取消活动委托接口来取消所有未成交、部分成交的活动委托单。同样全部成交的活动委托不可取消。</p>
</p>

<p class="fake_header">HTTP 请求</p>

<p>POST
<code><span id=vpsoCancel>/v2/private/stop-order/cancel</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#vpsoCancel"><img src="../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button></p>

<p class="fake_header">请求参数</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">required</th>
<th style="text-align: left">type</th>
<th>comments</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left"><b>true</b></td>
<td style="text-align: left">string</td>
<td>合约类型</td>
</tr>
<tr>
<td style="text-align: left">stop_order_id</td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>订单ID。如果未填order_link_id则为<b>必填</b>字段。</td>
</tr>
<tr>
<td style="text-align: left">order_link_id</td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>机构ID。如果未填stop_order_id则为<b>必填</b>字段。</td>
</tr>
</tbody></table>

<p class="fake_header">返回参数</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">stop_order_id</td>
<td style="text-align: left">string</td>
<td>条件委托订单ID。</td>
</tr>
</tbody></table>
<h3 id='t-cancelallcond'>撤消全部条件委托单</h3>
<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight console tab-console"><code><span class="go">curl https://api.bybit.com/v2/private/stop-order/cancelAll \
-H "Content-Type: application/json" \
-d '{"api_key":"{api_key}","symbol":"BTCUSD","timestamp":{timestamp},"sign":"{sign}"}'
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">bybit</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">bybit</span><span class="p">.</span><span class="n">bybit</span><span class="p">(</span><span class="n">test</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">api_key</span><span class="o">=</span><span class="s">"api_key"</span><span class="p">,</span> <span class="n">api_secret</span><span class="o">=</span><span class="s">"api_secret"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">client</span><span class="p">.</span><span class="n">Conditional</span><span class="p">.</span><span class="n">Conditional_cancelAll</span><span class="p">(</span><span class="n">symbol</span><span class="o">=</span><span class="s">"BTCUSD"</span><span class="p">).</span><span class="n">result</span><span class="p">())</span>
</code></pre></div>
<blockquote>
<p>响应示例</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">ret_code</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ret_msg</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">OK</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_code</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_info</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">result</span><span class="dl">"</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="dl">"</span><span class="s2">clOrdID</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">dea89649-9492-459d-a8c4-c298b87b3d26</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">user_id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">symbol</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">BTCUSD</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">side</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Sell</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">order_type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Limit</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">price</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">999999</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">qty</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">time_in_force</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">PostOnly</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">create_type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">CreateByUser</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">cancel_type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">CancelByUser</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">order_status</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">leaves_qty</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">leaves_value</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">created_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2019-12-17T12:13:20Z</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">updated_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2019-12-27T13:56:33.793799Z</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">cross_status</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Deactivated</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">cross_seq</span><span class="dl">"</span><span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">stop_order_type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Stop</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">trigger_by</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">LastPrice</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">base_price</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">6910.5</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">expected_direction</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Rising</span><span class="dl">"</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="dl">"</span><span class="s2">clOrdID</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">a85cd1c0-a9a4-49d3-a1bd-bab5ebe946d5</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">user_id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">symbol</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">BTCUSD</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">side</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Buy</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">order_type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Limit</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">price</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">8000</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">qty</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">time_in_force</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">GoodTillCancel</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">create_type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">CreateByStopOrder</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">cancel_type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">CancelByUser</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">order_status</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">leaves_qty</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">leaves_value</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">created_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2019-12-27T12:48:24.339323Z</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">updated_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2019-12-27T13:56:33.793802Z</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">cross_status</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Deactivated</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">cross_seq</span><span class="dl">"</span><span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">stop_order_type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Stop</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">trigger_by</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">LastPrice</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">base_price</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">7000</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">expected_direction</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Rising</span><span class="dl">"</span>
        <span class="p">}</span>
    <span class="p">],</span>
    <span class="dl">"</span><span class="s2">time_now</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1577454993.799912</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_status</span><span class="dl">"</span><span class="p">:</span> <span class="mi">90</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_reset_ms</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1580885703683</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit</span><span class="dl">"</span><span class="p">:</span> <span class="mi">100</span>
<span class="p">}</span>
</code></pre></div>
<p>撤销所有未被激活的条件委托。本质上所有条件委托在被激活后都是属于活动委托，所以条件委托一旦被激活，您需要通过调用取消活动委托接口来取消所有未成交、部分成交的活动委托单。同样全部成交的活动委托不可取消。</p>

<aside class="notice">
注意，此api每调用一次会导致rate_limit扣减10
</aside>

<p class="fake_header">HTTP 请求</p>

<p>POST
<code><span id=vpsoCancelAll>/v2/private/stop-order/cancelAll</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#vpsoCancelAll"><img src="../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button></p>

<p class="fake_header">请求参数</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">required</th>
<th style="text-align: left">type</th>
<th>comments</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left"><b>true</b></td>
<td style="text-align: left">string</td>
<td>合约类型</td>
</tr>
</tbody></table>

<p class="fake_header">返回参数</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">clOrdID</td>
<td style="text-align: left">string</td>
<td>uuid类型的唯一订单号</td>
</tr>
<tr>
<td style="text-align: left">user_id</td>
<td style="text-align: left">number</td>
<td>用户ID</td>
</tr>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left">string</td>
<td>合约类型</td>
</tr>
<tr>
<td style="text-align: left"><a href="#side-side">side</a></td>
<td style="text-align: left">string</td>
<td>方向</td>
</tr>
<tr>
<td style="text-align: left"><a href="#order-type-order_type">order_type</a></td>
<td style="text-align: left">string</td>
<td>订单类型</td>
</tr>
<tr>
<td style="text-align: left"><a href="#price-price">price</a></td>
<td style="text-align: left">number</td>
<td>委托价格</td>
</tr>
<tr>
<td style="text-align: left"><a href="#quantity-qty">qty</a></td>
<td style="text-align: left">number</td>
<td>委托数量</td>
</tr>
<tr>
<td style="text-align: left"><a href="#time-in-force-time_in_force">time_in_force</a></td>
<td style="text-align: left">string</td>
<td>执行策略</td>
</tr>
<tr>
<td style="text-align: left">create_type</td>
<td style="text-align: left">string</td>
<td>下单操作的触发场景</td>
</tr>
<tr>
<td style="text-align: left">cancel_type</td>
<td style="text-align: left">string</td>
<td>取消操作的触发场景</td>
</tr>
<tr>
<td style="text-align: left"><a href="#order-status-order_status">order_status</a></td>
<td style="text-align: left">string</td>
<td>订单状态</td>
</tr>
<tr>
<td style="text-align: left">leaves_qty</td>
<td style="text-align: left">number</td>
<td>剩余委托数量</td>
</tr>
<tr>
<td style="text-align: left">leaves_value</td>
<td style="text-align: left">number</td>
<td>剩余挂单数量对应的预估价值</td>
</tr>
<tr>
<td style="text-align: left">created_at</td>
<td style="text-align: left">string</td>
<td>创建时间</td>
</tr>
<tr>
<td style="text-align: left">updated_at</td>
<td style="text-align: left">string</td>
<td>更新时间</td>
</tr>
<tr>
<td style="text-align: left">cross_status</td>
<td style="text-align: left">string</td>
<td>取消操作的触发场景</td>
</tr>
<tr>
<td style="text-align: left">cross_seq</td>
<td style="text-align: left">number</td>
<td>撮合版本号</td>
</tr>
<tr>
<td style="text-align: left">stop_order_type</td>
<td style="text-align: left">string</td>
<td>委托单价格类型</td>
</tr>
<tr>
<td style="text-align: left"><a href="#trigger-price-type-trigger_by">trigger_by</a></td>
<td style="text-align: left">string</td>
<td>触发价格类型. 默认为最新市价</td>
</tr>
<tr>
<td style="text-align: left">base_price</td>
<td style="text-align: left">number</td>
<td>下单时市价</td>
</tr>
<tr>
<td style="text-align: left">expected_direction</td>
<td style="text-align: left">string</td>
<td>预期方向</td>
</tr>
</tbody></table>
<h3 id='t-replacecond'>修改条件委托单</h3>
<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight console tab-console"><code><span class="go">curl https://api.bybit.com/v2/private/stop-order/replace \
-H "Content-Type: application/json" \
-d '{"api_key":"{api_key}","symbol":"BTCUSD","stop_order_id":"","timestamp":{timestamp},"sign":"{sign}"}'
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">bybit</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">bybit</span><span class="p">.</span><span class="n">bybit</span><span class="p">(</span><span class="n">test</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">api_key</span><span class="o">=</span><span class="s">"api_key"</span><span class="p">,</span> <span class="n">api_secret</span><span class="o">=</span><span class="s">"api_secret"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">client</span><span class="p">.</span><span class="n">Conditional</span><span class="p">.</span><span class="n">Conditional_replace</span><span class="p">(</span><span class="n">symbol</span><span class="o">=</span><span class="s">"BTCUSD"</span><span class="p">,</span> <span class="n">stop_order_id</span><span class="o">=</span><span class="s">""</span><span class="p">,</span> <span class="n">p_r_trigger_price</span><span class="o">=</span><span class="s">"16003"</span><span class="p">).</span><span class="n">result</span><span class="p">())</span>

</code></pre></div>
<blockquote>
<p>响应示例</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">ret_code</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ret_msg</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">ok</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_code</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">result</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
        <span class="dl">"</span><span class="s2">stop_order_id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">378a1bbc-a93a-4e75-87f4-502ea754ba36</span><span class="dl">"</span>
    <span class="p">},</span>
    <span class="dl">"</span><span class="s2">ext_info</span><span class="dl">"</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">time_now</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1577475760.604942</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_status</span><span class="dl">"</span><span class="p">:</span> <span class="mi">96</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_reset_ms</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1577475760612</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">100</span><span class="dl">"</span>
<span class="p">}</span>
</code></pre></div>
<p><p>修改未触发的条件单。</p></p>

<aside class="notice">
请注意，只有未触发的条件单才能被修改。

</aside>

<p class="fake_header">HTTP 请求</p>

<p>POST
<code><span id=vpsoReplace>/v2/private/stop-order/replace</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#vpsoReplace"><img src="../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button></p>

<p class="fake_header">请求参数</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">stop_order_id</td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>订单ID。如果未填order_link_id则为<b>必填</b>字段。</td>
</tr>
<tr>
<td style="text-align: left">order_link_id</td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>机构ID。如果未填stop_order_id则为<b>必填</b>字段。</td>
</tr>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left"><b>true</b></td>
<td style="text-align: left">string</td>
<td>合约类型.</td>
</tr>
<tr>
<td style="text-align: left">p_r_qty</td>
<td style="text-align: left">false</td>
<td style="text-align: left">integer</td>
<td>修改后的订单数量。如果是未完全成交订单，则表示修改剩余未成交的部分。如果不修改这个字段，请不要传这个参数。</td>
</tr>
<tr>
<td style="text-align: left">p_r_price</td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>修改后的订单价格。如果不修改这个字段，请不要传这个参数。</td>
</tr>
<tr>
<td style="text-align: left">p_r_trigger_price</td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>修改后的条件单的触发价格或止盈止损的价格。如果不修改这个字段，请不要传这个参数。</td>
</tr>
</tbody></table>

<p class="fake_header">返回参数</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">stop_order_id</td>
<td style="text-align: left">string</td>
<td>条件委托订单ID。</td>
</tr>
</tbody></table>
<h3 id='t-querycond'>实时查询条件委托</h3>
<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight console tab-console"><code><span class="go">curl "https://api.bybit.com/v2/private/stop-order?api_key={api_key}&amp;symbol=BTCUSD&amp;timestamp={timestamp}order_id={order_id}&amp;sign={sign}"
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">bybit</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">bybit</span><span class="p">.</span><span class="n">bybit</span><span class="p">(</span><span class="n">test</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">api_key</span><span class="o">=</span><span class="s">"api_key"</span><span class="p">,</span> <span class="n">api_secret</span><span class="o">=</span><span class="s">"api_secret"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">client</span><span class="p">.</span><span class="n">Conditional</span><span class="p">.</span><span class="n">Conditional_query</span><span class="p">(</span><span class="n">symbol</span><span class="o">=</span><span class="s">"BTCUSD"</span><span class="p">,</span> <span class="n">stop_order_id</span><span class="o">=</span><span class="s">""</span><span class="p">,</span> <span class="n">p_r_trigger_price</span><span class="o">=</span><span class="s">"16003"</span><span class="p">).</span><span class="n">result</span><span class="p">())</span>

</code></pre></div>
<blockquote>
<p>响应示例</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">ret_code</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ret_msg</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">OK</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_code</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_info</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">result</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
        <span class="dl">"</span><span class="s2">user_id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">symbol</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">BTCUSD</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">side</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Buy</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">order_type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Limit</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">price</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">8000</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">qty</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">time_in_force</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">GoodTillCancel</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">order_status</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Untriggered</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">ext_fields</span><span class="dl">"</span><span class="p">:</span> <span class="p">{},</span>
        <span class="dl">"</span><span class="s2">leaves_qty</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">leaves_value</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0.00013333</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">cum_exec_qty</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">cum_exec_value</span><span class="dl">"</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">cum_exec_fee</span><span class="dl">"</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">reject_reason</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">order_link_id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">created_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2019-12-27T19:56:24.052194Z</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">updated_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2019-12-27T19:56:24.052194Z</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">order_id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">378a1bbc-a93a-4e75-87f4-502ea754ba36</span><span class="dl">"</span>
    <span class="p">},</span>
    <span class="dl">"</span><span class="s2">time_now</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1577476584.386958</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_status</span><span class="dl">"</span><span class="p">:</span> <span class="mi">99</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_reset_ms</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1580885703683</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit</span><span class="dl">"</span><span class="p">:</span> <span class="mi">100</span>
<span class="p">}</span>

<span class="c1">//当只传参数<code>symbol</code>的时候，返回结构如下：</span>
<span class="p">{</span>
    <span class="dl">"</span><span class="s2">ret_code</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ret_msg</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">OK</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_code</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_info</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">result</span><span class="dl">"</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="dl">"</span><span class="s2">user_id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">100328</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">symbol</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">EOSUSD</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">side</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Sell</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">order_type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Limit</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">price</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2.7</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">qty</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">stop_px</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2.0000</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">base_price</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2.7000</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">time_in_force</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">GoodTillCancel</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">order_status</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Untriggered</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">ext_fields</span><span class="dl">"</span><span class="p">:</span> <span class="p">{},</span>
            <span class="dl">"</span><span class="s2">leaves_qty</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">leaves_value</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0.37037037</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">cum_exec_qty</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">cum_exec_value</span><span class="dl">"</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">cum_exec_fee</span><span class="dl">"</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">reject_reason</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">EC_NoError</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">cancel_type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">UNKNOWN</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">order_link_id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">created_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2020-12-17T08:21:15.246331281Z</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">updated_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2020-12-17T08:21:15.246331281Z</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">order_id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">a0dee45e-ae2a-4eb4-8205-9739075a7a81</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">trigger_by</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">MarkPrice</span><span class="dl">"</span>
        <span class="p">},</span>
        <span class="p">...</span>
        <span class="p">{</span>
            <span class="dl">"</span><span class="s2">user_id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">100328</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">symbol</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">EOSUSD</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">side</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Sell</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">order_type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Limit</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">price</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2.6</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">qty</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">stop_px</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2.0000</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">base_price</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2.7000</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">time_in_force</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">GoodTillCancel</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">order_status</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Untriggered</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">ext_fields</span><span class="dl">"</span><span class="p">:</span> <span class="p">{},</span>
            <span class="dl">"</span><span class="s2">leaves_qty</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">leaves_value</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0.38461538</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">cum_exec_qty</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">cum_exec_value</span><span class="dl">"</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">cum_exec_fee</span><span class="dl">"</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">reject_reason</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">EC_NoError</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">cancel_type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">UNKNOWN</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">order_link_id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">created_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2020-12-17T08:21:10.924193413Z</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">updated_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2020-12-17T08:21:10.924193413Z</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">order_id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">51d048ba-a71f-40ef-b4c4-897e94590b80</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">trigger_by</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">MarkPrice</span><span class="dl">"</span>
        <span class="p">}</span>
    <span class="p">],</span>
    <span class="dl">"</span><span class="s2">time_now</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1608193281.690286</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_status</span><span class="dl">"</span><span class="p">:</span> <span class="mi">599</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_reset_ms</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1608193281687</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit</span><span class="dl">"</span><span class="p">:</span> <span class="mi">600</span>
<span class="p">}</span>
</code></pre></div>
<p>实时查询条件委托。当传递参数<code>order_id</code>或<code>order_link_id</code>其中任意一个时，将返回单条订单数据；如果参数<code>order_id</code>和<code>order_link_id</code>都不传递时，将返回所有<b>未成交</b>的订单，最多50条。</p>

<aside class="notice">
<b>条件单触发后，在系统内部会成为活动单，实际上，返回结构体中的<code>order_id</code>等同于请求参数的<code>stop_order_id</code></b>
</aside>

<p class="fake_header">HTTP 请求</p>

<p>GET
<code><span id=vpStopOrder>/v2/private/stop-order</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#vpStopOrder"><img src="../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button></p>

<p class="fake_header">请求参数</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left"><b>true</b></td>
<td style="text-align: left">string</td>
<td>合约类型</td>
</tr>
<tr>
<td style="text-align: left">stop_order_id</td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>订单ID</td>
</tr>
<tr>
<td style="text-align: left">order_link_id</td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>用户自定义订单ID</td>
</tr>
</tbody></table>

<p class="fake_header">返回参数</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">user_id</td>
<td style="text-align: left">number</td>
<td>用户ID</td>
</tr>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left">string</td>
<td>合约类型</td>
</tr>
<tr>
<td style="text-align: left"><a href="#side-side">side</a></td>
<td style="text-align: left">string</td>
<td>方向</td>
</tr>
<tr>
<td style="text-align: left"><a href="#order-type-order_type">order_type</a></td>
<td style="text-align: left">string</td>
<td>订单类型</td>
</tr>
<tr>
<td style="text-align: left"><a href="#price-price">price</a></td>
<td style="text-align: left">number</td>
<td>委托价格</td>
</tr>
<tr>
<td style="text-align: left"><a href="#quantity-qty">qty</a></td>
<td style="text-align: left">number</td>
<td>委托数量</td>
</tr>
<tr>
<td style="text-align: left"><a href="#time-in-force-time_in_force">time_in_force</a></td>
<td style="text-align: left">string</td>
<td>执行策略</td>
</tr>
<tr>
<td style="text-align: left"><a href="#order-status-order_status">order_status</a></td>
<td style="text-align: left">string</td>
<td>订单状态</td>
</tr>
<tr>
<td style="text-align: left">ext_fields</td>
<td style="text-align: left">json</td>
<td>扩展字段</td>
</tr>
<tr>
<td style="text-align: left">leaves_qty</td>
<td style="text-align: left">number</td>
<td>剩余委托数量</td>
</tr>
<tr>
<td style="text-align: left">leaves_value</td>
<td style="text-align: left">number</td>
<td>剩余挂单数量对应的预估价值</td>
</tr>
<tr>
<td style="text-align: left">cum_exec_qty</td>
<td style="text-align: left">number</td>
<td>累计成交数量</td>
</tr>
<tr>
<td style="text-align: left">cum_exec_value</td>
<td style="text-align: left">number</td>
<td>累计成交价值</td>
</tr>
<tr>
<td style="text-align: left">cum_exec_fee</td>
<td style="text-align: left">number</td>
<td>累计成交手续费</td>
</tr>
<tr>
<td style="text-align: left">reject_reason</td>
<td style="text-align: left">string</td>
<td>被拒单的原因</td>
</tr>
<tr>
<td style="text-align: left">order_link_id</td>
<td style="text-align: left">string</td>
<td>机构自定义订单ID</td>
</tr>
<tr>
<td style="text-align: left">created_at</td>
<td style="text-align: left">string</td>
<td>创建时间</td>
</tr>
<tr>
<td style="text-align: left">updated_at</td>
<td style="text-align: left">string</td>
<td>更新时间</td>
</tr>
<tr>
<td style="text-align: left">order_id</td>
<td style="text-align: left">string</td>
<td>订单ID</td>
</tr>
<tr>
<td style="text-align: left">base_price</td>
<td style="text-align: left">string</td>
<td>下单时市价</td>
</tr>
<tr>
<td style="text-align: left">stop_px</td>
<td style="text-align: left">string</td>
<td>触发价格</td>
</tr>
<tr>
<td style="text-align: left"><a href="#trigger-price-type-trigger_by">trigger_by</a></td>
<td style="text-align: left">string</td>
<td>触发价格类型</td>
</tr>
</tbody></table>
<h2 id='t-position'>持仓</h2><h3 id='t-myposition'>获取持仓（实时）</h3>
<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight console tab-console"><code><span class="go">curl "https://api.bybit.com/v2/private/position/list?api_key={api_key}&amp;symbol=BTCUSD&amp;timestamp={timestamp}&amp;sign={sign}"
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">bybit</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">bybit</span><span class="p">.</span><span class="n">bybit</span><span class="p">(</span><span class="n">test</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">api_key</span><span class="o">=</span><span class="s">"api_key"</span><span class="p">,</span> <span class="n">api_secret</span><span class="o">=</span><span class="s">"api_secret"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">client</span><span class="p">.</span><span class="n">Positions</span><span class="p">.</span><span class="n">Positions_myPosition</span><span class="p">(</span><span class="n">symbol</span><span class="o">=</span><span class="s">"BTCUSD"</span><span class="p">).</span><span class="n">result</span><span class="p">())</span>
</code></pre></div>
<blockquote>
<p>响应示例</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">ret_code</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ret_msg</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">OK</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_code</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_info</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">result</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
        <span class="dl">"</span><span class="s2">id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">27913</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">user_id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">risk_id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">symbol</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">BTCUSD</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">side</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Buy</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">size</span><span class="dl">"</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">position_value</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0.0006947</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">entry_price</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">7197.35137469</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">is_isolated</span><span class="dl">"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">auto_add_margin</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">leverage</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1</span><span class="dl">"</span><span class="p">,</span>  <span class="c1">//逐仓模式下, 值为用户设置的杠杆；全仓模式下，值为当前风险限额下最大杠杆</span>
        <span class="dl">"</span><span class="s2">effective_leverage</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1</span><span class="dl">"</span><span class="p">,</span> <span class="c1">// 有效杠杆. 逐仓模式下, 等于`leverage`; 全仓模式下, 计算公式为： <code>position size / markprice / (wallet_balance+unrealised_pnl)</code></span>
        <span class="dl">"</span><span class="s2">position_margin</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0.0006947</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">liq_price</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">3608</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">bust_price</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">3599</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">occ_closing_fee</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0.00000105</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">occ_funding_fee</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">take_profit</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">stop_loss</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">trailing_stop</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">position_status</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Normal</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">deleverage_indicator</span><span class="dl">"</span><span class="p">:</span> <span class="mi">4</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">oc_calc_data</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">{</span><span class="se">\"</span><span class="s2">blq</span><span class="se">\"</span><span class="s2">:2,</span><span class="se">\"</span><span class="s2">blv</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">0.0002941</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">slq</span><span class="se">\"</span><span class="s2">:0,</span><span class="se">\"</span><span class="s2">bmp</span><span class="se">\"</span><span class="s2">:6800.408,</span><span class="se">\"</span><span class="s2">smp</span><span class="se">\"</span><span class="s2">:0,</span><span class="se">\"</span><span class="s2">fq</span><span class="se">\"</span><span class="s2">:-5,</span><span class="se">\"</span><span class="s2">fc</span><span class="se">\"</span><span class="s2">:-0.00029477,</span><span class="se">\"</span><span class="s2">bv2c</span><span class="se">\"</span><span class="s2">:1.00225,</span><span class="se">\"</span><span class="s2">sv2c</span><span class="se">\"</span><span class="s2">:1.0007575}</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">order_margin</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0.00029477</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">wallet_balance</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0.03000227</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">realised_pnl</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">-0.00000126</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">unrealised_pnl</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">cum_realised_pnl</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">-0.00001306</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">cross_seq</span><span class="dl">"</span><span class="p">:</span> <span class="mi">444081383</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">position_seq</span><span class="dl">"</span><span class="p">:</span> <span class="mi">287141589</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">created_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2019-10-19T17:04:55Z</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">updated_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2019-12-27T20:25:45.158767Z</span><span class="dl">"</span>
    <span class="p">},</span>
    <span class="dl">"</span><span class="s2">time_now</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1577480599.097287</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_status</span><span class="dl">"</span><span class="p">:</span> <span class="mi">119</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_reset_ms</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1580885703683</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit</span><span class="dl">"</span><span class="p">:</span> <span class="mi">120</span>
<span class="p">}</span>

<span class="c1">//当不传参数<code>symbol</code>的时候，返回结构如下：</span>
<span class="p">{</span>
    <span class="dl">"</span><span class="s2">ret_code</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ret_msg</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">OK</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_code</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_info</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">result</span><span class="dl">"</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="dl">"</span><span class="s2">is_valid</span><span class="dl">"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span> <span class="c1">//表示当前data对应的symbol数据是否可用</span>
            <span class="dl">"</span><span class="s2">data</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span> <span class="c1">//只有在<code>is_valid</code>为<b>true</b>时，<code>data</code>才可用，否则请不要使用data</span>
                <span class="dl">"</span><span class="s2">id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">user_id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">118921</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">risk_id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">symbol</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">BTCUSD</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">side</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Buy</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">size</span><span class="dl">"</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">position_value</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0.00076448</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">entry_price</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">13080.78694014</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">is_isolated</span><span class="dl">"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">auto_add_margin</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">leverage</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">100</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">effective_leverage</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0.01</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">position_margin</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0.40111704</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">liq_price</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">25</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">bust_price</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">25</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">occ_closing_fee</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0.0003</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">occ_funding_fee</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">take_profit</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">stop_loss</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">trailing_stop</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">position_status</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Normal</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">deleverage_indicator</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">oc_calc_data</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">{</span><span class="se">\"</span><span class="s2">blq</span><span class="se">\"</span><span class="s2">:0,</span><span class="se">\"</span><span class="s2">slq</span><span class="se">\"</span><span class="s2">:0,</span><span class="se">\"</span><span class="s2">bmp</span><span class="se">\"</span><span class="s2">:0,</span><span class="se">\"</span><span class="s2">smp</span><span class="se">\"</span><span class="s2">:0,</span><span class="se">\"</span><span class="s2">fq</span><span class="se">\"</span><span class="s2">:-10,</span><span class="se">\"</span><span class="s2">bv2c</span><span class="se">\"</span><span class="s2">:0.0115075,</span><span class="se">\"</span><span class="s2">sv2c</span><span class="se">\"</span><span class="s2">:0.0114925}</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">order_margin</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">wallet_balance</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0.40141704</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">realised_pnl</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">-0.00000008</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">unrealised_pnl</span><span class="dl">"</span><span class="p">:</span> <span class="mf">0.00003797</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">cum_realised_pnl</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">-0.090626</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">cross_seq</span><span class="dl">"</span><span class="p">:</span> <span class="mi">764786721</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">position_seq</span><span class="dl">"</span><span class="p">:</span> <span class="mi">581513847</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">created_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2020-08-10T07:04:32Z</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">updated_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2020-11-02T00:00:11.943371457Z</span><span class="dl">"</span>
            <span class="p">}</span>
        <span class="p">},</span>
        <span class="p">...</span>
        <span class="p">{</span>
            <span class="dl">"</span><span class="s2">is_valid</span><span class="dl">"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span> <span class="c1">//表示当前data对应的symbol数据是否可用</span>
            <span class="dl">"</span><span class="s2">data</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span> <span class="c1">//只有在<code>is_valid</code>为<b>true</b>时，<code>data</code>才可用，否则请不要使用data</span>
                <span class="dl">"</span><span class="s2">id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">user_id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">118921</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">risk_id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">35</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">symbol</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">XRPUSD</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">side</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">None</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">size</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">position_value</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">entry_price</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">is_isolated</span><span class="dl">"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">auto_add_margin</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">leverage</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">16.67</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">effective_leverage</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">16.67</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">position_margin</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">liq_price</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">bust_price</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">occ_closing_fee</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">occ_funding_fee</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">take_profit</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">stop_loss</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">trailing_stop</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">position_status</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Normal</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">deleverage_indicator</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">oc_calc_data</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">{</span><span class="se">\"</span><span class="s2">blq</span><span class="se">\"</span><span class="s2">:0,</span><span class="se">\"</span><span class="s2">slq</span><span class="se">\"</span><span class="s2">:0,</span><span class="se">\"</span><span class="s2">bmp</span><span class="se">\"</span><span class="s2">:0,</span><span class="se">\"</span><span class="s2">smp</span><span class="se">\"</span><span class="s2">:0,</span><span class="se">\"</span><span class="s2">bv2c</span><span class="se">\"</span><span class="s2">:0.06153301,</span><span class="se">\"</span><span class="s2">sv2c</span><span class="se">\"</span><span class="s2">:0.06144302}</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">order_margin</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">wallet_balance</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">realised_pnl</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">unrealised_pnl</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">cum_realised_pnl</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">cross_seq</span><span class="dl">"</span><span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">position_seq</span><span class="dl">"</span><span class="p">:</span> <span class="mi">352149441</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">created_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2020-08-10T07:04:32Z</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">updated_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2020-08-22T08:06:32Z</span><span class="dl">"</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">],</span>
    <span class="dl">"</span><span class="s2">time_now</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1604302124.031104</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_status</span><span class="dl">"</span><span class="p">:</span> <span class="mi">118</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_reset_ms</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1604302124020</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit</span><span class="dl">"</span><span class="p">:</span> <span class="mi">120</span>
<span class="p">}</span>
</code></pre></div>
<p>获取我的仓位列表。通过该接口可以获取当前用户的持仓信息，如持仓数量、账户余额等信息</p>

<p class="fake_header">HTTP 请求</p>

<p>GET
<code><span id=pList>/v2/private/position/list</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#pList"><img src="../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button></p>

<p class="fake_header">请求参数</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>合约类型</td>
</tr>
</tbody></table>

<p class="fake_header">返回参数</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">id</td>
<td style="text-align: left">number</td>
<td>仓位ID</td>
</tr>
<tr>
<td style="text-align: left">user_id</td>
<td style="text-align: left">number</td>
<td>用户ID</td>
</tr>
<tr>
<td style="text-align: left">risk_id</td>
<td style="text-align: left">number</td>
<td>风险限额ID</td>
</tr>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left">string</td>
<td>合约类型</td>
</tr>
<tr>
<td style="text-align: left"><a href="#side-side">side</a></td>
<td style="text-align: left">string</td>
<td>方向</td>
</tr>
<tr>
<td style="text-align: left">size</td>
<td style="text-align: left">number</td>
<td>仓位数量</td>
</tr>
<tr>
<td style="text-align: left">position_value</td>
<td style="text-align: left">string</td>
<td>仓位价值</td>
</tr>
<tr>
<td style="text-align: left">entry_price</td>
<td style="text-align: left">string</td>
<td>平均入场价</td>
</tr>
<tr>
<td style="text-align: left">is_isolated</td>
<td style="text-align: left">bool</td>
<td>是否逐仓，true-逐仓 false-全仓</td>
</tr>
<tr>
<td style="text-align: left">auto_add_margin</td>
<td style="text-align: left">number</td>
<td>是否自动追加保证金</td>
</tr>
<tr>
<td style="text-align: left">leverage</td>
<td style="text-align: left">string</td>
<td>逐仓模式下, 值为用户设置的杠杆；全仓模式下，值为当前风险限额下最大杠杆</td>
</tr>
<tr>
<td style="text-align: left">effective_leverage</td>
<td style="text-align: left">string</td>
<td>有效杠杆</td>
</tr>
<tr>
<td style="text-align: left">position_margin</td>
<td style="text-align: left">string</td>
<td>仓位保证金</td>
</tr>
<tr>
<td style="text-align: left">liq_price</td>
<td style="text-align: left">string</td>
<td>强平价格</td>
</tr>
<tr>
<td style="text-align: left">bust_price</td>
<td style="text-align: left">string</td>
<td>破产价格</td>
</tr>
<tr>
<td style="text-align: left">occ_closing_fee</td>
<td style="text-align: left">string</td>
<td>仓位占用的平仓手续费</td>
</tr>
<tr>
<td style="text-align: left">occ_funding_fee</td>
<td style="text-align: left">string</td>
<td>仓位size和当前资金费率预占用资金费用</td>
</tr>
<tr>
<td style="text-align: left">take_profit</td>
<td style="text-align: left">string</td>
<td>止盈价格</td>
</tr>
<tr>
<td style="text-align: left">stop_loss</td>
<td style="text-align: left">string</td>
<td>止损价格</td>
</tr>
<tr>
<td style="text-align: left">trailing_stop</td>
<td style="text-align: left">string</td>
<td>追踪止损</td>
</tr>
<tr>
<td style="text-align: left">position_status</td>
<td style="text-align: left">string</td>
<td>仓位状态，正常，强平，减仓</td>
</tr>
<tr>
<td style="text-align: left">deleverage_indicator</td>
<td style="text-align: left">number</td>
<td>风险指示灯等级（1，2，3，4，5）</td>
</tr>
<tr>
<td style="text-align: left">oc_calc_data</td>
<td style="text-align: left">string</td>
<td>预占保证证计算参数, blq-多方所有未成交委托数; bmp-多方最低价; slq-空方所有未成交委托数; smp-空方最低价</td>
</tr>
<tr>
<td style="text-align: left">order_margin</td>
<td style="text-align: left">string</td>
<td>委托预占用保证金</td>
</tr>
<tr>
<td style="text-align: left">wallet_balance</td>
<td style="text-align: left">string</td>
<td>钱包余额</td>
</tr>
<tr>
<td style="text-align: left">realised_pnl</td>
<td style="text-align: left">string</td>
<td>当日已结盈亏</td>
</tr>
<tr>
<td style="text-align: left">unrealised_pnl</td>
<td style="text-align: left">number</td>
<td>未结盈亏</td>
</tr>
<tr>
<td style="text-align: left">cum_realised_pnl</td>
<td style="text-align: left">string</td>
<td>累计已结盈亏</td>
</tr>
<tr>
<td style="text-align: left">cross_seq</td>
<td style="text-align: left">number</td>
<td>撮合版本号</td>
</tr>
<tr>
<td style="text-align: left">position_seq</td>
<td style="text-align: left">number</td>
<td>仓位变化版本号</td>
</tr>
<tr>
<td style="text-align: left">created_at</td>
<td style="text-align: left">string</td>
<td>The account creation time</td>
</tr>
<tr>
<td style="text-align: left">updated_at</td>
<td style="text-align: left">string</td>
<td>更新时间</td>
</tr>
</tbody></table>
<h3 id='t-changemargin'>更新保证金</h3>
<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight console tab-console"><code><span class="go">curl https://api.bybit.com/v2/private/position/change-position-margin \
-H "Content-Type: application/json" \
-d '{"api_key":"{api_key}","symbol":"BTCUSD",margin:"10","timestamp":{timestamp},"sign":"{sign}"}'
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">bybit</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">bybit</span><span class="p">.</span><span class="n">bybit</span><span class="p">(</span><span class="n">test</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">api_key</span><span class="o">=</span><span class="s">"api_key"</span><span class="p">,</span> <span class="n">api_secret</span><span class="o">=</span><span class="s">"api_secret"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">client</span><span class="p">.</span><span class="n">Positions</span><span class="p">.</span><span class="n">Positions_changeMargin</span><span class="p">(</span><span class="n">symbol</span><span class="o">=</span><span class="s">"BTCUSD"</span><span class="p">,</span> <span class="n">margin</span><span class="o">=</span><span class="s">"10"</span><span class="p">).</span><span class="n">result</span><span class="p">())</span>
</code></pre></div>
<blockquote>
<p>响应示例</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">ret_code</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ret_msg</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">ok</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_code</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">result</span><span class="dl">"</span><span class="p">:</span> <span class="mf">9.996</span><span class="nx">e</span><span class="o">-</span><span class="mi">05</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_info</span><span class="dl">"</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">time_now</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1577480720.003444</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_status</span><span class="dl">"</span><span class="p">:</span> <span class="mi">74</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_reset_ms</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1577480720011</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit</span><span class="dl">"</span><span class="p">:</span> <span class="mi">75</span>
<span class="p">}</span>
</code></pre></div>
<p>更新保证金。</p>

<aside class="notice">
修改保证金不能低于<a href="https://help.bybit.com/hc/zh-cn/articles/360039261174-%E8%B5%B7%E5%A7%8B%E4%BF%9D%E8%AF%81%E9%87%91%E8%AE%A1%E7%AE%97-%E5%8F%8D%E5%90%91%E6%B0%B8%E7%BB%AD-">起始保证金</a>，如果当前为全仓模式则不能调整保证金。请查看<a href="#t-setleverage">修改杠杆</a>了解更多信息。
</aside>

<p class="fake_header">HTTP 请求</p>

<p>POST
<code><span id=pChangePositionMarginNew>/v2/private/position/change-position-margin</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#pChangePositionMarginNew"><img src="../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button></p>

<p class="fake_header">请求参数</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left"><b>true</b></td>
<td style="text-align: left">string</td>
<td>合约类型</td>
</tr>
<tr>
<td style="text-align: left">margin</td>
<td style="text-align: left"><b>true</b></td>
<td style="text-align: left">string</td>
<td>保证金</td>
</tr>
</tbody></table>

<p class="fake_header">返回参数</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">result</td>
<td style="text-align: left">number</td>
<td>仓位保证金</td>
</tr>
</tbody></table>
<h3 id='t-tradingstop'>设置止盈止损</h3>
<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight console tab-console"><code><span class="go">curl https://api.bybit.com/v2/private/position/trading-stop \
-H "Content-Type: application/json" \
-d '{"api_key":"{api_key}","symbol":"BTCUSD","stop_loss":7000,"timestamp":{timestamp},"sign":"{sign}"}'
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">bybit</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">bybit</span><span class="p">.</span><span class="n">bybit</span><span class="p">(</span><span class="n">test</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">api_key</span><span class="o">=</span><span class="s">"api_key"</span><span class="p">,</span> <span class="n">api_secret</span><span class="o">=</span><span class="s">"api_secret"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">client</span><span class="p">.</span><span class="n">Positions</span><span class="p">.</span><span class="n">Positions_tradingStop</span><span class="p">(</span><span class="n">symbol</span><span class="o">=</span><span class="s">"BTCUSD"</span><span class="p">,</span><span class="n">stop_loss</span><span class="o">=</span><span class="s">"7000"</span><span class="p">).</span><span class="n">result</span><span class="p">())</span>
</code></pre></div>
<blockquote>
<p>响应示例</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">ret_code</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ret_msg</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">ok</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_code</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">result</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
        <span class="dl">"</span><span class="s2">id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">27913</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">user_id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">symbol</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">BTCUSD</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">side</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Buy</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">size</span><span class="dl">"</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">position_value</span><span class="dl">"</span><span class="p">:</span> <span class="mf">0.0006947</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">entry_price</span><span class="dl">"</span><span class="p">:</span> <span class="mf">7197.35137469</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">risk_id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">auto_add_margin</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">leverage</span><span class="dl">"</span><span class="p">:</span> <span class="mf">6.95</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">position_margin</span><span class="dl">"</span><span class="p">:</span> <span class="mf">9.996</span><span class="nx">e</span><span class="o">-</span><span class="mi">05</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">liq_price</span><span class="dl">"</span><span class="p">:</span> <span class="mi">6320</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">bust_price</span><span class="dl">"</span><span class="p">:</span> <span class="mf">6292.5</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">occ_closing_fee</span><span class="dl">"</span><span class="p">:</span> <span class="mi">6</span><span class="nx">e</span><span class="o">-</span><span class="mi">07</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">occ_funding_fee</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">take_profit</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">stop_loss</span><span class="dl">"</span><span class="p">:</span> <span class="mi">7000</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">trailing_stop</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">position_status</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Normal</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">deleverage_indicator</span><span class="dl">"</span><span class="p">:</span> <span class="mi">5</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">oc_calc_data</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">{</span><span class="se">\"</span><span class="s2">blq</span><span class="se">\"</span><span class="s2">:2,</span><span class="se">\"</span><span class="s2">blv</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">0.0002941</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">slq</span><span class="se">\"</span><span class="s2">:0,</span><span class="se">\"</span><span class="s2">bmp</span><span class="se">\"</span><span class="s2">:6800.408,</span><span class="se">\"</span><span class="s2">smp</span><span class="se">\"</span><span class="s2">:0,</span><span class="se">\"</span><span class="s2">fq</span><span class="se">\"</span><span class="s2">:-5,</span><span class="se">\"</span><span class="s2">fc</span><span class="se">\"</span><span class="s2">:-0.00004279,</span><span class="se">\"</span><span class="s2">bv2c</span><span class="se">\"</span><span class="s2">:0.14549282,</span><span class="se">\"</span><span class="s2">sv2c</span><span class="se">\"</span><span class="s2">:0.14527699}</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">order_margin</span><span class="dl">"</span><span class="p">:</span> <span class="mf">4.279</span><span class="nx">e</span><span class="o">-</span><span class="mi">05</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">wallet_balance</span><span class="dl">"</span><span class="p">:</span> <span class="mf">0.03000227</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">realised_pnl</span><span class="dl">"</span><span class="p">:</span> <span class="o">-</span><span class="mf">1.26</span><span class="nx">e</span><span class="o">-</span><span class="mi">06</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">cum_realised_pnl</span><span class="dl">"</span><span class="p">:</span> <span class="o">-</span><span class="mf">1.306</span><span class="nx">e</span><span class="o">-</span><span class="mi">05</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">cum_commission</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">cross_seq</span><span class="dl">"</span><span class="p">:</span> <span class="mi">444081383</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">position_seq</span><span class="dl">"</span><span class="p">:</span> <span class="mi">287176872</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">created_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2019-10-19T17:04:55.000Z</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">updated_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2019-12-27T21:17:27.000Z</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">ext_fields</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
            <span class="dl">"</span><span class="s2">trailing_active</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">9000</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">sl_trigger_by</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">LastPrice</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">v</span><span class="dl">"</span><span class="p">:</span> <span class="mi">221</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">mm</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span>
        <span class="p">}</span>
    <span class="p">},</span>
    <span class="dl">"</span><span class="s2">ext_info</span><span class="dl">"</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">time_now</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1577481447.436689</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_status</span><span class="dl">"</span><span class="p">:</span> <span class="mi">73</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_reset_ms</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1577481447443</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit</span><span class="dl">"</span><span class="p">:</span> <span class="mi">75</span>
<span class="p">}</span>
</code></pre></div>
<p>设置仓位止盈止损、追踪止损。</p>

<aside class="notice">
传递以下参数后将会由系统创建条件单。如果仓位关闭，系统将会取消这些订单，同时调整开仓的仓位数量。
</aside>

<p class="fake_header">HTTP 请求</p>

<p>POST
<code><span id=oapTradingStopNew>/v2/private/position/trading-stop</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#oapTradingStopNew"><img src="../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button></p>

<p class="fake_header">请求参数</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left"><b>true</b></td>
<td style="text-align: left">string</td>
<td>合约类型</td>
</tr>
<tr>
<td style="text-align: left">take_profit</td>
<td style="text-align: left">false</td>
<td style="text-align: left">number</td>
<td>不小于0,如果等于0则是取消止盈(TP)</td>
</tr>
<tr>
<td style="text-align: left">stop_loss</td>
<td style="text-align: left">false</td>
<td style="text-align: left">number</td>
<td>不小于0,如果等于0则是取消止损(SL)</td>
</tr>
<tr>
<td style="text-align: left">trailing_stop</td>
<td style="text-align: left">false</td>
<td style="text-align: left">number</td>
<td>不小于0,如果等于0则是取消追踪止损(TS)</td>
</tr>
<tr>
<td style="text-align: left"><a href="#trigger-price-type-trigger_by">tp_trigger_by</a></td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>止盈激活价格类型，默认为<code>LastPrice</code></td>
</tr>
<tr>
<td style="text-align: left"><a href="#trigger-price-type-trigger_by">sl_trigger_by</a></td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>止损激活价格类型，默认为<code>LastPrice</code></td>
</tr>
<tr>
<td style="text-align: left">new_trailing_active</td>
<td style="text-align: left">false</td>
<td style="text-align: left">number</td>
<td>追踪止损触发价格。追踪止损会在到达该价格后才会触发（追踪止损默认立即触发）。</td>
</tr>
</tbody></table>

<p class="fake_header">返回参数</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">id</td>
<td style="text-align: left">number</td>
<td>仓位ID</td>
</tr>
<tr>
<td style="text-align: left">user_id</td>
<td style="text-align: left">number</td>
<td>用户ID</td>
</tr>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left">string</td>
<td>合约类型</td>
</tr>
<tr>
<td style="text-align: left"><a href="#side-side">side</a></td>
<td style="text-align: left">string</td>
<td>方向</td>
</tr>
<tr>
<td style="text-align: left">size</td>
<td style="text-align: left">number</td>
<td>仓位数量</td>
</tr>
<tr>
<td style="text-align: left">position_value</td>
<td style="text-align: left">string</td>
<td>仓位价值</td>
</tr>
<tr>
<td style="text-align: left">entry_price</td>
<td style="text-align: left">string</td>
<td>平均入场价</td>
</tr>
<tr>
<td style="text-align: left">risk_id</td>
<td style="text-align: left">number</td>
<td>风险限额ID</td>
</tr>
<tr>
<td style="text-align: left">auto_add_margin</td>
<td style="text-align: left">number</td>
<td>是否自动追加保证金</td>
</tr>
<tr>
<td style="text-align: left">leverage</td>
<td style="text-align: left">string</td>
<td>逐仓模式下, 值为用户设置的杠杆；全仓模式下，值为当前风险限额下最大杠杆</td>
</tr>
<tr>
<td style="text-align: left">position_margin</td>
<td style="text-align: left">string</td>
<td>仓位保证金</td>
</tr>
<tr>
<td style="text-align: left">liq_price</td>
<td style="text-align: left">string</td>
<td>强平价格</td>
</tr>
<tr>
<td style="text-align: left">bust_price</td>
<td style="text-align: left">string</td>
<td>破产价格</td>
</tr>
<tr>
<td style="text-align: left">occ_closing_fee</td>
<td style="text-align: left">string</td>
<td>仓位占用的平仓手续费</td>
</tr>
<tr>
<td style="text-align: left">occ_funding_fee</td>
<td style="text-align: left">string</td>
<td>仓位size和当前资金费率预占用资金费用</td>
</tr>
<tr>
<td style="text-align: left">take_profit</td>
<td style="text-align: left">string</td>
<td>止盈价格</td>
</tr>
<tr>
<td style="text-align: left">stop_loss</td>
<td style="text-align: left">string</td>
<td>止损价格</td>
</tr>
<tr>
<td style="text-align: left">trailing_stop</td>
<td style="text-align: left">string</td>
<td>追踪止损</td>
</tr>
<tr>
<td style="text-align: left">position_status</td>
<td style="text-align: left">string</td>
<td>仓位状态，正常，强平，减仓</td>
</tr>
<tr>
<td style="text-align: left">deleverage_indicator</td>
<td style="text-align: left">number</td>
<td>风险指示灯等级（1，2，3，4，5）</td>
</tr>
<tr>
<td style="text-align: left">oc_calc_data</td>
<td style="text-align: left">string</td>
<td>预占保证证计算参数, blq-多方所有未成交委托数; bmp-多方最低价; slq-空方所有未成交委托数; smp-空方最低价</td>
</tr>
<tr>
<td style="text-align: left">order_margin</td>
<td style="text-align: left">string</td>
<td>委托预占用保证金</td>
</tr>
<tr>
<td style="text-align: left">wallet_balance</td>
<td style="text-align: left">string</td>
<td>钱包余额</td>
</tr>
<tr>
<td style="text-align: left">realised_pnl</td>
<td style="text-align: left">string</td>
<td>当日已结盈亏</td>
</tr>
<tr>
<td style="text-align: left">cum_realised_pnl</td>
<td style="text-align: left">string</td>
<td>累计已结盈亏</td>
</tr>
<tr>
<td style="text-align: left">cum_commission</td>
<td style="text-align: left">number</td>
<td>累计佣金</td>
</tr>
<tr>
<td style="text-align: left">cross_seq</td>
<td style="text-align: left">number</td>
<td>撮合版本号</td>
</tr>
<tr>
<td style="text-align: left">position_seq</td>
<td style="text-align: left">number</td>
<td>仓位变化版本号</td>
</tr>
<tr>
<td style="text-align: left">created_at</td>
<td style="text-align: left">string</td>
<td>创建时间</td>
</tr>
<tr>
<td style="text-align: left">updated_at</td>
<td style="text-align: left">string</td>
<td>更新时间</td>
</tr>
<tr>
<td style="text-align: left">ext_fields&gt;trailing_active</td>
<td style="text-align: left">string</td>
<td>激活价格</td>
</tr>
<tr>
<td style="text-align: left">ext_fields&gt;sl_trigger_by</td>
<td style="text-align: left">string</td>
<td>止损激活价格类型</td>
</tr>
</tbody></table>
<h3 id='t-setleverage'>修改杠杆</h3>
<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight console tab-console"><code><span class="go">curl https://api.bybit.com/v2/private/position/leverage/save \
-H "Content-Type: application/json" \
-d '{"api_key":"{api_key}","symbol":"BTCUSD","leverage":14,"timestamp":{timestamp},"sign":"{sign}"}'
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">bybit</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">bybit</span><span class="p">.</span><span class="n">bybit</span><span class="p">(</span><span class="n">test</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">api_key</span><span class="o">=</span><span class="s">"api_key"</span><span class="p">,</span> <span class="n">api_secret</span><span class="o">=</span><span class="s">"api_secret"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">client</span><span class="p">.</span><span class="n">Positions</span><span class="p">.</span><span class="n">Positions_saveLeverage</span><span class="p">(</span><span class="n">symbol</span><span class="o">=</span><span class="s">"BTCUSD"</span><span class="p">,</span> <span class="n">leverage</span><span class="o">=</span><span class="s">"14"</span><span class="p">).</span><span class="n">result</span><span class="p">())</span>
</code></pre></div>
<blockquote>
<p>响应示例</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">ret_code</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ret_msg</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">ok</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_code</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">result</span><span class="dl">"</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_info</span><span class="dl">"</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">time_now</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1577477968.175013</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_status</span><span class="dl">"</span><span class="p">:</span> <span class="mi">74</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_reset_ms</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1577477968183</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit</span><span class="dl">"</span><span class="p">:</span> <span class="mi">75</span>
<span class="p">}</span>
</code></pre></div>
<p>设置杠杆</p>

<aside class="notice">
如果您想使用<a href="https://help.bybit.com/hc/en-us/articles/360037683633-What-is-Cross-Margin">全仓模式</a>请将<code>杠杆</code>设置为0。请注意，一旦您将杠杆由0改为其他任何值，仓位模式将自动切换到逐仓模式。
</aside>

<p class="fake_header">HTTP 请求</p>

<p>POST
<code><span id=ulSaveNew>/v2/private/position/leverage/save</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#ulSaveNew"><img src="../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button></p>

<p class="fake_header">请求参数</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left"><b>true</b></td>
<td style="text-align: left">string</td>
<td>合约类型</td>
</tr>
<tr>
<td style="text-align: left">leverage</td>
<td style="text-align: left"><b>true</b></td>
<td style="text-align: left">number</td>
<td>杠杆。<code>杠杆为0</code>意味着全仓模式.全仓模式下修改杠杆会变成逐仓模式</td>
</tr>
</tbody></table>

<p class="fake_header">返回参数</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">result</td>
<td style="text-align: left">number</td>
<td>用户杠杆</td>
</tr>
</tbody></table>
<h3 id='t-usertraderecords'>用户成交记录</h3>
<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight console tab-console"><code><span class="go">curl "https://api.bybit.com/v2/private/execution/list?api_key={api_key}&amp;symbol=BTCUSD&amp;timestamp={timestamp}&amp;sign={sign}"
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">bybit</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">bybit</span><span class="p">.</span><span class="n">bybit</span><span class="p">(</span><span class="n">test</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">api_key</span><span class="o">=</span><span class="s">"api_key"</span><span class="p">,</span> <span class="n">api_secret</span><span class="o">=</span><span class="s">"api_secret"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">client</span><span class="p">.</span><span class="n">Execution</span><span class="p">.</span><span class="n">Execution_getTrades</span><span class="p">(</span><span class="n">symbol</span><span class="o">=</span><span class="s">"BTCUSD"</span><span class="p">).</span><span class="n">result</span><span class="p">())</span>
</code></pre></div>
<blockquote>
<p>响应示例</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">ret_code</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ret_msg</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">OK</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_code</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_info</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">result</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
        <span class="dl">"</span><span class="s2">order_id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2"><b>已废弃!!</b></span><span class="dl">"</span><span class="p">,</span> <span class="c1">// <b>已废弃!!</b></span>
        <span class="dl">"</span><span class="s2">trade_list</span><span class="dl">"</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span>
                <span class="dl">"</span><span class="s2">closed_size</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="c1">// 平仓委托对应的平仓大小</span>
                <span class="dl">"</span><span class="s2">cross_seq</span><span class="dl">"</span><span class="p">:</span> <span class="mi">277136382</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">exec_fee</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0.0000001</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">exec_id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">256e5ef8-abfe-5772-971b-f944e15e0d68</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">exec_price</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">8178.5</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">exec_qty</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">exec_time</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1571676941.70682</span><span class="dl">"</span><span class="p">,</span>    <span class="c1">//<b>已废弃!!</b></span>
                <span class="dl">"</span><span class="s2">exec_type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Trade</span><span class="dl">"</span><span class="p">,</span> <span class="c1">//<a href="#exec-type-exec_type">交易类型枚举</a></span>
                <span class="dl">"</span><span class="s2">exec_value</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0.00012227</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">fee_rate</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0.00075</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">last_liquidity_ind</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">RemovedLiquidity</span><span class="dl">"</span><span class="p">,</span> <span class="c1">//<a href="#liquidity-type-last_liquidity_ind">流动性类型枚举</a>, 只有当<code>exec_type</code>字段类型为<code>Trade、AdlTrade、BustTrade</code>时有效</span>
                <span class="dl">"</span><span class="s2">leaves_qty</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">nth_fill</span><span class="dl">"</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">order_id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">7ad50cb1-9ad0-4f74-804b-d82a516e1029</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">order_link_id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">order_price</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">8178</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">order_qty</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">order_type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Market</span><span class="dl">"</span><span class="p">,</span> <span class="c1">//<a href="#order-type-order_type">订单类型枚举</a></span>
                <span class="dl">"</span><span class="s2">side</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Buy</span><span class="dl">"</span><span class="p">,</span> <span class="c1">//<a href="#side-side">方向枚举</a></span>
                <span class="dl">"</span><span class="s2">symbol</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">BTCUSD</span><span class="dl">"</span><span class="p">,</span> <span class="c1">//<a href="#symbol-symbol">交易对枚举</a></span>
                <span class="dl">"</span><span class="s2">user_id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">trade_time_ms</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1577480599000</span>
            <span class="p">}</span>
        <span class="p">]</span>
    <span class="p">},</span>
    <span class="dl">"</span><span class="s2">time_now</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1577483699.281488</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_status</span><span class="dl">"</span><span class="p">:</span> <span class="mi">118</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_reset_ms</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1577483699244737</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit</span><span class="dl">"</span><span class="p">:</span> <span class="mi">120</span>
<span class="p">}</span>
</code></pre></div>
<p>获取用户成交记录，按时间升序排列。</p>

<aside class="notice">
一个订单可能有多笔成交记录。
</aside>

<p class="fake_header">HTTP 请求</p>

<p>GET
<code><span id=vpeList>/v2/private/execution/list</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#vpeList"><img src="../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button></p>

<p class="fake_header">请求参数</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">order_id</td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>订单号，如果没有填写订单号，将返回用户交易记录</td>
</tr>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left"><b>true</b></td>
<td style="text-align: left">string</td>
<td>交易对 <b>必填</b></td>
</tr>
<tr>
<td style="text-align: left">start_time</td>
<td style="text-align: left">false</td>
<td style="text-align: left">int</td>
<td>开始时间戳（毫秒）</td>
</tr>
<tr>
<td style="text-align: left">page</td>
<td style="text-align: left">false</td>
<td style="text-align: left">integer</td>
<td>页码.默认取第一页</td>
</tr>
<tr>
<td style="text-align: left">limit</td>
<td style="text-align: left">false</td>
<td style="text-align: left">integer</td>
<td>返回数据最大200条. 默认返回50条</td>
</tr>
<tr>
<td style="text-align: left"><a href="#order-order">order</a></td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>按创建时间排序</td>
</tr>
</tbody></table>

<p class="fake_header">返回参数</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">closed_size</td>
<td style="text-align: left">number</td>
<td>平仓委托对应的平仓大小</td>
</tr>
<tr>
<td style="text-align: left">cross_seq</td>
<td style="text-align: left">number</td>
<td>撮合版本号</td>
</tr>
<tr>
<td style="text-align: left">exec_fee</td>
<td style="text-align: left">string</td>
<td>交易手续费</td>
</tr>
<tr>
<td style="text-align: left">exec_id</td>
<td style="text-align: left">string</td>
<td>成交ID</td>
</tr>
<tr>
<td style="text-align: left">exec_price</td>
<td style="text-align: left">number</td>
<td>成交价格</td>
</tr>
<tr>
<td style="text-align: left">exec_qty</td>
<td style="text-align: left">number</td>
<td>成交数量</td>
</tr>
<tr>
<td style="text-align: left"><a href="#exec-type-exec_type">exec_type</a></td>
<td style="text-align: left">string</td>
<td><a href="#exec-type-exec_type">交易类型枚举</a></td>
</tr>
<tr>
<td style="text-align: left">exec_value</td>
<td style="text-align: left">string</td>
<td>成交价值</td>
</tr>
<tr>
<td style="text-align: left">fee_rate</td>
<td style="text-align: left">string</td>
<td>手续费率</td>
</tr>
<tr>
<td style="text-align: left">last_liquidity_ind</td>
<td style="text-align: left">string</td>
<td><a href="#liquidity-type-last_liquidity_ind">流动性类型枚举</a>, 只有当<code>exec_type</code>字段类型为<code>Trade、AdlTrade、BustTrade</code>时有效</td>
</tr>
<tr>
<td style="text-align: left">leaves_qty</td>
<td style="text-align: left">number</td>
<td>剩余委托数量</td>
</tr>
<tr>
<td style="text-align: left">nth_fill</td>
<td style="text-align: left">number</td>
<td>该笔流水对应了撮合响应包里的第几笔成交</td>
</tr>
<tr>
<td style="text-align: left">order_id</td>
<td style="text-align: left">string</td>
<td>订单ID</td>
</tr>
<tr>
<td style="text-align: left">order_link_id</td>
<td style="text-align: left">string</td>
<td>用户自定义订单ID</td>
</tr>
<tr>
<td style="text-align: left">order_price</td>
<td style="text-align: left">string</td>
<td>订单价格</td>
</tr>
<tr>
<td style="text-align: left">order_qty</td>
<td style="text-align: left">string</td>
<td>订单数量</td>
</tr>
<tr>
<td style="text-align: left"><a href="#order-type-order_type">order_type</a></td>
<td style="text-align: left">string</td>
<td><a href="#order-type-order_type">订单类型枚举</a></td>
</tr>
<tr>
<td style="text-align: left"><a href="#side-side">side</a></td>
<td style="text-align: left">string</td>
<td>方向</td>
</tr>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left">string</td>
<td><a href="#symbol-symbol">交易对枚举</a></td>
</tr>
<tr>
<td style="text-align: left">user_id</td>
<td style="text-align: left">number</td>
<td>用户ID</td>
</tr>
<tr>
<td style="text-align: left">trade_time_ms</td>
<td style="text-align: left">number</td>
<td>交易时间</td>
</tr>
</tbody></table>
<h3 id='t-closedprofitandloss'>平仓盈亏</h3>
<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight console tab-console"><code><span class="go">curl "https://api.bybit.com/v2/private/trade/closed-pnl/list?api_key={api_key}&amp;symbol=BTCUSD&amp;timestamp={timestamp}&amp;sign={sign}"
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">bybit</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">bybit</span><span class="p">.</span><span class="n">bybit</span><span class="p">(</span><span class="n">test</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">api_key</span><span class="o">=</span><span class="s">"api_key"</span><span class="p">,</span> <span class="n">api_secret</span><span class="o">=</span><span class="s">"api_secret"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">client</span><span class="p">.</span><span class="n">Positions</span><span class="p">.</span><span class="n">Positions_closePnlRecords</span><span class="p">(</span><span class="n">symbol</span><span class="o">=</span><span class="s">"BTCUSD"</span><span class="p">).</span><span class="n">result</span><span class="p">())</span>
</code></pre></div>
<blockquote>
<p>响应示例</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">ret_code</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ret_msg</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">OK</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_code</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_info</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">result</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
        <span class="dl">"</span><span class="s2">current_page</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">data</span><span class="dl">"</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span>
                <span class="dl">"</span><span class="s2">id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">9982</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">user_id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">160320</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">symbol</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">BTCUSD</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">order_id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">e976ac13-10e7-4883-a7ba-13b0e93659f1</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">side</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Sell</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">qty</span><span class="dl">"</span><span class="p">:</span> <span class="mi">226</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">order_price</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1600</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">order_type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Limit</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">exec_type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Trade</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">closed_size</span><span class="dl">"</span><span class="p">:</span> <span class="mi">113</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">cum_entry_value</span><span class="dl">"</span><span class="p">:</span> <span class="mf">0.07062500000000001</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">avg_entry_price</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1600</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">cum_exit_value</span><span class="dl">"</span><span class="p">:</span> <span class="mf">0.066198</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">avg_exit_price</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1707</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">closed_pnl</span><span class="dl">"</span><span class="p">:</span> <span class="mf">0.0043950000000000005</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">fill_count</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">leverage</span><span class="dl">"</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">created_at</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1591155741</span>
            <span class="p">}</span>
        <span class="p">]</span>
    <span class="p">},</span>
    <span class="dl">"</span><span class="s2">time_now</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1591173153.876047</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_status</span><span class="dl">"</span><span class="p">:</span> <span class="mi">119</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_reset_ms</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1591173153852</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit</span><span class="dl">"</span><span class="p">:</span> <span class="mi">120</span>
<span class="p">}</span>
</code></pre></div>
<p>获取用户平仓记录，按时间降序排列。</p>

<p class="fake_header">HTTP 请求</p>

<p>GET
<code><span id=pltcList>/v2/private/trade/closed-pnl/list</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#pltcList"><img src="../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button></p>

<p class="fake_header">请求参数</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left"><b>true</b></td>
<td style="text-align: left">string</td>
<td>合约类型</td>
</tr>
<tr>
<td style="text-align: left">start_time</td>
<td style="text-align: left">false</td>
<td style="text-align: left">int</td>
<td>开始时间戳（秒）</td>
</tr>
<tr>
<td style="text-align: left">end_time</td>
<td style="text-align: left">false</td>
<td style="text-align: left">int</td>
<td>结束时间戳（秒）</td>
</tr>
<tr>
<td style="text-align: left"><a href="#exec-type-exec_type">exec_type</a></td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>交易类型</td>
</tr>
<tr>
<td style="text-align: left">page</td>
<td style="text-align: left">false</td>
<td style="text-align: left">integer</td>
<td>页码.默认取第一页,最大50</td>
</tr>
<tr>
<td style="text-align: left">limit</td>
<td style="text-align: left">false</td>
<td style="text-align: left">integer</td>
<td>每页数量, 最大50. 默认每页20条，最多50条每页</td>
</tr>
</tbody></table>

<p class="fake_header">返回参数</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">id</td>
<td style="text-align: left">number</td>
<td>仓位ID</td>
</tr>
<tr>
<td style="text-align: left">user_id</td>
<td style="text-align: left">number</td>
<td>用户ID</td>
</tr>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left">string</td>
<td>合约类型</td>
</tr>
<tr>
<td style="text-align: left">order_id</td>
<td style="text-align: left">string</td>
<td>订单ID</td>
</tr>
<tr>
<td style="text-align: left"><a href="#side-side">side</a></td>
<td style="text-align: left">string</td>
<td>方向</td>
</tr>
<tr>
<td style="text-align: left"><a href="#quantity-qty">qty</a></td>
<td style="text-align: left">number</td>
<td>委托数量</td>
</tr>
<tr>
<td style="text-align: left">order_price</td>
<td style="text-align: left">number</td>
<td>订单价格</td>
</tr>
<tr>
<td style="text-align: left"><a href="#order-type-order_type">order_type</a></td>
<td style="text-align: left">string</td>
<td>订单类型</td>
</tr>
<tr>
<td style="text-align: left"><a href="#exec-type-exec_type">exec_type</a></td>
<td style="text-align: left">string</td>
<td><a href="#exec-type-exec_type">交易类型枚举</a></td>
</tr>
<tr>
<td style="text-align: left">closed_size</td>
<td style="text-align: left">number</td>
<td>平仓委托对应的平仓大小</td>
</tr>
<tr>
<td style="text-align: left">cum_entry_value</td>
<td style="text-align: left">number</td>
<td>被平掉的仓位价值</td>
</tr>
<tr>
<td style="text-align: left">avg_entry_price</td>
<td style="text-align: left">number</td>
<td>平均入场价</td>
</tr>
<tr>
<td style="text-align: left">cum_exit_value</td>
<td style="text-align: left">number</td>
<td>平仓订单累计成交价值</td>
</tr>
<tr>
<td style="text-align: left">avg_exit_price</td>
<td style="text-align: left">number</td>
<td>平均出场价</td>
</tr>
<tr>
<td style="text-align: left">closed_pnl</td>
<td style="text-align: left">number</td>
<td>与平仓size等比例对应的盈亏</td>
</tr>
<tr>
<td style="text-align: left">fill_count</td>
<td style="text-align: left">number</td>
<td>成交笔数</td>
</tr>
<tr>
<td style="text-align: left">leverage</td>
<td style="text-align: left">number</td>
<td>逐仓模式下, 值为用户设置的杠杆；全仓模式下，值为当前风险限额下最大杠杆</td>
</tr>
<tr>
<td style="text-align: left">created_at</td>
<td style="text-align: left">number</td>
<td>创建时间</td>
</tr>
</tbody></table>
<h2 id='t-risklimit'>风险限额</h2><h3 id='t-getrisklimit'>查询风险限额表</h3>
<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight console tab-console"><code><span class="go">curl "https://api.bybit.com/open-api/wallet/risk-limit/list?api_key={api_key}&amp;timestamp={timestamp}&amp;sign={sign}"
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">bybit</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">bybit</span><span class="p">.</span><span class="n">bybit</span><span class="p">(</span><span class="n">test</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">api_key</span><span class="o">=</span><span class="s">"api_key"</span><span class="p">,</span> <span class="n">api_secret</span><span class="o">=</span><span class="s">"api_secret"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">client</span><span class="p">.</span><span class="n">Wallet</span><span class="p">.</span><span class="n">Wallet_getRiskLimit</span><span class="p">().</span><span class="n">result</span><span class="p">())</span>
</code></pre></div>
<blockquote>
<p>响应示例</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">ret_code</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ret_msg</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">ok</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_code</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">result</span><span class="dl">"</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="dl">"</span><span class="s2">id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">coin</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">BTC</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">symbol</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">BTCUSD</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">limit</span><span class="dl">"</span><span class="p">:</span> <span class="mi">150</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">maintain_margin</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0.50</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">starting_margin</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1.00</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">section</span><span class="dl">"</span><span class="p">:</span> <span class="p">[</span>
                <span class="dl">"</span><span class="s2">1</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">2</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">3</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">5</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">10</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">25</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">50</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">100</span><span class="dl">"</span>
            <span class="p">],</span>
            <span class="dl">"</span><span class="s2">is_lowest_risk</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">created_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2018-09-21T11:34:11.000Z</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">updated_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2018-09-21T11:34:11.000Z</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">max_leverage</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">100.00</span><span class="dl">"</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="dl">"</span><span class="s2">id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">coin</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">BTC</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">symbol</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">BTCUSD</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">limit</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1500</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">maintain_margin</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">5.00</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">starting_margin</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">5.50</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">section</span><span class="dl">"</span><span class="p">:</span> <span class="p">[</span>
                <span class="dl">"</span><span class="s2">1</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">2</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">3</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">4</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">5</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">10</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">15</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">18</span><span class="dl">"</span>
            <span class="p">],</span>
            <span class="dl">"</span><span class="s2">is_lowest_risk</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">created_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2018-09-21T11:34:11.000Z</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">updated_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2018-09-21T11:34:11.000Z</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">max_leverage</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">18.18</span><span class="dl">"</span>
        <span class="p">}</span>
    <span class="p">],</span>
    <span class="dl">"</span><span class="s2">ext_info</span><span class="dl">"</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">time_now</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1616568086.769014</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_status</span><span class="dl">"</span><span class="p">:</span> <span class="mi">599</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_reset_ms</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1616568086777</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit</span><span class="dl">"</span><span class="p">:</span> <span class="mi">600</span>
<span class="p">}</span>
</code></pre></div>
<p>查询风险限额表。</p>

<aside class="notice">
关于风险限额，点击<a href="https://help.bybit.com/hc/en-us/articles/360007107454-Risk-Limit-Overview">这里</a>了解更多。
</aside>

<p class="fake_header">HTTP 请求</p>

<p>GET
<code><span id=oawrlList>/open-api/wallet/risk-limit/list</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#oawrlList"><img src="../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button></p>

<p class="fake_header">请求参数</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left"><b>false</b></td>
<td style="text-align: left">string</td>
<td>合约类型</td>
</tr>
</tbody></table>

<p class="fake_header">返回参数</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">id</td>
<td style="text-align: left">number</td>
<td>风险限额ID</td>
</tr>
<tr>
<td style="text-align: left">coin</td>
<td style="text-align: left">string</td>
<td>币种</td>
</tr>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left">string</td>
<td>合约类型</td>
</tr>
<tr>
<td style="text-align: left">limit</td>
<td style="text-align: left">number</td>
<td>风险限额</td>
</tr>
<tr>
<td style="text-align: left">maintain_margin</td>
<td style="text-align: left">string</td>
<td>维持保证金</td>
</tr>
<tr>
<td style="text-align: left">starting_margin</td>
<td style="text-align: left">string</td>
<td>起始保证金</td>
</tr>
<tr>
<td style="text-align: left">section</td>
<td style="text-align: left">string</td>
<td>区间点</td>
</tr>
<tr>
<td style="text-align: left">is_lowest_risk</td>
<td style="text-align: left">number</td>
<td>是否最低风险限额0:不是 1:是</td>
</tr>
<tr>
<td style="text-align: left">created_at</td>
<td style="text-align: left">string</td>
<td>创建时间</td>
</tr>
<tr>
<td style="text-align: left">updated_at</td>
<td style="text-align: left">string</td>
<td>更新时间</td>
</tr>
<tr>
<td style="text-align: left">max_leverage</td>
<td style="text-align: left">string</td>
<td>最大杠杆</td>
</tr>
</tbody></table>
<h3 id='t-setrisklimit'>设置风险限额</h3>
<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight console tab-console"><code><span class="go">curl https://api.bybit.com/open-api/wallet/risk-limit \
-H "Content-Type: application/json" \
-d '{"api_key":"{api_key}","symbol":"BTCUSD","risk_id":2,"timestamp":{timestamp},"sign":"{sign}"}'
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">bybit</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">bybit</span><span class="p">.</span><span class="n">bybit</span><span class="p">(</span><span class="n">test</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">api_key</span><span class="o">=</span><span class="s">"api_key"</span><span class="p">,</span> <span class="n">api_secret</span><span class="o">=</span><span class="s">"api_secret"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">client</span><span class="p">.</span><span class="n">Wallet</span><span class="p">.</span><span class="n">Wallet_setRiskLimit</span><span class="p">(</span><span class="n">symbol</span><span class="o">=</span><span class="s">"BTCUSD"</span><span class="p">,</span> <span class="n">risk_id</span><span class="o">=</span><span class="mi">2</span><span class="p">).</span><span class="n">result</span><span class="p">())</span>
</code></pre></div>
<blockquote>
<p>响应示例</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
  <span class="dl">"</span><span class="s2">ret_code</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">ret_msg</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">ok</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">ext_code</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">result</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
    <span class="dl">"</span><span class="s2">position</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
      <span class="dl">"</span><span class="s2">id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
      <span class="dl">"</span><span class="s2">user_id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
      <span class="dl">"</span><span class="s2">symbol</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">BTCUSD</span><span class="dl">"</span><span class="p">,</span>
      <span class="dl">"</span><span class="s2">side</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">None</span><span class="dl">"</span><span class="p">,</span>
      <span class="dl">"</span><span class="s2">size</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
      <span class="dl">"</span><span class="s2">position_value</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
      <span class="dl">"</span><span class="s2">entry_price</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
      <span class="dl">"</span><span class="s2">risk_id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
      <span class="dl">"</span><span class="s2">auto_add_margin</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
      <span class="dl">"</span><span class="s2">leverage</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
      <span class="dl">"</span><span class="s2">position_margin</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
      <span class="dl">"</span><span class="s2">liq_price</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
      <span class="dl">"</span><span class="s2">bust_price</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
      <span class="dl">"</span><span class="s2">occ_closing_fee</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
      <span class="dl">"</span><span class="s2">occ_funding_fee</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
      <span class="dl">"</span><span class="s2">take_profit</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
      <span class="dl">"</span><span class="s2">stop_loss</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
      <span class="dl">"</span><span class="s2">trailing_stop</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
      <span class="dl">"</span><span class="s2">position_status</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Normal</span><span class="dl">"</span><span class="p">,</span>
      <span class="dl">"</span><span class="s2">deleverage_indicator</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
      <span class="dl">"</span><span class="s2">oc_calc_data</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">{</span><span class="se">\"</span><span class="s2">blq</span><span class="se">\"</span><span class="s2">:1,</span><span class="se">\"</span><span class="s2">blv</span><span class="se">\"</span><span class="s2">:</span><span class="se">\"</span><span class="s2">0.000125</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">slq</span><span class="se">\"</span><span class="s2">:0,</span><span class="se">\"</span><span class="s2">bmp</span><span class="se">\"</span><span class="s2">:8000,</span><span class="se">\"</span><span class="s2">smp</span><span class="se">\"</span><span class="s2">:0,</span><span class="se">\"</span><span class="s2">fc</span><span class="se">\"</span><span class="s2">:-0.00012529,</span><span class="se">\"</span><span class="s2">bv2c</span><span class="se">\"</span><span class="s2">:1.00225,</span><span class="se">\"</span><span class="s2">sv2c</span><span class="se">\"</span><span class="s2">:1.0007575}</span><span class="dl">"</span><span class="p">,</span>
      <span class="dl">"</span><span class="s2">order_margin</span><span class="dl">"</span><span class="p">:</span> <span class="mf">0.00012529</span><span class="p">,</span>
      <span class="dl">"</span><span class="s2">wallet_balance</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1000</span><span class="p">,</span>
      <span class="dl">"</span><span class="s2">realised_pnl</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
      <span class="dl">"</span><span class="s2">cum_realised_pnl</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
      <span class="dl">"</span><span class="s2">cum_commission</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
      <span class="dl">"</span><span class="s2">cross_seq</span><span class="dl">"</span><span class="p">:</span> <span class="mi">4376</span><span class="p">,</span>
      <span class="dl">"</span><span class="s2">position_seq</span><span class="dl">"</span><span class="p">:</span> <span class="mi">13689</span><span class="p">,</span>
      <span class="dl">"</span><span class="s2">created_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2019-08-13T06:51:29.000Z</span><span class="dl">"</span><span class="p">,</span>
      <span class="dl">"</span><span class="s2">updated_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2019-12-29T03:11:08.000Z</span><span class="dl">"</span><span class="p">,</span>
      <span class="dl">"</span><span class="s2">ext_fields</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
        <span class="dl">"</span><span class="s2">trailing_active</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">9000</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">v</span><span class="dl">"</span><span class="p">:</span> <span class="mi">4</span>
      <span class="p">}</span>
    <span class="p">},</span>
    <span class="dl">"</span><span class="s2">risk</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
      <span class="dl">"</span><span class="s2">id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
      <span class="dl">"</span><span class="s2">coin</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">BTC</span><span class="dl">"</span><span class="p">,</span>
      <span class="dl">"</span><span class="s2">limit</span><span class="dl">"</span><span class="p">:</span> <span class="mi">300</span><span class="p">,</span>
      <span class="dl">"</span><span class="s2">maintain_margin</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1.00</span><span class="dl">"</span><span class="p">,</span>
      <span class="dl">"</span><span class="s2">starting_margin</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1.50</span><span class="dl">"</span><span class="p">,</span>
      <span class="dl">"</span><span class="s2">section</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">[</span><span class="se">\"</span><span class="s2">1</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">2</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">3</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">5</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">10</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">25</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">50</span><span class="se">\"</span><span class="s2">,</span><span class="se">\"</span><span class="s2">66</span><span class="se">\"</span><span class="s2">]</span><span class="dl">"</span><span class="p">,</span>
      <span class="dl">"</span><span class="s2">is_lowest_risk</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
      <span class="dl">"</span><span class="s2">created_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2019-06-26T05:46:45.000Z</span><span class="dl">"</span><span class="p">,</span>
      <span class="dl">"</span><span class="s2">updated_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2019-06-26T05:46:55.000Z</span><span class="dl">"</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="dl">"</span><span class="s2">ext_info</span><span class="dl">"</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">time_now</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1577589068.435439</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">rate_limit_status</span><span class="dl">"</span><span class="p">:</span> <span class="mi">71</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">rate_limit_reset_ms</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1577589068546</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">rate_limit</span><span class="dl">"</span><span class="p">:</span> <span class="mi">75</span>
<span class="p">}</span>
</code></pre></div>
<p>设置风险限额。</p>

<aside class="notice">
关于风险限额，点击<a href="https://help.bybit.com/hc/en-us/articles/360007107454-Risk-Limit-Overview">这里</a>了解更多。
</aside>

<p class="fake_header">HTTP 请求</p>

<p>POST
<code><span id=oawRiskLimit>/open-api/wallet/risk-limit</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#oawRiskLimit"><img src="../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button></p>

<p class="fake_header">请求参数</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left"><b>true</b></td>
<td style="text-align: left">string</td>
<td>合约类型</td>
</tr>
<tr>
<td style="text-align: left">risk_id</td>
<td style="text-align: left"><b>true</b></td>
<td style="text-align: left">integer</td>
<td>风险限额ID</td>
</tr>
</tbody></table>

<p class="fake_header">返回参数</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">position &gt; id</td>
<td style="text-align: left">number</td>
<td>仓位ID</td>
</tr>
<tr>
<td style="text-align: left">user_id</td>
<td style="text-align: left">number</td>
<td>用户ID</td>
</tr>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left">string</td>
<td>合约类型</td>
</tr>
<tr>
<td style="text-align: left"><a href="#side-side">side</a></td>
<td style="text-align: left">string</td>
<td>方向</td>
</tr>
<tr>
<td style="text-align: left">size</td>
<td style="text-align: left">number</td>
<td>仓位数量</td>
</tr>
<tr>
<td style="text-align: left">position_value</td>
<td style="text-align: left">number</td>
<td>仓位价值</td>
</tr>
<tr>
<td style="text-align: left">entry_price</td>
<td style="text-align: left">number</td>
<td>平均入场价</td>
</tr>
<tr>
<td style="text-align: left">risk_id</td>
<td style="text-align: left">number</td>
<td>风险限额ID</td>
</tr>
<tr>
<td style="text-align: left">auto_add_margin</td>
<td style="text-align: left">number</td>
<td>是否自动追加保证金</td>
</tr>
<tr>
<td style="text-align: left">leverage</td>
<td style="text-align: left">number</td>
<td>逐仓模式下, 值为用户设置的杠杆；全仓模式下，值为当前风险限额下最大杠杆</td>
</tr>
<tr>
<td style="text-align: left">position_margin</td>
<td style="text-align: left">number</td>
<td>仓位保证金</td>
</tr>
<tr>
<td style="text-align: left">liq_price</td>
<td style="text-align: left">number</td>
<td>强平价格</td>
</tr>
<tr>
<td style="text-align: left">bust_price</td>
<td style="text-align: left">number</td>
<td>破产价格</td>
</tr>
<tr>
<td style="text-align: left">occ_closing_fee</td>
<td style="text-align: left">number</td>
<td>仓位占用的平仓手续费</td>
</tr>
<tr>
<td style="text-align: left">occ_funding_fee</td>
<td style="text-align: left">number</td>
<td>仓位size和当前资金费率预占用资金费用</td>
</tr>
<tr>
<td style="text-align: left">take_profit</td>
<td style="text-align: left">number</td>
<td>止盈价格</td>
</tr>
<tr>
<td style="text-align: left">stop_loss</td>
<td style="text-align: left">number</td>
<td>止损价格</td>
</tr>
<tr>
<td style="text-align: left">trailing_stop</td>
<td style="text-align: left">number</td>
<td>追踪止损</td>
</tr>
<tr>
<td style="text-align: left">position_status</td>
<td style="text-align: left">string</td>
<td>仓位状态，正常，强平，减仓</td>
</tr>
<tr>
<td style="text-align: left">deleverage_indicator</td>
<td style="text-align: left">number</td>
<td>风险指示灯等级（1，2，3，4，5）</td>
</tr>
<tr>
<td style="text-align: left">oc_calc_data</td>
<td style="text-align: left">string</td>
<td>预占保证证计算参数, blq-多方所有未成交委托数; bmp-多方最低价; slq-空方所有未成交委托数; smp-空方最低价</td>
</tr>
<tr>
<td style="text-align: left">order_margin</td>
<td style="text-align: left">number</td>
<td>委托预占用保证金</td>
</tr>
<tr>
<td style="text-align: left">wallet_balance</td>
<td style="text-align: left">number</td>
<td>钱包余额</td>
</tr>
<tr>
<td style="text-align: left">realised_pnl</td>
<td style="text-align: left">number</td>
<td>当日已结盈亏</td>
</tr>
<tr>
<td style="text-align: left">cum_realised_pnl</td>
<td style="text-align: left">number</td>
<td>累计已结盈亏</td>
</tr>
<tr>
<td style="text-align: left">cum_commission</td>
<td style="text-align: left">number</td>
<td>累计佣金</td>
</tr>
<tr>
<td style="text-align: left">cross_seq</td>
<td style="text-align: left">number</td>
<td>撮合版本号</td>
</tr>
<tr>
<td style="text-align: left">position_seq</td>
<td style="text-align: left">number</td>
<td>仓位变化版本号</td>
</tr>
<tr>
<td style="text-align: left">created_at</td>
<td style="text-align: left">string</td>
<td>创建时间</td>
</tr>
<tr>
<td style="text-align: left">updated_at</td>
<td style="text-align: left">string</td>
<td>更新时间</td>
</tr>
<tr>
<td style="text-align: left">ext_fields&gt;trailing_active</td>
<td style="text-align: left">string</td>
<td>激活价格</td>
</tr>
<tr>
<td style="text-align: left">risk&gt;id</td>
<td style="text-align: left">number</td>
<td>风险限额ID</td>
</tr>
<tr>
<td style="text-align: left">risk&gt;coin</td>
<td style="text-align: left">string</td>
<td>币种</td>
</tr>
<tr>
<td style="text-align: left">risk&gt;limit</td>
<td style="text-align: left">number</td>
<td>风险限额</td>
</tr>
<tr>
<td style="text-align: left">risk&gt;maintain_margin</td>
<td style="text-align: left">string</td>
<td>维持保证金</td>
</tr>
<tr>
<td style="text-align: left">risk&gt;starting_margin</td>
<td style="text-align: left">string</td>
<td>起始保证金</td>
</tr>
<tr>
<td style="text-align: left">risk&gt;section</td>
<td style="text-align: left">string</td>
<td>区间点</td>
</tr>
<tr>
<td style="text-align: left">risk&gt;is_lowest_risk</td>
<td style="text-align: left">number</td>
<td>是否最低风险限额0:不是 1:是</td>
</tr>
<tr>
<td style="text-align: left">risk&gt;created_at</td>
<td style="text-align: left">string</td>
<td>创建时间</td>
</tr>
<tr>
<td style="text-align: left">risk&gt;updated_at</td>
<td style="text-align: left">string</td>
<td>更新时间</td>
</tr>
</tbody></table>
<h2 id='t-funding'>资金费率</h2><h3 id='t-fundingrate'>查询上个周期的资金费率</h3>
<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight console tab-console"><code><span class="go">curl "https://api.bybit.com/v2/public/funding/prev-funding-rate?api_key={api_key}&amp;symbol=BTCUSD&amp;timestamp={timestamp}&amp;sign={sign}"
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">bybit</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">bybit</span><span class="p">.</span><span class="n">bybit</span><span class="p">(</span><span class="n">test</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">api_key</span><span class="o">=</span><span class="s">"api_key"</span><span class="p">,</span> <span class="n">api_secret</span><span class="o">=</span><span class="s">"api_secret"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">client</span><span class="p">.</span><span class="n">Funding</span><span class="p">.</span><span class="n">Funding_prevRate</span><span class="p">(</span><span class="n">symbol</span><span class="o">=</span><span class="s">"BTCUSD"</span><span class="p">).</span><span class="n">result</span><span class="p">())</span>
</code></pre></div>
<blockquote>
<p>响应示例</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">ret_code</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ret_msg</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">ok</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_code</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">result</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
        <span class="dl">"</span><span class="s2">symbol</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">BTCUSD</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">funding_rate</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0.00010000</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">funding_rate_timestamp</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1577433600</span>
    <span class="p">},</span>
    <span class="dl">"</span><span class="s2">ext_info</span><span class="dl">"</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">time_now</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1577445586.446797</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_status</span><span class="dl">"</span><span class="p">:</span> <span class="mi">119</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_reset_ms</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1577445586454</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit</span><span class="dl">"</span><span class="p">:</span> <span class="mi">120</span>
<span class="p">}</span>
</code></pre></div>
<p>UTC时间每天0点、8点、16点产生一个资金费率。 假设当前时间是UTC12点，则返回的是上一次结算即UTC8点产生的资金费率。</p>

<p class="fake_header">HTTP 请求</p>

<p>GET
<code><span id=oafPrevFundingRateNew>/v2/public/funding/prev-funding-rate</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#oafPrevFundingRateNew"><img src="../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button></p>

<p class="fake_header">请求参数</p>

<table><thead>
<tr>
<th style="text-align: left">parameter</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left"><b>true</b></td>
<td style="text-align: left">string</td>
<td>合约类型</td>
</tr>
</tbody></table>

<p class="fake_header">返回参数</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left">string</td>
<td>合约类型</td>
</tr>
<tr>
<td style="text-align: left">funding_rate</td>
<td style="text-align: left">string</td>
<td>资金费率</td>
</tr>
<tr>
<td style="text-align: left">funding_rate_timestamp</td>
<td style="text-align: left">number</td>
<td>资金费率时间戳</td>
</tr>
</tbody></table>
<h3 id='t-mylastfundingfee'>查询上个周期资金费用结算信息</h3>
<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight console tab-console"><code><span class="go">curl "https://api.bybit.com/v2/private/funding/prev-funding?api_key={api_key}&amp;symbol=BTCUSD&amp;timestamp={timestamp}&amp;sign={sign}"
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">bybit</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">bybit</span><span class="p">.</span><span class="n">bybit</span><span class="p">(</span><span class="n">test</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">api_key</span><span class="o">=</span><span class="s">"api_key"</span><span class="p">,</span> <span class="n">api_secret</span><span class="o">=</span><span class="s">"api_secret"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">client</span><span class="p">.</span><span class="n">Funding</span><span class="p">.</span><span class="n">Funding_myLastFee</span><span class="p">(</span><span class="n">symbol</span><span class="o">=</span><span class="s">"BTCUSD"</span><span class="p">).</span><span class="n">result</span><span class="p">())</span>
</code></pre></div>
<blockquote>
<p>响应示例</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">ret_code</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ret_msg</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">ok</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_code</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">result</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
        <span class="dl">"</span><span class="s2">symbol</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">BTCUSD</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">side</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Buy</span><span class="dl">"</span><span class="p">,</span>  <span class="c1">// Your position side at the time of settlement</span>
        <span class="dl">"</span><span class="s2">size</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>      <span class="c1">// Your position size at the time of settlement</span>
        <span class="dl">"</span><span class="s2">funding_rate</span><span class="dl">"</span><span class="p">:</span> <span class="mf">0.0001</span><span class="p">,</span>  <span class="c1">// Funding rate for settlement. When the funding rate is positive, longs pay shorts. When it is negative, shorts pay longs.</span>
        <span class="dl">"</span><span class="s2">exec_fee</span><span class="dl">"</span><span class="p">:</span> <span class="mf">0.00000002</span><span class="p">,</span>  <span class="c1">// Funding fee.</span>
        <span class="dl">"</span><span class="s2">exec_timestamp</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1575907200</span>  <span class="c1">// The time of funding settlement occurred, UTC timestamp</span>
    <span class="p">},</span>
    <span class="dl">"</span><span class="s2">ext_info</span><span class="dl">"</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">time_now</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1577446900.717204</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_status</span><span class="dl">"</span><span class="p">:</span> <span class="mi">119</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_reset_ms</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1577446900724</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit</span><span class="dl">"</span><span class="p">:</span> <span class="mi">120</span>
<span class="p">}</span>
</code></pre></div>
<p><p>UTC时间每天0点、8点、16点进行资金费用结算</p>
<p>当前周期的资金费用结算是根据上个周期的资金费率来进行结算</p>
<p>比如16点结算时是按照8点产生的资金费率来进行结算，而16点产生的资金费率则会在第二天0点结算时使用</p>
</p>

<p class="fake_header">HTTP 请求</p>

<p>GET
<code><span id=oafPrevFundingNew>/v2/private/funding/prev-funding</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#oafPrevFundingNew"><img src="../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button></p>

<p class="fake_header">请求参数</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left"><b>true</b></td>
<td style="text-align: left">string</td>
<td>合约类型</td>
</tr>
</tbody></table>

<p class="fake_header">返回参数</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left">string</td>
<td>合约类型</td>
</tr>
<tr>
<td style="text-align: left"><a href="#side-side">side</a></td>
<td style="text-align: left">string</td>
<td>执行资金费率时的用户仓位方向</td>
</tr>
<tr>
<td style="text-align: left">size</td>
<td style="text-align: left">number</td>
<td>执行资金费率时的用户仓位数量</td>
</tr>
<tr>
<td style="text-align: left">funding_rate</td>
<td style="text-align: left">number</td>
<td>资金费率</td>
</tr>
<tr>
<td style="text-align: left">exec_fee</td>
<td style="text-align: left">number</td>
<td>交易手续费</td>
</tr>
<tr>
<td style="text-align: left">exec_timestamp</td>
<td style="text-align: left">number</td>
<td>交易时间</td>
</tr>
</tbody></table>
<h3 id='t-predictedfunding'>查询预测资金费率和资金费用</h3>
<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight console tab-console"><code><span class="go">curl "https://api.bybit.com/v2/private/funding/predicted-funding?api_key={api_key}&amp;symbol=BTCUSD&amp;timestamp={timestamp}&amp;sign={sign}"
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">bybit</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">bybit</span><span class="p">.</span><span class="n">bybit</span><span class="p">(</span><span class="n">test</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">api_key</span><span class="o">=</span><span class="s">"api_key"</span><span class="p">,</span> <span class="n">api_secret</span><span class="o">=</span><span class="s">"api_secret"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">client</span><span class="p">.</span><span class="n">Funding</span><span class="p">.</span><span class="n">Funding_predicted</span><span class="p">(</span><span class="n">symbol</span><span class="o">=</span><span class="s">"BTCUSD"</span><span class="p">).</span><span class="n">result</span><span class="p">())</span>
</code></pre></div>
<blockquote>
<p>响应示例</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">ret_code</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ret_msg</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">ok</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_code</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">result</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
        <span class="dl">"</span><span class="s2">predicted_funding_rate</span><span class="dl">"</span><span class="p">:</span> <span class="mf">0.0001</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">predicted_funding_fee</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span>
    <span class="p">},</span>
    <span class="dl">"</span><span class="s2">ext_info</span><span class="dl">"</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">time_now</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1577447415.583259</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_status</span><span class="dl">"</span><span class="p">:</span> <span class="mi">118</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_reset_ms</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1577447415590</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit</span><span class="dl">"</span><span class="p">:</span> <span class="mi">120</span>
<span class="p">}</span>
</code></pre></div>
<p>查询预测资金费率和资金费用。</p>

<p class="fake_header">HTTP 请求</p>

<p>GET
<code><span id=oafPredictedFundingNew>/v2/private/funding/predicted-funding</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#oafPredictedFundingNew"><img src="../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button></p>

<p class="fake_header">请求参数</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left"><b>true</b></td>
<td style="text-align: left">string</td>
<td>合约类型</td>
</tr>
</tbody></table>

<p class="fake_header">返回参数</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">predicted_funding_rate</td>
<td style="text-align: left">number</td>
<td>预测资金费率</td>
</tr>
<tr>
<td style="text-align: left">predicted_funding_fee</td>
<td style="text-align: left">number</td>
<td>预测资金费用</td>
</tr>
</tbody></table>
<h2 id='t-key'>APIKey信息</h2>
<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight console tab-console"><code><span class="go">curl "https://api.bybit.com/v2/private/account/api-key?api_key={api_key}&amp;timestamp={timestamp}&amp;sign={sign}"
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">bybit</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">bybit</span><span class="p">.</span><span class="n">bybit</span><span class="p">(</span><span class="n">test</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">api_key</span><span class="o">=</span><span class="s">"api_key"</span><span class="p">,</span> <span class="n">api_secret</span><span class="o">=</span><span class="s">"api_secret"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">client</span><span class="p">.</span><span class="n">APIkey</span><span class="p">.</span><span class="n">APIkey_info</span><span class="p">().</span><span class="n">result</span><span class="p">())</span>
</code></pre></div>
<blockquote>
<p>响应示例</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">ret_code</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ret_msg</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">ok</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_code</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">result</span><span class="dl">"</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="dl">"</span><span class="s2">api_key</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">7GkMBBLTbGRfa0Nuh1</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">personal</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">user_id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">inviter_id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">ips</span><span class="dl">"</span><span class="p">:</span> <span class="p">[</span>
                <span class="dl">"</span><span class="s2">*</span><span class="dl">"</span>
            <span class="p">],</span>
            <span class="dl">"</span><span class="s2">note</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">scalping_bot</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">permissions</span><span class="dl">"</span><span class="p">:</span> <span class="p">[</span>
                <span class="dl">"</span><span class="s2">Order</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">Position</span><span class="dl">"</span>
            <span class="p">],</span>
            <span class="dl">"</span><span class="s2">created_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2019-10-28T13:22:39.000Z</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">expired_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2020-01-28T13:22:39.000Z</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">read_only</span><span class="dl">"</span><span class="p">:</span> <span class="kc">false</span>
        <span class="p">}</span>
    <span class="p">],</span>
    <span class="dl">"</span><span class="s2">ext_info</span><span class="dl">"</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">time_now</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1577445138.790150</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_status</span><span class="dl">"</span><span class="p">:</span> <span class="mi">99</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_reset_ms</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1577445138812</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit</span><span class="dl">"</span><span class="p">:</span> <span class="mi">100</span>
<span class="p">}</span>
</code></pre></div>
<p>获取账户API密钥信息。</p>

<p class="fake_header">HTTP 请求</p>

<p>GET
<code><span id=oaApiKeyNew>/v2/private/account/api-key</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#oaApiKeyNew"><img src="../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button></p>

<p class="fake_header">请求参数</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">类型</th>
<th>说明</th>
</tr>
</thead><tbody>
</tbody></table>

<p class="fake_header">返回参数</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">api_key</td>
<td style="text-align: left">string</td>
<td>API 密钥</td>
</tr>
<tr>
<td style="text-align: left">type</td>
<td style="text-align: left">string</td>
<td>Key 类型</td>
</tr>
<tr>
<td style="text-align: left">user_id</td>
<td style="text-align: left">number</td>
<td>用户 ID</td>
</tr>
<tr>
<td style="text-align: left">inviter_id</td>
<td style="text-align: left">number</td>
<td>邀请人 ID</td>
</tr>
<tr>
<td style="text-align: left">ips</td>
<td style="text-align: left">string</td>
<td>IP地址</td>
</tr>
<tr>
<td style="text-align: left">note</td>
<td style="text-align: left">string</td>
<td>备注</td>
</tr>
<tr>
<td style="text-align: left">permissions</td>
<td style="text-align: left">string</td>
<td>ApiKey 所有权限</td>
</tr>
<tr>
<td style="text-align: left">created_at</td>
<td style="text-align: left">string</td>
<td>创建时间</td>
</tr>
<tr>
<td style="text-align: left">expired_at</td>
<td style="text-align: left">string</td>
<td>过期时间</td>
</tr>
<tr>
<td style="text-align: left">read_only</td>
<td style="text-align: left">bool</td>
<td>是否只读</td>
</tr>
</tbody></table>
<h2 id='t-lcp'>流动性贡献分</h2>
<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight console tab-console"><code><span class="go">curl "https://api.bybit.com/v2/private/account/lcp?api_key={api_key}&amp;symbol=BTCUSD&amp;timestamp={timestamp}&amp;sign={sign}"
</span></code></pre></div>
<blockquote>
<p>响应示例</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">ret_code</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ret_msg</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">ok</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_code</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">result</span><span class="dl">"</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="dl">"</span><span class="s2">date</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2020-04-27</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">self_ratio</span><span class="dl">"</span><span class="p">:</span> <span class="mf">1.1251</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">platform_ratio</span><span class="dl">"</span><span class="p">:</span> <span class="mf">0.001254</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">score</span><span class="dl">"</span><span class="p">:</span> <span class="mf">0.1459</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="dl">"</span><span class="s2">date</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2020-04-26</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">self_ratio</span><span class="dl">"</span><span class="p">:</span> <span class="mf">1.1251</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">platform_ratio</span><span class="dl">"</span><span class="p">:</span> <span class="mf">0.001254</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">score</span><span class="dl">"</span><span class="p">:</span> <span class="mf">0.1459</span>
        <span class="p">}</span>
    <span class="p">],</span>
    <span class="dl">"</span><span class="s2">ext_info</span><span class="dl">"</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">time_now</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1577445138.790150</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_status</span><span class="dl">"</span><span class="p">:</span> <span class="mi">99</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_reset_ms</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1577445138812</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit</span><span class="dl">"</span><span class="p">:</span> <span class="mi">100</span>
<span class="p">}</span>
</code></pre></div>
<p>查询用户流动性贡献分(当天数据每小时更新一次)</p>

<p class="fake_header">HTTP 请求</p>

<p>GET
<code><span id=oaApiLcp>/v2/private/account/lcp</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#oaApiLcp"><img src="../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button></p>

<p class="fake_header">请求参数</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left"><b>true</b></td>
<td style="text-align: left">string</td>
<td>合约类型</td>
</tr>
</tbody></table>

<p class="fake_header">返回参数</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">date</td>
<td style="text-align: left">string</td>
<td>日期</td>
</tr>
<tr>
<td style="text-align: left">self_ratio</td>
<td style="text-align: left">number</td>
<td>个人有效挂单占比</td>
</tr>
<tr>
<td style="text-align: left">platform_ratio</td>
<td style="text-align: left">number</td>
<td>平台有效挂单占比</td>
</tr>
<tr>
<td style="text-align: left">score</td>
<td style="text-align: left">number</td>
<td>流动性贡献分</td>
</tr>
</tbody></table>
<h1 id='t-wallet'>钱包接口</h1>
<p>钱包相关接口需要认证。</p>
<h3 id='t-balance'>获取钱包余额</h3>
<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight console tab-console"><code><span class="go">curl "https://api.bybit.com/v2/private/wallet/balance?api_key={api_key}&amp;coin=BTC&amp;timestamp={timestamp}&amp;sign={sign}"
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">bybit</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">bybit</span><span class="p">.</span><span class="n">bybit</span><span class="p">(</span><span class="n">test</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">api_key</span><span class="o">=</span><span class="s">"api_key"</span><span class="p">,</span> <span class="n">api_secret</span><span class="o">=</span><span class="s">"api_secret"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">client</span><span class="p">.</span><span class="n">Wallet</span><span class="p">.</span><span class="n">Wallet_getBalance</span><span class="p">(</span><span class="n">coin</span><span class="o">=</span><span class="s">"BTC"</span><span class="p">).</span><span class="n">result</span><span class="p">())</span>
</code></pre></div>
<blockquote>
<p>响应示例</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">ret_code</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ret_msg</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">OK</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_code</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_info</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">result</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
        <span class="dl">"</span><span class="s2">BTC</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
            <span class="dl">"</span><span class="s2">equity</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1002</span><span class="p">,</span>                         <span class="c1">//equity = wallet_balance + unrealised_pnl</span>
            <span class="dl">"</span><span class="s2">available_balance</span><span class="dl">"</span><span class="p">:</span> <span class="mf">999.99987471</span><span class="p">,</span>      <span class="c1">//available_balance</span>
            <span class="c1">//In Isolated Margin Mode:</span>
            <span class="c1">// available_balance = wallet_balance - (position_margin + occ_closing_fee + occ_funding_fee + order_margin)</span>
            <span class="c1">//In Cross Margin Mode:</span>
              <span class="c1">//if unrealised_pnl &gt; 0:</span>
              <span class="c1">//available_balance = wallet_balance - (position_margin + occ_closing_fee + occ_funding_fee + order_margin)；</span>
              <span class="c1">//if unrealised_pnl &lt; 0:</span>
              <span class="c1">//available_balance = wallet_balance - (position_margin + occ_closing_fee + occ_funding_fee + order_margin) + unrealised_pnl</span>
            <span class="dl">"</span><span class="s2">used_margin</span><span class="dl">"</span><span class="p">:</span> <span class="mf">0.00012529</span><span class="p">,</span>              <span class="c1">//used_margin = wallet_balance - available_balance</span>
            <span class="dl">"</span><span class="s2">order_margin</span><span class="dl">"</span><span class="p">:</span> <span class="mf">0.00012529</span><span class="p">,</span>             <span class="c1">//Used margin by order</span>
            <span class="dl">"</span><span class="s2">position_margin</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>                   <span class="c1">//position margin</span>
            <span class="dl">"</span><span class="s2">occ_closing_fee</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>                   <span class="c1">//position closing fee</span>
            <span class="dl">"</span><span class="s2">occ_funding_fee</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>                   <span class="c1">//funding fee</span>
            <span class="dl">"</span><span class="s2">wallet_balance</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1000</span><span class="p">,</span>                 <span class="c1">//wallet balance. When in Cross Margin mod, the number minus your unclosed loss is your real wallet balance.</span>
            <span class="dl">"</span><span class="s2">realised_pnl</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>                      <span class="c1">//daily realized profit and loss</span>
            <span class="dl">"</span><span class="s2">unrealised_pnl</span><span class="dl">"</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>                    <span class="c1">//unrealised profit and loss</span>
                <span class="c1">//when side is sell:</span>
                <span class="c1">// unrealised_pnl = size * (1.0 / mark_price -  1.0 / entry_price）</span>
                <span class="c1">//when side is buy:</span>
                <span class="c1">// unrealised_pnl = size * (1.0 / entry_price -  1.0 / mark_price）</span>
            <span class="dl">"</span><span class="s2">cum_realised_pnl</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>                  <span class="c1">//total relised profit and loss</span>
            <span class="dl">"</span><span class="s2">given_cash</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>                        <span class="c1">//given_cash</span>
            <span class="dl">"</span><span class="s2">service_cash</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span>                       <span class="c1">//service_cash</span>
        <span class="p">}</span>
    <span class="p">},</span>
    <span class="dl">"</span><span class="s2">time_now</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1578284274.816029</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_status</span><span class="dl">"</span><span class="p">:</span> <span class="mi">98</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_reset_ms</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1580885703683</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit</span><span class="dl">"</span><span class="p">:</span> <span class="mi">100</span>
<span class="p">}</span>
</code></pre></div>
<p>获取钱包余额</p>

<aside class="notice">
接口返回值中的<code>position_margin</code> 不同于 <a href="https://www.bybit.com/app/wallet/money">网站上的仓位保证金</a>
<p>网站仓位保证金计算公式: <code>position_margin</code> + <code>occ_funding_fee</code> + loss(当你的可用余额不足时)</p>

</aside>

<p class="fake_header">HTTP 请求</p>

<p>GET
<code><span id=vpwBalance>/v2/private/wallet/balance</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#vpwBalance"><img src="../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button></p>

<p class="fake_header">请求参数</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><a href="#currency-currency-coin">coin</a></td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td><code>currency</code> alias，如果不传参数coin，将返回所有钱包余额。</td>
</tr>
</tbody></table>

<p class="fake_header">返回参数</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">equity</td>
<td style="text-align: left">number</td>
<td>用户资产</td>
</tr>
<tr>
<td style="text-align: left">available_balance</td>
<td style="text-align: left">number</td>
<td>可用余额, 钱包余额 - 仓位保证金</td>
</tr>
<tr>
<td style="text-align: left">used_margin</td>
<td style="text-align: left">number</td>
<td>已用保证金</td>
</tr>
<tr>
<td style="text-align: left">order_margin</td>
<td style="text-align: left">number</td>
<td>委托预占用保证金</td>
</tr>
<tr>
<td style="text-align: left">position_margin</td>
<td style="text-align: left">number</td>
<td>仓位保证金</td>
</tr>
<tr>
<td style="text-align: left">occ_closing_fee</td>
<td style="text-align: left">number</td>
<td>仓位占用的平仓手续费</td>
</tr>
<tr>
<td style="text-align: left">occ_funding_fee</td>
<td style="text-align: left">number</td>
<td>仓位size和当前资金费率预占用资金费用</td>
</tr>
<tr>
<td style="text-align: left">wallet_balance</td>
<td style="text-align: left">number</td>
<td>钱包余额</td>
</tr>
<tr>
<td style="text-align: left">realised_pnl</td>
<td style="text-align: left">number</td>
<td>当日已结盈亏</td>
</tr>
<tr>
<td style="text-align: left">unrealised_pnl</td>
<td style="text-align: left">number</td>
<td>未结盈亏</td>
</tr>
<tr>
<td style="text-align: left">cum_realised_pnl</td>
<td style="text-align: left">number</td>
<td>累计已结盈亏</td>
</tr>
<tr>
<td style="text-align: left">given_cash</td>
<td style="text-align: left">number</td>
<td>体验金</td>
</tr>
<tr>
<td style="text-align: left">service_cash</td>
<td style="text-align: left">number</td>
<td>抵扣金</td>
</tr>
</tbody></table>
<h3 id='t-walletrecords'>资金记录</h3>
<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight console tab-console"><code><span class="go">curl "https://api.bybit.com/v2/private/wallet/fund/records?api_key={api_key}&amp;timestamp={timestamp}&amp;sign={sign}"
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">bybit</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">bybit</span><span class="p">.</span><span class="n">bybit</span><span class="p">(</span><span class="n">test</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">api_key</span><span class="o">=</span><span class="s">"api_key"</span><span class="p">,</span> <span class="n">api_secret</span><span class="o">=</span><span class="s">"api_secret"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">client</span><span class="p">.</span><span class="n">Wallet</span><span class="p">.</span><span class="n">Wallet_getRecords</span><span class="p">().</span><span class="n">result</span><span class="p">())</span>
</code></pre></div>
<blockquote>
<p>响应示例</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">ret_code</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ret_msg</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">ok</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_code</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">result</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
        <span class="dl">"</span><span class="s2">data</span><span class="dl">"</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span>
                <span class="dl">"</span><span class="s2">id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">235853</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">user_id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">coin</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">BTC</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">wallet_id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">27913</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Realized P&amp;L</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">amount</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0.00000023</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">tx_id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">address</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">BTCUSD</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">wallet_balance</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0.03000353</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">exec_time</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2019-12-10T00:00:29.000Z</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">cross_seq</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span>
            <span class="p">},</span>
            <span class="p">{</span>
                <span class="dl">"</span><span class="s2">id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">234467</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">user_id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">coin</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">BTC</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">wallet_id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">27913</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Realized P&amp;L</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">amount</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">-0.00000006</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">tx_id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">address</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">BTCUSD</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">wallet_balance</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0.03000330</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">exec_time</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2019-12-09T00:00:25.000Z</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">cross_seq</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span>
            <span class="p">}</span>
        <span class="p">]</span>
    <span class="p">},</span>
    <span class="dl">"</span><span class="s2">ext_info</span><span class="dl">"</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">time_now</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1577481867.115552</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_status</span><span class="dl">"</span><span class="p">:</span> <span class="mi">119</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_reset_ms</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1577481867122</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit</span><span class="dl">"</span><span class="p">:</span> <span class="mi">120</span>
<span class="p">}</span>
</code></pre></div>
<p>查询资金记录。</p>

<aside class="notice">
关于<code>Withdraw</code>和<code>Refund</code>类型数据的说明，请参考<a href="#t-withdrawrecords">提币记录</a>接口
</aside>

<aside class="notice">
如果用户不通过<code>coin</code>传入<code>USDT</code>，USDT记录将不会被返回给用户。
</aside>

<p class="fake_header">HTTP 请求</p>

<p>GET
<code><span id=oawfRecordsNew>/v2/private/wallet/fund/records</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#oawfRecordsNew"><img src="../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button></p>

<p class="fake_header">请求参数</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">start_date</td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>起始时间点</td>
</tr>
<tr>
<td style="text-align: left">end_date</td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>结束时间点</td>
</tr>
<tr>
<td style="text-align: left"><a href="#currency-currency-coin">currency</a></td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>币种类型</td>
</tr>
<tr>
<td style="text-align: left"><a href="#currency-currency-coin">coin</a></td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td><code>currency</code> alias</td>
</tr>
<tr>
<td style="text-align: left"><a href="#wallet-fund-type-wallet_fund_type">wallet_fund_type</a></td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>资金记录类型</td>
</tr>
<tr>
<td style="text-align: left">page</td>
<td style="text-align: left">false</td>
<td style="text-align: left">integer</td>
<td>页码.默认取第一页</td>
</tr>
<tr>
<td style="text-align: left">limit</td>
<td style="text-align: left">false</td>
<td style="text-align: left">integer</td>
<td>每页数量, 最大50. 默认每页20条</td>
</tr>
</tbody></table>

<p class="fake_header">返回参数</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">user_id</td>
<td style="text-align: left">number</td>
<td>用户ID</td>
</tr>
<tr>
<td style="text-align: left">coin</td>
<td style="text-align: left">string</td>
<td>币种</td>
</tr>
<tr>
<td style="text-align: left">type</td>
<td style="text-align: left">string</td>
<td>资金类型</td>
</tr>
<tr>
<td style="text-align: left">amount</td>
<td style="text-align: left">string</td>
<td>资金总量</td>
</tr>
<tr>
<td style="text-align: left">tx_id</td>
<td style="text-align: left">string</td>
<td>交易哈希ID</td>
</tr>
<tr>
<td style="text-align: left">address</td>
<td style="text-align: left">string</td>
<td>地址</td>
</tr>
<tr>
<td style="text-align: left">wallet_balance</td>
<td style="text-align: left">string</td>
<td>钱包余额</td>
</tr>
<tr>
<td style="text-align: left">exec_timestamp</td>
<td style="text-align: left">string</td>
<td>交易时间</td>
</tr>
<tr>
<td style="text-align: left">cross_seq</td>
<td style="text-align: left">number</td>
<td>撮合版本号</td>
</tr>
</tbody></table>
<h3 id='t-withdrawrecords'>提币记录</h3>
<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight console tab-console"><code><span class="go">curl "https://api.bybit.com/v2/private/wallet/withdraw/list?api_key={api_key}&amp;timestamp={timestamp}&amp;sign={sign}"
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">bybit</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">bybit</span><span class="p">.</span><span class="n">bybit</span><span class="p">(</span><span class="n">test</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">api_key</span><span class="o">=</span><span class="s">"api_key"</span><span class="p">,</span> <span class="n">api_secret</span><span class="o">=</span><span class="s">"api_secret"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">client</span><span class="p">.</span><span class="n">Wallet</span><span class="p">.</span><span class="n">Wallet_withdraw</span><span class="p">().</span><span class="n">result</span><span class="p">())</span>
</code></pre></div>
<blockquote>
<p>响应示例</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
  <span class="dl">"</span><span class="s2">ret_code</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">ret_msg</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">ok</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">ext_code</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">result</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
      <span class="dl">"</span><span class="s2">data</span><span class="dl">"</span><span class="p">:</span> <span class="p">[{</span>
          <span class="dl">"</span><span class="s2">id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">137</span><span class="p">,</span>                                        
          <span class="dl">"</span><span class="s2">user_id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>                                     
          <span class="dl">"</span><span class="s2">coin</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">XRP</span><span class="dl">"</span><span class="p">,</span>  <span class="c1">//<a href="#currency-currency-coin">币种枚举</a>                                    </span>
          <span class="dl">"</span><span class="s2">status</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Pending</span><span class="dl">"</span> <span class="c1">//<a href="#withdraw-status-status">提币状态枚举</a></span>
          <span class="dl">"</span><span class="s2">amount</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">20.00000000</span><span class="dl">"</span><span class="p">,</span>
          <span class="dl">"</span><span class="s2">fee</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0.25000000</span><span class="dl">"</span><span class="p">,</span>
          <span class="dl">"</span><span class="s2">address</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">rH7H595XYEVTEHU2FySYsWnmfACBnZS9zM</span><span class="dl">"</span><span class="p">,</span>
          <span class="dl">"</span><span class="s2">tx_id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
          <span class="dl">"</span><span class="s2">submited_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2019-06-11T02:20:24.000Z</span><span class="dl">"</span><span class="p">,</span>
          <span class="dl">"</span><span class="s2">updated_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2019-06-11T02:20:24.000Z</span><span class="dl">"</span>
      <span class="p">}]</span>
      <span class="dl">"</span><span class="s2">current_page</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
      <span class="dl">"</span><span class="s2">last_page</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span>
  <span class="p">},</span>
  <span class="dl">"</span><span class="s2">ext_info</span><span class="dl">"</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">time_now</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1577482295.125488</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">rate_limit_status</span><span class="dl">"</span><span class="p">:</span> <span class="mi">119</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">rate_limit_reset_ms</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1577482295132</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">rate_limit</span><span class="dl">"</span><span class="p">:</span> <span class="mi">120</span>
<span class="p">}</span>
</code></pre></div>
<p>查询提币记录。</p>

<aside class="notice">
请注意该接口数据和<code>资金记录</code>中<code>Withdraw</code>类型数据的区别： <p>在该接口中，一次提币申请对应一条记录，并且有<code>status</code>字段表示当前提币状态。</p> <p>在<code>资金记录</code>接口中，一旦用户申请提币，就会产生一条<code>Withdraw</code>类型的数据，并且当提币申请取消、过期、或审核拒绝的时候，资金记录中会再新增一条<code>Refund</code>类型的数据。</p>
</aside>

<p class="fake_header">HTTP 请求</p>

<p>GET
<code><span id=oawwListNew>/v2/private/wallet/withdraw/list</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#oawwListNew"><img src="../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button></p>

<p class="fake_header">请求参数</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">start_date</td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>起始时间点</td>
</tr>
<tr>
<td style="text-align: left">end_date</td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>结束时间点</td>
</tr>
<tr>
<td style="text-align: left"><a href="#currency-currency-coin">coin</a></td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>币种类型</td>
</tr>
<tr>
<td style="text-align: left"><a href="#withdraw-status-status">status</a></td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td><a href="#withdraw-status-status">提币状态枚举</a></td>
</tr>
<tr>
<td style="text-align: left">page</td>
<td style="text-align: left">false</td>
<td style="text-align: left">integer</td>
<td>页码.默认取第一页</td>
</tr>
<tr>
<td style="text-align: left">limit</td>
<td style="text-align: left">false</td>
<td style="text-align: left">integer</td>
<td>每页数量, 最大50. 默认每页20条</td>
</tr>
</tbody></table>

<p class="fake_header">返回参数</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">user_id</td>
<td style="text-align: left">number</td>
<td>用户ID</td>
</tr>
<tr>
<td style="text-align: left">coin</td>
<td style="text-align: left">string</td>
<td>币种</td>
</tr>
<tr>
<td style="text-align: left">status</td>
<td style="text-align: left">string</td>
<td><a href="#withdraw-status-status">提币状态枚举</a></td>
</tr>
<tr>
<td style="text-align: left">amount</td>
<td style="text-align: left">string</td>
<td>资金总量</td>
</tr>
<tr>
<td style="text-align: left">fee</td>
<td style="text-align: left">string</td>
<td>手续费率</td>
</tr>
<tr>
<td style="text-align: left">address</td>
<td style="text-align: left">string</td>
<td>地址</td>
</tr>
<tr>
<td style="text-align: left">tx_id</td>
<td style="text-align: left">string</td>
<td>交易哈希ID</td>
</tr>
<tr>
<td style="text-align: left">submited_at</td>
<td style="text-align: left">string</td>
<td>提交时间</td>
</tr>
<tr>
<td style="text-align: left">updated_at</td>
<td style="text-align: left">string</td>
<td>更新时间</td>
</tr>
</tbody></table>
<h3 id='t-assetexchangerecords'>资产兑换记录</h3>
<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight console tab-console"><code><span class="go">curl "https://api.bybit.com/v2/private/exchange-order/list?api_key={api_key}&amp;timestamp={timestamp}&amp;sign={sign}"
</span></code></pre></div>
<blockquote>
<p>响应示例</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">ret_code</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ret_msg</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">OK</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_code</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_info</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">result</span><span class="dl">"</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="dl">"</span><span class="s2">id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">31</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">exchange_rate</span><span class="dl">"</span><span class="p">:</span> <span class="mf">40.57202774</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">from_coin</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">BTC</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">to_coin</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">ETH</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">to_amount</span><span class="dl">"</span><span class="p">:</span> <span class="mf">4.05720277</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">from_fee</span><span class="dl">"</span><span class="p">:</span> <span class="mf">0.0005</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">from_amount</span><span class="dl">"</span><span class="p">:</span> <span class="mf">0.1</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">created_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2020-06-15 03:32:52</span><span class="dl">"</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="dl">"</span><span class="s2">id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">30</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">exchange_rate</span><span class="dl">"</span><span class="p">:</span> <span class="mf">39.92359901</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">from_coin</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">BTC</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">to_coin</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">ETH</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">to_amount</span><span class="dl">"</span><span class="p">:</span> <span class="mf">39.923599</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">from_fee</span><span class="dl">"</span><span class="p">:</span> <span class="mf">0.0005</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">from_amount</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">created_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2020-06-12 08:27:51</span><span class="dl">"</span>
        <span class="p">}</span>
    <span class="p">],</span>
    <span class="dl">"</span><span class="s2">time_now</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1592554785.486414</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_status</span><span class="dl">"</span><span class="p">:</span> <span class="mi">119</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_reset_ms</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1592554785484</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit</span><span class="dl">"</span><span class="p">:</span> <span class="mi">120</span>
<span class="p">}</span>

</code></pre></div>
<p>查询资产兑换记录</p>

<p class="fake_header">HTTP 请求</p>

<p>GET
<code><span id=vpeOrder>/v2/private/exchange-order/list</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#vpeOrder"><img src="../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button></p>

<p class="fake_header">请求参数</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">limit</td>
<td style="text-align: left">false</td>
<td style="text-align: left">integer</td>
<td>每页数量, 最大50. 默认每页20条</td>
</tr>
<tr>
<td style="text-align: left">from</td>
<td style="text-align: left">false</td>
<td style="text-align: left">integer</td>
<td>起始ID，默认为最新id</td>
</tr>
<tr>
<td style="text-align: left">direction</td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>搜索方向：Prev:以起始ID升序检索,Next:起始ID降序检索，默认为Next</td>
</tr>
</tbody></table>

<p class="fake_header">返回参数</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">from_coin</td>
<td style="text-align: left">string</td>
<td>兑出币种</td>
</tr>
<tr>
<td style="text-align: left">from_amount</td>
<td style="text-align: left">number</td>
<td>兑出数量</td>
</tr>
<tr>
<td style="text-align: left">to_coin</td>
<td style="text-align: left">string</td>
<td>兑入币种</td>
</tr>
<tr>
<td style="text-align: left">to_amount</td>
<td style="text-align: left">number</td>
<td>兑入数量</td>
</tr>
<tr>
<td style="text-align: left">exchange_rate</td>
<td style="text-align: left">number</td>
<td>兑换汇率</td>
</tr>
<tr>
<td style="text-align: left">from_fee</td>
<td style="text-align: left">number</td>
<td>兑换手续费(兑出币种计价)</td>
</tr>
<tr>
<td style="text-align: left">created_at</td>
<td style="text-align: left">string</td>
<td>兑换时间</td>
</tr>
</tbody></table>
<h1 id='t-api'>通用数据接口</h1>
<p>通用数据接口不需要鉴权。</p>
<h3 id='t-servertime'>服务器时间</h3>
<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight console tab-console"><code><span class="go">curl https://api-testnet.bybit.com/v2/public/time
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">bybit</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">bybit</span><span class="p">.</span><span class="n">bybit</span><span class="p">(</span><span class="n">test</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">api_key</span><span class="o">=</span><span class="s">"api_key"</span><span class="p">,</span> <span class="n">api_secret</span><span class="o">=</span><span class="s">"api_secret"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">client</span><span class="p">.</span><span class="n">Common</span><span class="p">.</span><span class="n">Common_get</span><span class="p">().</span><span class="n">result</span><span class="p">())</span>
</code></pre></div>
<blockquote>
<p>响应示例</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">ret_code</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ret_msg</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">OK</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_code</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_info</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">result</span><span class="dl">"</span><span class="p">:</span> <span class="p">{},</span>
    <span class="dl">"</span><span class="s2">time_now</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1577444332.192859</span><span class="dl">"</span>
<span class="p">}</span>
</code></pre></div>
<p>获取Bybit服务器时间</p>

<p class="fake_header">HTTP 请求</p>

<p>GET
<code><span id=vpTime>/v2/public/time</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#vpTime"><img src="../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button></p>

<p class="fake_header">请求参数</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">类型</th>
<th>说明</th>
</tr>
</thead><tbody>
</tbody></table>
<h3 id='t-announcement'>公告</h3>
<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight console tab-console"><code><span class="go">curl https://api.bybit.com/v2/public/announcement
</span></code></pre></div>
<blockquote>
<p>响应示例</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">ret_code</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ret_msg</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">OK</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_code</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_info</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">result</span><span class="dl">"</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="dl">"</span><span class="s2">id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">title</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2019-12-02 RELEASE</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">link</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">https://github.com/bybit-exchange/bybit-official-api-docs/blob/master/en/CHANGELOG.md</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">summary</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">&lt;p&gt;New `cancel all` endpoint is here now!&lt;/p&gt;&lt;p&gt;Additionally, we strongly recommend that you use the new released place and cancel active V2 endpoints, which are more stable and efficient.The old ones are deprecated (although still working for the time be</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">created_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2019-12-02T11:33:42Z</span><span class="dl">"</span>
        <span class="p">}</span>
    <span class="p">],</span>
    <span class="dl">"</span><span class="s2">time_now</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1577444818.227082</span><span class="dl">"</span>
<span class="p">}</span>
</code></pre></div>
<p>获取Bybit最近30天OpenAPI公告（时间倒叙排列）</p>

<p class="fake_header">HTTP 请求</p>

<p>GET
<code><span id=vpAnnouncement>/v2/public/announcement</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#vpAnnouncement"><img src="../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button></p>

<p class="fake_header">请求参数</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">类型</th>
<th>说明</th>
</tr>
</thead><tbody>
</tbody></table>
<h1 id='t-ratelimits'>频率限制</h1><h3 id='t-ipratelimits'>IP频率限制</h3>
<p><p> Bybit会基于请求IP做频率限制，针对不同的请求方法有以下规则：</p>
<ul>
<li>
  <code>GET</code>方法:
  <ul>
    <li>每秒不超过70个请求</li>
    <li>连续2分钟内每秒不超过50个请求</li>
  </ul>
</li>
<li>
  <code>POST</code>方法:
  <ul>
    <li>每秒不超过50个请求</li>
    <li>连续2分钟内每秒不超过20个请求</li>
  </ul>
</li>
</ul>
</p>
<h3 id='t-understandingratelimits'>账户频率限制</h3>
<p>Bybit基于<b>每分钟</b>的滚动时间窗口来做频率限制，并且是按<b>账户</b>（uid）和交易对（symbol）来做划分限制，每次请求API响应中都会包含如下字段：
</p>
<div class="highlight"><pre class="highlight plaintext"><code>"rate_limit_status": 119,
"rate_limit_reset_ms": 1572114055663,
"rate_limit": 120
</code></pre></div>
<ul>
<li><code>rate_limit_status</code> - 该接口当前时间窗口剩余可用请求数</li>
<li><code>rate_limit</code> - 该接口当前频率限制上限</li>
<li><code>rate_limit_reset_ms</code> - 如果您已超过该接口当前窗口频率限制，该字段表示下个可用时间窗口的时间戳（毫秒），即什么时候可以恢复访问；如果您未超过该接口当前窗口频率限制，该字段表示返回的是当前服务器时间（毫秒).</li>
</ul>
<h3 id='t-perendpoint'>接口频率限制表</h3>
<table class="custom_table">
  <tr>
    <th>频率限制</th>
    <th>请求路径</th>
    <th>消耗</th>
  </tr>
  <tr>
    <td rowspan="10">100/min</td>  
  </tr>
  <tr><td>v2/private/order/cancel       </td><td>1 / request</td></tr>
  <tr><td>v2/private/stop-order/create  </td><td>1 / request</td></tr>
  <tr><td>v2/private/stop-order/cancel  </td><td>1 / request</td></tr>
  <tr><td>v2/private/order/replace      </td><td>1 / request</td></tr>
  <tr><td>v2/private/stop-order/replace </td><td>1 / request</td></tr>
  <tr><td>v2/private/order/create     </td><td>1 / request</td></tr>
  <tr><td>v2/private/order/cancel     </td><td>1 / request</td></tr>
  <tr><td>v2/private/order/cancelAll  </td><td>10 / request</td></tr>
  <tr><td>v2/private/stop-order/cancelAll </td><td>10 / request</td></tr>
  <tr>
    <td rowspan="3">600/min</td>
    <td>v2/private/order/list </td>
    <td>1 / request</td>
  </tr>
  <tr><td>v2/private/stop-order/list </td><td>1 / request</td></tr>
  <tr><td>v2/private/order </td><td>1 / request</td></tr>
  <tr>
    <td>120/min</td>
    <td>v2/private/execution/list</td>
    <td>1 / request</td>
  </tr>
  <tr>
    <td rowspan="3">75/min</td>
    <td>v2/private/position/leverage/save </td>
    <td>1 / request</td>
  </tr>
  <tr><td>v2/private/position/change-position-margin</td><td>1 / request</td></tr>
  <tr><td>v2/private/position/trading-stop</td><td>1 / request</td></tr>
  <tr>
    <td rowspan="4">120/min</td> 
  </tr>
  <tr></tr>
  <tr><td>v2/private/position/list</td><td>1 / request</td></tr>
    <tr><td>v2/private/wallet/balance</td><td>1 / request</td></tr>
  <tr>
    <td rowspan="4">120/min</td>
    <tr><td>v2/private/funding/prev-funding-rate</td>
    <td>1 / request</td>
  </tr>
  <tr><td>v2/private/funding/prev-funding</td><td>1 / request</td></tr>
  <tr><td>v2/private/funding/predicted-funding</td><td>1 / request</td></tr>
  <tr>
    <td rowspan="3">120/min</td>
    <tr><td>v2/private/wallet/fund/records</td>
    <td>1 / request</td>
  </tr>
<tr><td>v2/private/wallet/withdraw/list</td><td>1 / request</td></tr>
<tr>
    <td rowspan="2">600/min</td>
    <tr><td>v2/private/account/api-key</td>
    <td>1 / request</td>
  </tr>
</table>
<h3 id='t-orderlimits'>下单限制</h3>
<p><p>每种合约可以持有的订单数量上限：</p>
<ul>
<li>活动单: 500</li>
<li>条件单: 10</li>
</ul>
</p>
<h3 id='t-raisemylimit'>如何提高频率限制</h3>
<p><ul>
<li>请先阅读<a href="#t-raisemylimit">如何满足提高频率限制条件</a></li>
<li>请发送邮件到 <a href="mailto:api@bybit.com">api@bybit.com</a>，我们会在 1-4 个工作日内答复。邮件内容必须包含以下内容：</li>
<ol>
  <li>您的姓名和公司名称和简介</li>
  <li>您的bybit 账号uid或注册邮箱手机号,以及您要申请提频的交易对</li>
  <li>您上个月的交易量（吃单/挂单）并提供截图</li>
  <li>简单介绍您的交易策略和为什么需要更高限频</li>
  <li>如果可以，请提供您的成交记录csv文档</li>
</ol>
</ul>
</p>
<h3 id='t-liquidity'>Bybit流动性贡献系统</h3>
<p><p>Bybit 使用<code>报单成交率</code> 和 <code>流动性贡献打分</code>来评价用户对改善bybit可执行流动性作出的贡献。</p>
<p>不同symbol的<code>贡献分</code>和<code>报单成交率</code>是独立计算的。</p>
</p>
<h4 id='t-ofrthreshold'>报单成交率</h4>
<p>平台上每天提交超过<code>2000</code>个报单的账户，需要保持<code>7天</code>的报单成交率高于<code>最小报单成交率门槛值</code>，违反此规则将会被降低频率或禁用 API。
</p>
<h5 id='t-ofrratio'>报单成交率</h5>
<p><ul>
<li><code>报单成交率</code>: 定义为 一段时间段内，用户已成交报单数量占该用户已提交报单数量的比例</li>
<li><code>已提交报单</code>: 是任何已成功发送到平台的委托</li>
<li><code>已成交报单</code>: 是成交了任何数量的委托</li>
<li><code>报单成交率 = ( 一段时间内用户的已成交报单数量 / 一段时间内已提交报单数量)</code></li>
</ul>
</p>
<h5 id='t-ofrratioexample'>报单成交率举例</h5>
<pre class="center-column-nonindent">
A用户：
已成交报单数量 = 2
已提交报单数量 =8
报单成交率 = 2 / 8 = 25％

</pre>

<pre class="center-column-nonindent">
B用户：
已成交报单数量 = 1
已提交报单数量 =1
报单成交率 = 1 / 1 = 100％

</pre>
<h5 id='t-ofrminimum'>API 交易用户最小报单成交率门槛</h5>
<p><code>7</code>日内API 交易用户最小报单成交率门槛 0.1%</p>
<h4 id='t-frequencylimit'>API 交易用户提高频率的条件</h4>
<p>平台会根据API用户近<code>7</code>日挂单对<code>平台流动性贡献分</code>的最低值，对满足条件的用户进行提高频率上限的奖励</p>

<table><thead>
<tr>
<th>流动性贡献分</th>
<th>Order频率限制</th>
</tr>
</thead><tbody>
<tr>
<td>20-100</td>
<td>800次 / 每分钟</td>
</tr>
<tr>
<td>10-20</td>
<td>600次 / 每分钟</td>
</tr>
<tr>
<td>5-10</td>
<td>400次 / 每分钟</td>
</tr>
<tr>
<td>2-5</td>
<td>200次 / 每分钟</td>
</tr>
<tr>
<td>&lt;2</td>
<td>100次 / 每分钟</td>
</tr>
</tbody></table>
<h5 id='t-liquiditypoints'>流动性贡献打分</h5>
<p><ul>
<li><code>流动性贡献打分 = 有效价格挂单自占比 * 有效价格挂单量平台占比 * 100</code></li>
</ul>
</p>
<h5 id='t-ratelimitsexplanation'>名词解释</h5><h6 id='t-pricerange'>有效价格挂单</h6>
<p><ul>
<li><p><code>有效价格挂单</code>: 定义为在距离盘口中间价较近的规定范围内的挂单被定义为有效价格挂单.</p>
</li>
<li><p><code>最佳竞价中间价</code>:  (最佳竞买价 + 最佳竞卖价) 的均值</p>
</li>
<li><p><code>最佳竞价中间价 = 1/2*（最佳竞买价 + 最佳竞卖价）</code></p>
</li>
</ul>
</p>
<h6 id='t-pricerangeexample'>有效价格范围</h6>
<pre class="center-column-nonindent">
[最佳竞价中间价 - 3 * 价格最小变动单位, 最佳竞价中间价 + 3 * 价格最小变动单位]

举例：
 BTC最佳竞买价 = 10000
 BTC最佳竞卖价 = 10001
 “有效价格”范围：
 [(10000 + 10001) / 2 - 3* 0.5, (10000 + 10001) / 2 + 3* 0.5] = [9999,10002]

</pre>
<h6 id='t-pou'>有效价格挂单自占比</h6>
<p><ul>
<li><code>有效价格挂单自占比</code>: 定义为该用户在 <code>有效价格 </code> 范围内的挂单数量占该用户在当前时间提交的挂单总数量的比例。</li>
</ul>
<p>每秒计算 该用户在<code>有效价格</code>范围内的报挂单数量 /该用户提交的挂单总数量，然后每日计算用户当日占比的平均值。</p>
</p>

<pre class="center-column-nonindent">
该用户在<code>有效价格</code>范围内的挂单数量 = 8000
该用户提交的挂单总数量 = 10000
有效价格挂单自占比 = 8000 / 10000 = 0.8

</pre>
<h6 id='t-poa'>有效价格挂单平台占比</h6>
<p><ul>
<li><code>有效价格挂单平台占比</code>: 定义为该用户在有效价格范围内的挂单数量占平台所有用户在<code>有效价格</code>范围内的挂单总数量的比例.</li>
</ul>
<p>每秒计算 该用户在<code>有效价格</code>范围内的挂单数量 / 平台所有用户在<code>有效价格</code>范围内的挂单总数量，然后每日计算用户当日占比的平均值。</p>
</p>
<h6 id='t-poaexample'>有效价格挂单平台占比举例：</h6>
<p>某一秒，用户在“有效价格”范围：[9999, 10002] 内的挂单有8000张，全平台的交易委托账本在 [9999, 10002] 内的挂单总量为200000。</p>

<pre class="center-column-nonindent">
该用户在<code>有效价格</code>范围内的挂单数量 = 8000
平台所有用户在<code>有效价格</code>范围内的挂单总数量 = 200000
有效价格挂单量平台占比 = 8000 / 200000 = 0.04

</pre>

<aside class="notice">
如果机制有更新，我们会提前通过官网提前通知。
</aside>
<h1 id='t-websocket'>WebSocket接口</h1><h2 id='t-websocketauthentication'>鉴权/认证</h2>
<blockquote>
<p>认证方式:
</p>

<p>方法1: 建立连接时附带验证信息.
</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">api_key</span> <span class="o">=</span> <span class="dl">""</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">secret</span> <span class="o">=</span> <span class="dl">""</span><span class="p">;</span>
<span class="c1">// A UNIX timestamp after which the request become invalid. This is to prevent replay attacks.</span>
<span class="c1">// unit:millisecond</span>
<span class="kd">var</span> <span class="nx">expires</span> <span class="o">=</span> <span class="nx">time</span><span class="p">.</span><span class="nx">now</span><span class="p">()</span><span class="o">+</span><span class="mi">1000</span><span class="p">;</span>

<span class="c1">// Signature</span>
<span class="kd">var</span> <span class="nx">signature</span> <span class="o">=</span> <span class="nx">hex</span><span class="p">(</span><span class="nx">HMAC_SHA256</span><span class="p">(</span><span class="nx">secret</span><span class="p">,</span> <span class="dl">'</span><span class="s1">GET/realtime</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">expires</span><span class="p">));</span>

<span class="c1">// Parameters string</span>
<span class="kd">var</span> <span class="nx">param</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">api_key={api_key}&amp;expires={expires}&amp;signature={signature}</span><span class="dl">"</span><span class="p">;</span>

<span class="c1">// Establishing connection</span>
<span class="kd">var</span> <span class="nx">ws</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">WebSocket</span><span class="p">(</span><span class="dl">"</span><span class="s2">wsurl?param</span><span class="dl">"</span><span class="p">);</span>
</code></pre></div>
<blockquote>
<p>方法2: 建立连接后发送auth请求验证.
</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">ws</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">WebSocket</span><span class="p">(</span><span class="dl">"</span><span class="s2">wsurl</span><span class="dl">"</span><span class="p">)</span>
<span class="c1">// Signature is the same for both methods of authentication</span>
<span class="nx">ws</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="dl">'</span><span class="s1">{"op":"auth","args":["{api_key}","{expires}","{signature}"]}</span><span class="dl">'</span><span class="p">);</span>
</code></pre></div>
<p>Websocket服务器地址:
<ul>
<p>
  <li>测试网:
    <span id="testnet_address">wss://stream-testnet.bybit.com/realtime</span>
    <button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#testnet_address"><img src="../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button>
  </li>
</p>
<p>
  <li>主网(请根据您的网络情况选择以下任意一个地址使用):<br/>
    <span id="mainnet_address">wss://stream.bybit.com/realtime</span>
    <button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#mainnet_address"><img src="../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button>
    <br/>
    <span id="mainnet_address_2">wss://stream.bytick.com/realtime</span>
    <button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#mainnet_address_2"><img src="../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button>
  </li>
</p>
</ul>
</p>

<aside class="notice">
<b>公共类</b>topics不需要进行验证. 以下部分只适用于 <b>私有</b> 类接口.
</aside>

<p>如右侧代码区所示，一共有两种验证方法.</p>

<aside class="notice">
点击查看 <a href="https://github.com/bybit-exchange/api-connectors/tree/master/encryption_example">示例加密算法</a>.
</aside>

<aside class="warning">
由于网络的复杂性，您和Bybit的websocket链接随时可能会断开，为了保证您能及时收到websocket推送消息，强烈建议您按照以下建议处理网络异常： <p>1. 通过<a href="#t-heartbeat">发送心跳包</a>保持连接</p> <p>2. 一旦发现连接断开，应该立刻重新建立连接。</p>
</aside>
<h2 id='t-heartbeat'>心跳包/Ping</h2>
<blockquote>
<p>如何发送心跳包</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="nx">ws</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="dl">'</span><span class="s1">{"op":"ping"}</span><span class="dl">'</span><span class="p">);</span>
</code></pre></div>
<blockquote>
<p>响应示例</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">success</span><span class="dl">"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span> <span class="c1">// Whether ping is successful</span>
    <span class="dl">"</span><span class="s2">ret_msg</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">pong</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">conn_id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">036e5d21-804c-4447-a92d-b65a44d00700</span><span class="dl">"</span><span class="p">,</span><span class="c1">// current connection id</span>
    <span class="dl">"</span><span class="s2">request</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
        <span class="dl">"</span><span class="s2">op</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">ping</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">args</span><span class="dl">"</span><span class="p">:</span> <span class="kc">null</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<aside class="warning">
由于网络或者程序不稳定,我们强烈建议您使用 <code>ping</code> 心跳包来维持连接. 心跳包建议每30秒发送一次.
</aside>

<!-- 连接数限制
## 频率限制
注意，每个api_key最多可以保持20个Websocket连接.超过20个连接后的新连接会被服务器拒绝.
-->
<h2 id='t-subscribe'>订阅方式</h2><h3 id='t-websocketfilters'>Websocket订阅方式</h3>
<blockquote>
<p>直接订阅</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="c1">// Subscribing to the trade data for BTCUSD</span>
<span class="nx">ws</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="dl">'</span><span class="s1">{"op":"subscribe","args":["trade.BTCUSD"]}</span><span class="dl">'</span><span class="p">)</span>
</code></pre></div>
<blockquote>
<p>通过分隔符来订阅多个topic</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="c1">// Example: Subscribing to the trade data for BTCUSD and XRPUSD</span>
<span class="nx">ws</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="dl">'</span><span class="s1">{"op":"subscribe","args":["trade.BTCUSD|XRPUSD"]}</span><span class="dl">'</span><span class="p">)</span>
</code></pre></div>
<blockquote>
<p>通过匹配符来订阅多个topic</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="c1">// Example: Subscribing to the trade data for all symbols</span>
<span class="nx">ws</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="dl">'</span><span class="s1">{"op": "subscribe", "args": ["trade.*"]}</span><span class="dl">'</span><span class="p">)</span>
</code></pre></div>
<p>建立连接后, 可以通过发送JSON请求来订阅topic. 请求格式如下:
</p>

<p><code>ws.send(&#39;{&quot;op&quot;: &quot;subscribe&quot;, &quot;args&quot;: [&quot;topic.filter&quot;]}&#39;);</code></p>

<p><p>您也可以同时订阅多个感兴趣的topic，订阅方式如下</p>
</p>

<p><code>ws.send(&#39;{&quot;op&quot;: &quot;subscribe&quot;, &quot;args&quot;: [&quot;topic.filter&quot;, &quot;topic.filter&quot;]}&#39;);</code></p>

<p><p>您可以使用管道符号(<code>|</code>)来分割多个参数，前提是这些参数都是合法的.</p>
<p>您还可以使用匹配符号(<code>*</code>)来匹配多个topic，具体用法见右侧代码栏</p>
</p>
<h3 id='t-intervals'>推送周期</h3>
<p>如果topic名中包含一个<code>推送周期</code>，如<code>100ms</code>, 那么表明这个topic是每隔<code>100ms</code>推送一次.否则, 这个topic<code>只要有消息就会推送</code>.</p>
<h2 id='t-websocketresponse'>订阅结果</h2>
<blockquote>
<p>订阅推送</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
   <span class="dl">"</span><span class="s2">success</span><span class="dl">"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span> <span class="c1">// Whether subscription is successful</span>
   <span class="dl">"</span><span class="s2">ret_msg</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>   <span class="c1">// Successful subscription: "", otherwise it shows error message</span>
   <span class="dl">"</span><span class="s2">conn_id</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">e0e10eee-4eff-4d21-881e-a0c55c25e2da</span><span class="dl">"</span><span class="p">,</span><span class="c1">// current connection id</span>
   <span class="dl">"</span><span class="s2">request</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>     <span class="c1">// Request to your subscription</span>
       <span class="dl">"</span><span class="s2">op</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">subscribe</span><span class="dl">"</span><span class="p">,</span>
       <span class="dl">"</span><span class="s2">args</span><span class="dl">"</span><span class="p">:</span> <span class="p">[</span>
           <span class="dl">"</span><span class="s2">kline.BTCUSD.1m</span><span class="dl">"</span>
       <span class="p">]</span>
   <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>每个topic订阅请求都会有对应的响应，您可以根据返回结果判断是否订阅成功。</p>
<h2 id='t-publictopics'>公共 Topics</h2><h3 id='t-websocketorderbook25'>orderBook25档</h3>
<blockquote>
<p>请求订阅</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="nx">ws</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="dl">'</span><span class="s1">{"op": "subscribe", "args": ["orderBookL2_25.BTCUSD"]}</span><span class="dl">'</span><span class="p">);</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">BybitWebsocket</span> <span class="kn">import</span> <span class="n">BybitWebsocket</span>
<span class="n">ws</span> <span class="o">=</span> <span class="n">BybitWebsocket</span><span class="p">(</span><span class="n">wsURL</span><span class="o">=</span><span class="s">"wss://stream-testnet.bybit.com/realtime"</span><span class="p">,</span>
                    <span class="n">api_key</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">api_secret</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span>
<span class="n">ws</span><span class="p">.</span><span class="n">subscribe_orderBookL2</span><span class="p">(</span><span class="n">symbol</span><span class="o">=</span><span class="s">"BTCUSD"</span><span class="p">)</span>
<span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">ws</span><span class="p">.</span><span class="n">get_data</span><span class="p">(</span><span class="s">"orderBookL2_25.BTCUSD"</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">data</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</code></pre></div>
<blockquote>
<p>快照推送示例 - 连接建立成功后首次推送</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
     <span class="dl">"</span><span class="s2">topic</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">orderBookL2_25.BTCUSD</span><span class="dl">"</span><span class="p">,</span>
     <span class="dl">"</span><span class="s2">type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">snapshot</span><span class="dl">"</span><span class="p">,</span>
     <span class="dl">"</span><span class="s2">data</span><span class="dl">"</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="dl">"</span><span class="s2">price</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2999.00</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">symbol</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">BTCUSD</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">29990000</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">side</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Buy</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">size</span><span class="dl">"</span><span class="p">:</span> <span class="mi">9</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="dl">"</span><span class="s2">price</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">3001.00</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">symbol</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">BTCUSD</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">30010000</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">side</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Sell</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">size</span><span class="dl">"</span><span class="p">:</span> <span class="mi">10</span>
        <span class="p">}</span>
     <span class="p">],</span>
     <span class="dl">"</span><span class="s2">cross_seq</span><span class="dl">"</span><span class="p">:</span> <span class="mi">11518</span><span class="p">,</span>
     <span class="dl">"</span><span class="s2">timestamp_e6</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1555647164875373</span>
<span class="p">}</span>
</code></pre></div>
<blockquote>
<p>增量推送示例 - 快照数据推送后，推送的增量数据</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
     <span class="dl">"</span><span class="s2">topic</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">orderBookL2_25.BTCUSD</span><span class="dl">"</span><span class="p">,</span>
     <span class="dl">"</span><span class="s2">type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">delta</span><span class="dl">"</span><span class="p">,</span>
     <span class="dl">"</span><span class="s2">data</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
          <span class="dl">"</span><span class="s2">delete</span><span class="dl">"</span><span class="p">:</span> <span class="p">[</span>
             <span class="p">{</span>
                   <span class="dl">"</span><span class="s2">price</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">3001.00</span><span class="dl">"</span><span class="p">,</span>
                   <span class="dl">"</span><span class="s2">symbol</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">BTCUSD</span><span class="dl">"</span><span class="p">,</span>
                   <span class="dl">"</span><span class="s2">id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">30010000</span><span class="p">,</span>
                   <span class="dl">"</span><span class="s2">side</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Sell</span><span class="dl">"</span>
             <span class="p">}</span>
          <span class="p">],</span>
          <span class="dl">"</span><span class="s2">update</span><span class="dl">"</span><span class="p">:</span> <span class="p">[</span>
             <span class="p">{</span>
                   <span class="dl">"</span><span class="s2">price</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2999.00</span><span class="dl">"</span><span class="p">,</span>
                   <span class="dl">"</span><span class="s2">symbol</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">BTCUSD</span><span class="dl">"</span><span class="p">,</span>
                   <span class="dl">"</span><span class="s2">id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">29990000</span><span class="p">,</span>
                   <span class="dl">"</span><span class="s2">side</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Buy</span><span class="dl">"</span><span class="p">,</span>
                   <span class="dl">"</span><span class="s2">size</span><span class="dl">"</span><span class="p">:</span> <span class="mi">8</span>
             <span class="p">}</span>
          <span class="p">],</span>
          <span class="dl">"</span><span class="s2">insert</span><span class="dl">"</span><span class="p">:</span> <span class="p">[</span>
             <span class="p">{</span>
                   <span class="dl">"</span><span class="s2">price</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2998.00</span><span class="dl">"</span><span class="p">,</span>
                   <span class="dl">"</span><span class="s2">symbol</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">BTCUSD</span><span class="dl">"</span><span class="p">,</span>
                   <span class="dl">"</span><span class="s2">id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">29980000</span><span class="p">,</span>
                   <span class="dl">"</span><span class="s2">side</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Buy</span><span class="dl">"</span><span class="p">,</span>
                   <span class="dl">"</span><span class="s2">size</span><span class="dl">"</span><span class="p">:</span> <span class="mi">8</span>
             <span class="p">}</span>
          <span class="p">],</span>
          <span class="dl">"</span><span class="s2">transactTimeE6</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span>
     <span class="p">},</span>
     <span class="dl">"</span><span class="s2">cross_seq</span><span class="dl">"</span><span class="p">:</span> <span class="mi">11519</span><span class="p">,</span>
     <span class="dl">"</span><span class="s2">timestamp_e6</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1555647221331673</span>
<span class="p">}</span>
</code></pre></div>
<p>获取25档orderbook数据.</p>

<aside class="notice">
想要更多深度？请使用<a href="#t-websocketorderbook200">orderBookL2_200</a> topic
</aside>

<p><p>订阅成功后, 会立即得到一个当前快照包的推送信息. orderbook数据按订单价格升序排列, 从最低价格的买单到最高价格的卖单.</p>
<p>快照包之后，每当orderbook发生变化，websocket都会推送这些变化的增量数据.</p>
</p>

<p class="fake_header">返回参数</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">price</td>
<td style="text-align: left">string</td>
<td>委托价格</td>
</tr>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left">string</td>
<td>合约类型</td>
</tr>
<tr>
<td style="text-align: left"><a href="#side-side">side</a></td>
<td style="text-align: left">string</td>
<td>方向</td>
</tr>
<tr>
<td style="text-align: left">size</td>
<td style="text-align: left">number</td>
<td>仓位数量</td>
</tr>
</tbody></table>
<h3 id='t-websocketorderbook200'>orderBook200档</h3>
<blockquote>
<p>请求订阅</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="nx">ws</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="dl">'</span><span class="s1">{"op": "subscribe", "args": ["orderBook_200.100ms.BTCUSD"]}</span><span class="dl">'</span><span class="p">);</span>
</code></pre></div>
<blockquote>
<p>快照推送示例 - 连接建立成功后首次推送</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
     <span class="dl">"</span><span class="s2">topic</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">orderBook_200.100ms.BTCUSD</span><span class="dl">"</span><span class="p">,</span>
     <span class="dl">"</span><span class="s2">type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">snapshot</span><span class="dl">"</span><span class="p">,</span>
     <span class="dl">"</span><span class="s2">data</span><span class="dl">"</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="dl">"</span><span class="s2">price</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2999.00</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">symbol</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">BTCUSD</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">29990000</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">side</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Buy</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">size</span><span class="dl">"</span><span class="p">:</span> <span class="mi">9</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="dl">"</span><span class="s2">price</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">3001.00</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">symbol</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">BTCUSD</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">30010000</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">side</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Sell</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">size</span><span class="dl">"</span><span class="p">:</span> <span class="mi">10</span>
        <span class="p">}</span>
     <span class="p">],</span>
     <span class="dl">"</span><span class="s2">cross_seq</span><span class="dl">"</span><span class="p">:</span> <span class="mi">11518</span><span class="p">,</span>
     <span class="dl">"</span><span class="s2">timestamp_e6</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1555647164875373</span>
<span class="p">}</span>
</code></pre></div>
<blockquote>
<p>增量推送示例 - 快照数据推送后，推送的增量数据</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
     <span class="dl">"</span><span class="s2">topic</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">orderBook_200.100ms.BTCUSD</span><span class="dl">"</span><span class="p">,</span>
     <span class="dl">"</span><span class="s2">type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">delta</span><span class="dl">"</span><span class="p">,</span>
     <span class="dl">"</span><span class="s2">data</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
          <span class="dl">"</span><span class="s2">delete</span><span class="dl">"</span><span class="p">:</span> <span class="p">[</span>
             <span class="p">{</span>
                   <span class="dl">"</span><span class="s2">price</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">3001.00</span><span class="dl">"</span><span class="p">,</span>
                   <span class="dl">"</span><span class="s2">symbol</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">BTCUSD</span><span class="dl">"</span><span class="p">,</span>
                   <span class="dl">"</span><span class="s2">id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">30010000</span><span class="p">,</span>
                   <span class="dl">"</span><span class="s2">side</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Sell</span><span class="dl">"</span>
             <span class="p">}</span>
          <span class="p">],</span>
          <span class="dl">"</span><span class="s2">update</span><span class="dl">"</span><span class="p">:</span> <span class="p">[</span>
             <span class="p">{</span>
                   <span class="dl">"</span><span class="s2">price</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2999.00</span><span class="dl">"</span><span class="p">,</span>
                   <span class="dl">"</span><span class="s2">symbol</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">BTCUSD</span><span class="dl">"</span><span class="p">,</span>
                   <span class="dl">"</span><span class="s2">id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">29990000</span><span class="p">,</span>
                   <span class="dl">"</span><span class="s2">side</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Buy</span><span class="dl">"</span><span class="p">,</span>
                   <span class="dl">"</span><span class="s2">size</span><span class="dl">"</span><span class="p">:</span> <span class="mi">8</span>
             <span class="p">}</span>
          <span class="p">],</span>
          <span class="dl">"</span><span class="s2">insert</span><span class="dl">"</span><span class="p">:</span> <span class="p">[</span>
             <span class="p">{</span>
                   <span class="dl">"</span><span class="s2">price</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2998.00</span><span class="dl">"</span><span class="p">,</span>
                   <span class="dl">"</span><span class="s2">symbol</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">BTCUSD</span><span class="dl">"</span><span class="p">,</span>
                   <span class="dl">"</span><span class="s2">id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">29980000</span><span class="p">,</span>
                   <span class="dl">"</span><span class="s2">side</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Buy</span><span class="dl">"</span><span class="p">,</span>
                   <span class="dl">"</span><span class="s2">size</span><span class="dl">"</span><span class="p">:</span> <span class="mi">8</span>
             <span class="p">}</span>
          <span class="p">],</span>
          <span class="dl">"</span><span class="s2">transactTimeE6</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span>
     <span class="p">},</span>
     <span class="dl">"</span><span class="s2">cross_seq</span><span class="dl">"</span><span class="p">:</span> <span class="mi">11519</span><span class="p">,</span>
     <span class="dl">"</span><span class="s2">timestamp_e6</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1555647221331673</span>
<span class="p">}</span>
</code></pre></div>
<p><p>获取200档orderbook数据.</p>
<p>订阅成功后, 会立即得到一个当前快照包的推送信息. orderbook数据按订单价格升序排序, 从最低价格的买单到最高价格的卖单.</p>
<p>快照包之后，每当orderbook发生变化，websocket将会继续推送这些增量数据.</p>
</p>

<p class="fake_header">返回参数</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">price</td>
<td style="text-align: left">string</td>
<td>委托价格</td>
</tr>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left">string</td>
<td>合约类型</td>
</tr>
<tr>
<td style="text-align: left"><a href="#side-side">side</a></td>
<td style="text-align: left">string</td>
<td>方向</td>
</tr>
<tr>
<td style="text-align: left">size</td>
<td style="text-align: left">number</td>
<td>仓位数量</td>
</tr>
</tbody></table>
<h3 id='t-websockettrade'>平台成交</h3>
<blockquote>
<p>请求订阅</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="nx">ws</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="dl">'</span><span class="s1">{"op": "subscribe", "args": ["trade"]}</span><span class="dl">'</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">BybitWebsocket</span> <span class="kn">import</span> <span class="n">BybitWebsocket</span>
<span class="n">ws</span> <span class="o">=</span> <span class="n">BybitWebsocket</span><span class="p">(</span><span class="n">wsURL</span><span class="o">=</span><span class="s">"wss://stream-testnet.bybit.com/realtime"</span><span class="p">,</span>
                    <span class="n">api_key</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">api_secret</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span>
<span class="n">ws</span><span class="p">.</span><span class="n">subscribe_trade</span><span class="p">()</span>
<span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">ws</span><span class="p">.</span><span class="n">get_data</span><span class="p">(</span><span class="s">"trade.BTCUSD"</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">data</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</code></pre></div>
<blockquote>
<p>响应示例</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">topic</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">trade.BTCUSD</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">data</span><span class="dl">"</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="dl">"</span><span class="s2">timestamp</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2020-01-12T16:59:59.000Z</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">trade_time_ms</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1582793344685</span><span class="p">,</span> <span class="c1">// trade time in millisecond</span>
            <span class="dl">"</span><span class="s2">symbol</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">BTCUSD</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">side</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Sell</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">size</span><span class="dl">"</span><span class="p">:</span> <span class="mi">328</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">price</span><span class="dl">"</span><span class="p">:</span> <span class="mi">8098</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">tick_direction</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">MinusTick</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">trade_id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">00c706e1-ba52-5bb0-98d0-bf694bdc69f7</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">cross_seq</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1052816407</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>
</code></pre></div>
<p>获取Bybit平台最近成交数据.</p>

<p class="fake_header">返回参数</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">time</td>
<td style="text-align: left">string</td>
<td>UTC 时间</td>
</tr>
<tr>
<td style="text-align: left">trade_time_ms</td>
<td style="text-align: left">number</td>
<td>毫秒时间戳</td>
</tr>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left">string</td>
<td>合约类型</td>
</tr>
<tr>
<td style="text-align: left"><a href="#side-side">side</a></td>
<td style="text-align: left">string</td>
<td>方向</td>
</tr>
<tr>
<td style="text-align: left">size</td>
<td style="text-align: left">number</td>
<td>仓位数量</td>
</tr>
<tr>
<td style="text-align: left"><a href="#price-price">price</a></td>
<td style="text-align: left">number</td>
<td>委托价格</td>
</tr>
<tr>
<td style="text-align: left"><a href="#tick-direction-type-tick_direction">tick_direction</a></td>
<td style="text-align: left">string</td>
<td>价格变化方向</td>
</tr>
<tr>
<td style="text-align: left">trade_id</td>
<td style="text-align: left">string</td>
<td>交易ID</td>
</tr>
<tr>
<td style="text-align: left">cross_seq</td>
<td style="text-align: left">number</td>
<td>撮合版本号</td>
</tr>
</tbody></table>
<h3 id='t-websocketinsurance'>保险基金</h3>
<blockquote>
<p>请求订阅</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="nx">ws</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="dl">'</span><span class="s1">{"op": "subscribe", "args": ["insurance"]}</span><span class="dl">'</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">BybitWebsocket</span> <span class="kn">import</span> <span class="n">BybitWebsocket</span>
<span class="n">ws</span> <span class="o">=</span> <span class="n">BybitWebsocket</span><span class="p">(</span><span class="n">wsURL</span><span class="o">=</span><span class="s">"wss://stream-testnet.bybit.com/realtime"</span><span class="p">,</span>
                    <span class="n">api_key</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">api_secret</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span>
<span class="n">ws</span><span class="p">.</span><span class="n">subscribe_insurance</span><span class="p">()</span>
<span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">ws</span><span class="p">.</span><span class="n">get_data</span><span class="p">(</span><span class="s">"insurance.BTC"</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">data</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</code></pre></div>
<blockquote>
<p>响应示例</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">topic</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">insurance.BTC</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">data</span><span class="dl">"</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="dl">"</span><span class="s2">currency</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">BTC</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">timestamp</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2020-01-11T20:00:00Z</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">wallet_balance</span><span class="dl">"</span><span class="p">:</span> <span class="mi">98786916569</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>
</code></pre></div>
<p>获取保险基金数据.</p>

<aside class="notice">
注意<code>wallet_balance</code>的单位为<code>聪</code>, 1聪等于一百万分之一个比特币.
</aside>

<p class="fake_header">返回参数</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">currency</td>
<td style="text-align: left">string</td>
<td>币种类型</td>
</tr>
<tr>
<td style="text-align: left">timestamp</td>
<td style="text-align: left">string</td>
<td>UTC 时间</td>
</tr>
<tr>
<td style="text-align: left">wallet_balance</td>
<td style="text-align: left">number</td>
<td>钱包余额</td>
</tr>
</tbody></table>
<h3 id='t-websocketinstrumentinfo'>行情</h3>
<blockquote>
<p>请求订阅</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="nx">ws</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="dl">'</span><span class="s1">{"op": "subscribe", "args": ["instrument_info.100ms.BTCUSD"]}</span><span class="dl">'</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">BybitWebsocket</span> <span class="kn">import</span> <span class="n">BybitWebsocket</span>
<span class="n">ws</span> <span class="o">=</span> <span class="n">BybitWebsocket</span><span class="p">(</span><span class="n">wsURL</span><span class="o">=</span><span class="s">"wss://stream-testnet.bybit.com/realtime"</span><span class="p">,</span>
                    <span class="n">api_key</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="n">api_secret</span><span class="o">=</span><span class="bp">None</span><span class="p">)</span>
<span class="n">ws</span><span class="p">.</span><span class="n">subscribe_instrument_info</span><span class="p">(</span><span class="n">symbol</span><span class="o">=</span><span class="s">"BTCUSD"</span><span class="p">)</span>
<span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">ws</span><span class="p">.</span><span class="n">get_data</span><span class="p">(</span><span class="s">"instrument_info.100ms.BTCUSD"</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">data</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</code></pre></div>
<blockquote>
<p>快照推送示例 - 连接建立成功后首次推送</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">topic</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">instrument_info.100ms.BTCUSDH21</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">type</span><span class="dl">"</span><span class="p">:</span><span class="dl">"</span><span class="s2">snapshot</span><span class="dl">"</span><span class="p">,</span>
     <span class="dl">"</span><span class="s2">data</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
         <span class="dl">"</span><span class="s2">id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
         <span class="dl">"</span><span class="s2">symbol</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">BTCUSD</span><span class="dl">"</span><span class="p">,</span>                           <span class="c1">//instrument name</span>
         <span class="dl">"</span><span class="s2">last_price_e4</span><span class="dl">"</span><span class="p">:</span> <span class="mi">81165000</span><span class="p">,</span>                    <span class="c1">//the latest price</span>
         <span class="dl">"</span><span class="s2">bid1_price_e4</span><span class="dl">"</span><span class="p">:</span><span class="mi">400025000</span><span class="p">,</span>                    <span class="c1">// best bid price</span>
         <span class="dl">"</span><span class="s2">ask1_price_e4</span><span class="dl">"</span><span class="p">:</span><span class="mi">475450000</span><span class="p">,</span>                    <span class="c1">// best ask price</span>
         <span class="dl">"</span><span class="s2">last_tick_direction</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">ZeroPlusTick</span><span class="dl">"</span><span class="p">,</span>        <span class="c1">//the direction of last tick:PlusTick,ZeroPlusTick,MinusTick,ZeroMinusTick</span>
         <span class="dl">"</span><span class="s2">prev_price_24h_e4</span><span class="dl">"</span><span class="p">:</span> <span class="mi">81585000</span><span class="p">,</span>                <span class="c1">//the price of prev 24h</span>
         <span class="dl">"</span><span class="s2">price_24h_pcnt_e6</span><span class="dl">"</span><span class="p">:</span> <span class="o">-</span><span class="mi">5148</span><span class="p">,</span>                   <span class="c1">//the current last price percentage change from prev 24h price</span>
         <span class="dl">"</span><span class="s2">high_price_24h_e4</span><span class="dl">"</span><span class="p">:</span> <span class="mi">82900000</span><span class="p">,</span>                <span class="c1">//the highest price of prev 24h</span>
         <span class="dl">"</span><span class="s2">low_price_24h_e4</span><span class="dl">"</span><span class="p">:</span> <span class="mi">79655000</span><span class="p">,</span>                 <span class="c1">//the lowest price of prev 24h</span>
         <span class="dl">"</span><span class="s2">prev_price_1h_e4</span><span class="dl">"</span><span class="p">:</span> <span class="mi">81395000</span><span class="p">,</span>                 <span class="c1">//the price of prev 1h</span>
         <span class="dl">"</span><span class="s2">price_1h_pcnt_e6</span><span class="dl">"</span><span class="p">:</span> <span class="o">-</span><span class="mi">2825</span><span class="p">,</span>                    <span class="c1">//the current last price percentage change from prev 1h price</span>
         <span class="dl">"</span><span class="s2">mark_price_e4</span><span class="dl">"</span><span class="p">:</span> <span class="mi">81178500</span><span class="p">,</span>                    <span class="c1">//mark price</span>
         <span class="dl">"</span><span class="s2">index_price_e4</span><span class="dl">"</span><span class="p">:</span> <span class="mi">81172800</span><span class="p">,</span>                   <span class="c1">//index price</span>
         <span class="dl">"</span><span class="s2">open_interest</span><span class="dl">"</span><span class="p">:</span> <span class="mi">154418471</span><span class="p">,</span>                   <span class="c1">//open interest quantity - Attention, the update is not immediate - slowest update is 1 minute</span>
         <span class="dl">"</span><span class="s2">open_value_e8</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1997561103030</span><span class="p">,</span>               <span class="c1">//open value quantity - Attention, the update is not immediate - the slowest update is 1 minute</span>
         <span class="dl">"</span><span class="s2">total_turnover_e8</span><span class="dl">"</span><span class="p">:</span> <span class="mi">2029370141961401</span><span class="p">,</span>        <span class="c1">//total turnover</span>
         <span class="dl">"</span><span class="s2">turnover_24h_e8</span><span class="dl">"</span><span class="p">:</span> <span class="mi">9072939873591</span><span class="p">,</span>             <span class="c1">//24h turnover</span>
         <span class="dl">"</span><span class="s2">total_volume</span><span class="dl">"</span><span class="p">:</span> <span class="mi">175654418740</span><span class="p">,</span>                 <span class="c1">//total volume</span>
         <span class="dl">"</span><span class="s2">volume_24h</span><span class="dl">"</span><span class="p">:</span> <span class="mi">735865248</span><span class="p">,</span>                      <span class="c1">//24h volume</span>
         <span class="dl">"</span><span class="s2">funding_rate_e6</span><span class="dl">"</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span>                       <span class="c1">//funding rate</span>
         <span class="dl">"</span><span class="s2">predicted_funding_rate_e6</span><span class="dl">"</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span>             <span class="c1">//predicted funding rate</span>
         <span class="dl">"</span><span class="s2">cross_seq</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1053192577</span><span class="p">,</span>                      <span class="c1">//sequence</span>
         <span class="dl">"</span><span class="s2">created_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2018-11-14T16:33:26Z</span><span class="dl">"</span><span class="p">,</span>         
         <span class="dl">"</span><span class="s2">updated_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2020-01-12T18:25:16Z</span><span class="dl">"</span><span class="p">,</span>         
         <span class="dl">"</span><span class="s2">next_funding_time</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2020-01-13T00:00:00Z</span><span class="dl">"</span><span class="p">,</span>  <span class="c1">//next funding time</span>
                                                       <span class="c1">//the rest time to settle funding fee</span>
         <span class="dl">"</span><span class="s2">countdown_hour</span><span class="dl">"</span><span class="p">:</span> <span class="mi">6</span>                           <span class="c1">//the remaining time to settle the funding fee</span>
     <span class="p">},</span>
    <span class="dl">"</span><span class="s2">cross_seq</span><span class="dl">"</span><span class="p">:</span><span class="mi">9267002</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">timestamp_e6</span><span class="dl">"</span><span class="p">:</span><span class="mi">1615794861826248</span>
<span class="p">}</span>
</code></pre></div>
<blockquote>
<p>增量推送示例 - 快照数据推送后，推送的增量数据</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">topic</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">instrument_info.100ms.BTCUSD</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">delta</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">data</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
        <span class="dl">"</span><span class="s2">delete</span><span class="dl">"</span><span class="p">:</span> <span class="p">[],</span>
        <span class="dl">"</span><span class="s2">update</span><span class="dl">"</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span>
                <span class="dl">"</span><span class="s2">id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">symbol</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">BTCUSD</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">prev_price_24h_e4</span><span class="dl">"</span><span class="p">:</span> <span class="mi">81565000</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">price_24h_pcnt_e6</span><span class="dl">"</span><span class="p">:</span> <span class="o">-</span><span class="mi">4904</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">open_value_e8</span><span class="dl">"</span><span class="p">:</span> <span class="mi">2000479681106</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">total_turnover_e8</span><span class="dl">"</span><span class="p">:</span> <span class="mi">2029370495672976</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">turnover_24h_e8</span><span class="dl">"</span><span class="p">:</span> <span class="mi">9066215468687</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">volume_24h</span><span class="dl">"</span><span class="p">:</span> <span class="mi">735316391</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">cross_seq</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1053192657</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">created_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2018-11-14T16:33:26Z</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">updated_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2020-01-12T18:25:25Z</span><span class="dl">"</span>
            <span class="p">}</span>
        <span class="p">],</span>
        <span class="dl">"</span><span class="s2">insert</span><span class="dl">"</span><span class="p">:</span> <span class="p">[]</span>
    <span class="p">},</span>
    <span class="dl">"</span><span class="s2">cross_seq</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1053192657</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">timestamp_e6</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1578853525691123</span>
<span class="p">}</span>
</code></pre></div>
<p>获取合约的最新数据.</p>

<aside class="warning">
注意，该topic只会推送<code>update</code>数据. <code>delete</code>和<code>insert</code>数据都为空. 如果<code>update</code>数据也为空,则表明信息没有发生变化.

</aside>

<aside class="notice">
一些值以以科学计数法的形式被返回. 根据这个值的key的后缀, 如<code>total_turnover_e8</code>,则表明这个数字需要除以10^8. <br/>
例如<code>last_price_e4</code>的值为<code>81585000</code>, 那么<code>81585000 / 10^4</code>,等于<code>8158.5</code>才是这个字段的真实值.

</aside>

<p class="fake_header">返回参数</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">symbol</td>
<td style="text-align: left">string</td>
<td>合约类型</td>
</tr>
<tr>
<td style="text-align: left">last_price_e4</td>
<td style="text-align: left">integer</td>
<td>最新成交价 * 10^4</td>
</tr>
<tr>
<td style="text-align: left">last_tick_direction</td>
<td style="text-align: left">string</td>
<td><a href="#tick-direction-type-tick_direction">价格波动方向枚举</a></td>
</tr>
<tr>
<td style="text-align: left">prev_price_24h_e4</td>
<td style="text-align: left">integer</td>
<td>24小时前的整点市价 * 10^4</td>
</tr>
<tr>
<td style="text-align: left">price_24h_pcnt_e6</td>
<td style="text-align: left">integer</td>
<td>市价相对24h变化百分比 * 10^4</td>
</tr>
<tr>
<td style="text-align: left">high_price_24h_e4</td>
<td style="text-align: left">integer</td>
<td>最近 24 小时最高价 * 10^4</td>
</tr>
<tr>
<td style="text-align: left">low_price_24h_e4</td>
<td style="text-align: left">integer</td>
<td>最近 24 小时最低价 * 10^4</td>
</tr>
<tr>
<td style="text-align: left">prev_price_1h_e4</td>
<td style="text-align: left">integer</td>
<td>1小时前的整点市价 * 10^4</td>
</tr>
<tr>
<td style="text-align: left">price_1h_pcnt_e6</td>
<td style="text-align: left">integer</td>
<td>市价相对1小时前变化百分比 * 10^6</td>
</tr>
<tr>
<td style="text-align: left">mark_price_e4</td>
<td style="text-align: left">integer</td>
<td>标记价格 * 10^4</td>
</tr>
<tr>
<td style="text-align: left">index_price_e4</td>
<td style="text-align: left">integer</td>
<td>指数价格 * 10^4</td>
</tr>
<tr>
<td style="text-align: left">open_interest</td>
<td style="text-align: left">integer</td>
<td>未平仓合约数量. The update is not immediate - slowest update is 1 minute</td>
</tr>
<tr>
<td style="text-align: left">open_value_e8</td>
<td style="text-align: left">integer</td>
<td>未平仓价值 * 10^8. The update is not immediate - slowest update is 1 minute</td>
</tr>
<tr>
<td style="text-align: left">total_turnover_e8</td>
<td style="text-align: left">integer</td>
<td>总营业额  * 10^8</td>
</tr>
<tr>
<td style="text-align: left">turnover_24h_e8</td>
<td style="text-align: left">integer</td>
<td>24小时营业额 * 10^8</td>
</tr>
<tr>
<td style="text-align: left">total_volume</td>
<td style="text-align: left">integer</td>
<td>总交易量</td>
</tr>
<tr>
<td style="text-align: left">volume_24h</td>
<td style="text-align: left">integer</td>
<td>最近 24 小时成交量</td>
</tr>
<tr>
<td style="text-align: left">predicted_funding_rate_e6</td>
<td style="text-align: left">integer</td>
<td>预测资金费率 * 10^6</td>
</tr>
<tr>
<td style="text-align: left">cross_seq</td>
<td style="text-align: left">integer</td>
<td>撮合版本号</td>
</tr>
<tr>
<td style="text-align: left">created_at</td>
<td style="text-align: left">string</td>
<td>创建时间</td>
</tr>
<tr>
<td style="text-align: left">updated_at</td>
<td style="text-align: left">string</td>
<td>更新时间</td>
</tr>
<tr>
<td style="text-align: left">next_funding_time</td>
<td style="text-align: left">string</td>
<td>下次结算资金费用时间</td>
</tr>
<tr>
<td style="text-align: left">countdown_hour</td>
<td style="text-align: left">integer</td>
<td>结算资金费用剩余时间</td>
</tr>
</tbody></table>
<h3 id='t-websocketklinev2'>K线</h3>
<blockquote>
<p>请求订阅</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="nx">ws</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="dl">'</span><span class="s1">{"op":"subscribe","args":["klineV2.1.BTCUSD"]}</span><span class="dl">'</span><span class="p">)</span>
</code></pre></div>
<blockquote>
<p>响应示例</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">topic</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">klineV2.1.BTCUSD</span><span class="dl">"</span><span class="p">,</span>                <span class="c1">//topic name</span>
    <span class="dl">"</span><span class="s2">data</span><span class="dl">"</span><span class="p">:</span> <span class="p">[{</span>
        <span class="dl">"</span><span class="s2">start</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1572425640</span><span class="p">,</span>                    <span class="c1">//start time of the candle</span>
        <span class="dl">"</span><span class="s2">end</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1572425700</span><span class="p">,</span>                      <span class="c1">//end time of the candle</span>
        <span class="dl">"</span><span class="s2">open</span><span class="dl">"</span><span class="p">:</span> <span class="mi">9200</span><span class="p">,</span>                           <span class="c1">//open price</span>
        <span class="dl">"</span><span class="s2">close</span><span class="dl">"</span><span class="p">:</span> <span class="mf">9202.5</span><span class="p">,</span>                        <span class="c1">//close price</span>
        <span class="dl">"</span><span class="s2">high</span><span class="dl">"</span><span class="p">:</span> <span class="mf">9202.5</span><span class="p">,</span>                         <span class="c1">//max price</span>
        <span class="dl">"</span><span class="s2">low</span><span class="dl">"</span><span class="p">:</span> <span class="mi">9196</span><span class="p">,</span>                            <span class="c1">//min price</span>
        <span class="dl">"</span><span class="s2">volume</span><span class="dl">"</span><span class="p">:</span> <span class="mi">81790</span><span class="p">,</span>                        <span class="c1">//volume</span>
        <span class="dl">"</span><span class="s2">turnover</span><span class="dl">"</span><span class="p">:</span> <span class="mf">8.889247899999999</span><span class="p">,</span>          <span class="c1">//turnover</span>
        <span class="dl">"</span><span class="s2">confirm</span><span class="dl">"</span><span class="p">:</span> <span class="nx">False</span><span class="p">,</span>                       <span class="c1">//snapshot flag</span>
        <span class="dl">"</span><span class="s2">cross_seq</span><span class="dl">"</span><span class="p">:</span> <span class="mi">297503466</span><span class="p">,</span>                 
        <span class="dl">"</span><span class="s2">timestamp</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1572425676958323</span>           <span class="c1">//cross time</span>
    <span class="p">}],</span>
    <span class="dl">"</span><span class="s2">timestamp_e6</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1572425677047994</span>            <span class="c1">//server time</span>
<span class="p">}</span>
</code></pre></div>
<p><p>目前所支持的周期:</p>
<ul>
<li>1 3 5 15 30</li>
<li>60 120 240 360</li>
<li>D</li>
<li>W</li>
<li>M</li>
</ul>
</p>

<aside class="notice">
注意如果字段<code>confirm</code>为<code>True</code>, 则表明这是这根K线的最后一个tick；否则，这只是一个快照数据，即中间价格

</aside>

<p class="fake_header">返回参数</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">start</td>
<td style="text-align: left">integer</td>
<td>开始时间戳（秒）</td>
</tr>
<tr>
<td style="text-align: left">end</td>
<td style="text-align: left">integer</td>
<td>结束时间戳（秒）</td>
</tr>
<tr>
<td style="text-align: left">open</td>
<td style="text-align: left">number</td>
<td>开始价格</td>
</tr>
<tr>
<td style="text-align: left">close</td>
<td style="text-align: left">number</td>
<td>结束价格</td>
</tr>
<tr>
<td style="text-align: left">high</td>
<td style="text-align: left">number</td>
<td>最高价格</td>
</tr>
<tr>
<td style="text-align: left">low</td>
<td style="text-align: left">number</td>
<td>最低价格</td>
</tr>
<tr>
<td style="text-align: left">volume</td>
<td style="text-align: left">number</td>
<td>交易量</td>
</tr>
<tr>
<td style="text-align: left">turnover</td>
<td style="text-align: left">number</td>
<td>成交金额</td>
</tr>
<tr>
<td style="text-align: left">confirm</td>
<td style="text-align: left">bool</td>
<td>是否确认</td>
</tr>
<tr>
<td style="text-align: left">cross_seq</td>
<td style="text-align: left">integer</td>
<td>撮合版本号</td>
</tr>
<tr>
<td style="text-align: left">timestamp</td>
<td style="text-align: left">integer</td>
<td>结束时间戳（秒）</td>
</tr>
</tbody></table>
<h2 id='t-privatetopics'>私有 Topics</h2><h3 id='t-websocketposition'>持仓</h3>
<blockquote>
<p>请求订阅</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="nx">ws</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="dl">'</span><span class="s1">{"op": "subscribe", "args": ["position"]}</span><span class="dl">'</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">BybitWebsocket</span> <span class="kn">import</span> <span class="n">BybitWebsocket</span>
<span class="n">ws</span> <span class="o">=</span> <span class="n">BybitWebsocket</span><span class="p">(</span><span class="n">wsURL</span><span class="o">=</span><span class="s">"wss://stream-testnet.bybit.com/realtime"</span><span class="p">,</span>
                    <span class="n">api_key</span><span class="o">=</span><span class="n">api_key</span><span class="p">,</span> <span class="n">api_secret</span><span class="o">=</span><span class="n">api_secret</span><span class="p">)</span>
<span class="n">ws</span><span class="p">.</span><span class="n">subscribe_position</span><span class="p">()</span>
<span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">ws</span><span class="p">.</span><span class="n">get_data</span><span class="p">(</span><span class="s">"position"</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">data</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</code></pre></div>
<blockquote>
<p>响应示例</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
   <span class="dl">"</span><span class="s2">topic</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">position</span><span class="dl">"</span><span class="p">,</span>
   <span class="dl">"</span><span class="s2">action</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">update</span><span class="dl">"</span><span class="p">,</span>
   <span class="dl">"</span><span class="s2">data</span><span class="dl">"</span><span class="p">:</span> <span class="p">[</span>
       <span class="p">{</span>
           <span class="dl">"</span><span class="s2">user_id</span><span class="dl">"</span><span class="p">:</span>  <span class="mi">1</span><span class="p">,</span>                            <span class="c1">// user ID</span>
           <span class="dl">"</span><span class="s2">symbol</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">BTCUSD</span><span class="dl">"</span><span class="p">,</span>                       <span class="c1">// the contract for this position</span>
           <span class="dl">"</span><span class="s2">size</span><span class="dl">"</span><span class="p">:</span> <span class="mi">11</span><span class="p">,</span>                               <span class="c1">// the current position amount</span>
           <span class="dl">"</span><span class="s2">side</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Sell</span><span class="dl">"</span><span class="p">,</span>                           <span class="c1">// side</span>
           <span class="dl">"</span><span class="s2">position_value</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0.00159252</span><span class="dl">"</span><span class="p">,</span>           <span class="c1">// positional value</span>
           <span class="dl">"</span><span class="s2">entry_price</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">6907.291588174717</span><span class="dl">"</span><span class="p">,</span>       <span class="c1">// entry price</span>
           <span class="dl">"</span><span class="s2">liq_price</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">7100.234</span><span class="dl">"</span><span class="p">,</span>                  <span class="c1">// liquidation price</span>
           <span class="dl">"</span><span class="s2">bust_price</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">7088.1234</span><span class="dl">"</span><span class="p">,</span>                <span class="c1">// bankruptcy price</span>
           <span class="dl">"</span><span class="s2">leverage</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1</span><span class="dl">"</span><span class="p">,</span>                           <span class="c1">// leverage</span>
           <span class="dl">"</span><span class="s2">order_margin</span><span class="dl">"</span><span class="p">:</span>  <span class="dl">"</span><span class="s2">1</span><span class="dl">"</span><span class="p">,</span>                      <span class="c1">// order margin</span>
           <span class="dl">"</span><span class="s2">position_margin</span><span class="dl">"</span><span class="p">:</span>  <span class="dl">"</span><span class="s2">1</span><span class="dl">"</span><span class="p">,</span>                   <span class="c1">// position margin</span>
           <span class="dl">"</span><span class="s2">available_balance</span><span class="dl">"</span><span class="p">:</span>  <span class="dl">"</span><span class="s2">2</span><span class="dl">"</span><span class="p">,</span>                 <span class="c1">// available balance</span>
           <span class="dl">"</span><span class="s2">take_profit</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0</span><span class="dl">"</span><span class="p">,</span>                        <span class="c1">// take profit price           </span>
           <span class="dl">"</span><span class="s2">tp_trigger_by</span><span class="dl">"</span><span class="p">:</span>  <span class="dl">"</span><span class="s2">LastPrice</span><span class="dl">"</span><span class="p">,</span>             <span class="c1">// take profit trigger price, eg: LastPrice, IndexPrice. Conditional order only</span>
           <span class="dl">"</span><span class="s2">stop_loss</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0</span><span class="dl">"</span><span class="p">,</span>                          <span class="c1">// stop loss price</span>
           <span class="dl">"</span><span class="s2">sl_trigger_by</span><span class="dl">"</span><span class="p">:</span>  <span class="dl">""</span><span class="p">,</span>                     <span class="c1">// stop loss trigger price, eg: LastPrice, IndexPrice. Conditional order only</span>
           <span class="dl">"</span><span class="s2">realised_pnl</span><span class="dl">"</span><span class="p">:</span>  <span class="dl">"</span><span class="s2">0.10</span><span class="dl">"</span><span class="p">,</span>               <span class="c1">// realised PNL</span>
           <span class="dl">"</span><span class="s2">trailing_stop</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0</span><span class="dl">"</span><span class="p">,</span>                  <span class="c1">// trailing stop points</span>
           <span class="dl">"</span><span class="s2">trailing_active</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0</span><span class="dl">"</span><span class="p">,</span>                <span class="c1">// trailing stop trigger price</span>
           <span class="dl">"</span><span class="s2">wallet_balance</span><span class="dl">"</span><span class="p">:</span>  <span class="dl">"</span><span class="s2">4.12</span><span class="dl">"</span><span class="p">,</span>             <span class="c1">// wallet balance</span>
           <span class="dl">"</span><span class="s2">risk_id</span><span class="dl">"</span><span class="p">:</span>  <span class="mi">1</span><span class="p">,</span>                       
           <span class="dl">"</span><span class="s2">occ_closing_fee</span><span class="dl">"</span><span class="p">:</span>  <span class="dl">"</span><span class="s2">0.1</span><span class="dl">"</span><span class="p">,</span>             <span class="c1">// position closing</span>
           <span class="dl">"</span><span class="s2">occ_funding_fee</span><span class="dl">"</span><span class="p">:</span>  <span class="dl">"</span><span class="s2">0.1</span><span class="dl">"</span><span class="p">,</span>             <span class="c1">// funding fee</span>
           <span class="dl">"</span><span class="s2">auto_add_margin</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>                  <span class="c1">// auto margin replenishment switch</span>
           <span class="dl">"</span><span class="s2">cum_realised_pnl</span><span class="dl">"</span><span class="p">:</span>  <span class="dl">"</span><span class="s2">0.12</span><span class="dl">"</span><span class="p">,</span>           <span class="c1">// Total realized profit and loss</span>
           <span class="dl">"</span><span class="s2">position_status</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Normal</span><span class="dl">"</span><span class="p">,</span>           <span class="c1">// status of position (Normal: normal Liq: in the process of liquidation Adl: in the process of Auto-Deleveraging)</span>
                        <span class="c1">// Auto margin replenishment enabled (0: no 1: yes)</span>
           <span class="dl">"</span><span class="s2">position_seq</span><span class="dl">"</span><span class="p">:</span> <span class="mi">14</span>                     <span class="c1">// position version number</span>
       <span class="p">}</span>
   <span class="p">]</span>
<span class="p">}</span>
</code></pre></div>
<p>获取我的仓位列表。通过该接口可以获取当前用户的持仓信息，如持仓数量、账户余额等信息</p>

<p class="fake_header">返回参数</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">user_id</td>
<td style="text-align: left">number</td>
<td>用户ID</td>
</tr>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left">string</td>
<td>合约类型</td>
</tr>
<tr>
<td style="text-align: left"><a href="#side-side">side</a></td>
<td style="text-align: left">string</td>
<td>方向</td>
</tr>
<tr>
<td style="text-align: left">size</td>
<td style="text-align: left">number</td>
<td>仓位数量</td>
</tr>
<tr>
<td style="text-align: left">position_value</td>
<td style="text-align: left">string</td>
<td>仓位价值</td>
</tr>
<tr>
<td style="text-align: left">entry_price</td>
<td style="text-align: left">string</td>
<td>平均入场价</td>
</tr>
<tr>
<td style="text-align: left">liq_price</td>
<td style="text-align: left">string</td>
<td>强平价格</td>
</tr>
<tr>
<td style="text-align: left">bust_price</td>
<td style="text-align: left">string</td>
<td>破产价格</td>
</tr>
<tr>
<td style="text-align: left">leverage</td>
<td style="text-align: left">string</td>
<td>逐仓模式下, 值为用户设置的杠杆；全仓模式下，值为当前风险限额下最大杠杆</td>
</tr>
<tr>
<td style="text-align: left">order_margin</td>
<td style="text-align: left">string</td>
<td>委托预占用保证金</td>
</tr>
<tr>
<td style="text-align: left">position_margin</td>
<td style="text-align: left">string</td>
<td>仓位保证金</td>
</tr>
<tr>
<td style="text-align: left">available_balance</td>
<td style="text-align: left">string</td>
<td>可用余额, 钱包余额 - 仓位保证金</td>
</tr>
<tr>
<td style="text-align: left">take_profit</td>
<td style="text-align: left">string</td>
<td>止盈价格</td>
</tr>
<tr>
<td style="text-align: left">tp_trigger_by</td>
<td style="text-align: left">string</td>
<td>止盈激活价格类型，默认为<code>LastPrice</code></td>
</tr>
<tr>
<td style="text-align: left">stop_loss</td>
<td style="text-align: left">string</td>
<td>止损价格</td>
</tr>
<tr>
<td style="text-align: left">sl_trigger_by</td>
<td style="text-align: left">string</td>
<td>止损激活价格类型，默认为<code>LastPrice</code></td>
</tr>
<tr>
<td style="text-align: left">realised_pnl</td>
<td style="text-align: left">string</td>
<td>当日已结盈亏</td>
</tr>
<tr>
<td style="text-align: left">trailing_stop</td>
<td style="text-align: left">string</td>
<td>追踪止损</td>
</tr>
<tr>
<td style="text-align: left">trailing_active</td>
<td style="text-align: left">string</td>
<td>激活价格</td>
</tr>
<tr>
<td style="text-align: left">wallet_balance</td>
<td style="text-align: left">string</td>
<td>钱包余额</td>
</tr>
<tr>
<td style="text-align: left">risk_id</td>
<td style="text-align: left">number</td>
<td>风险限额ID</td>
</tr>
<tr>
<td style="text-align: left">is_isolated</td>
<td style="text-align: left">bool</td>
<td>是否逐仓，true-逐仓 false-全仓</td>
</tr>
<tr>
<td style="text-align: left">occ_closing_fee</td>
<td style="text-align: left">string</td>
<td>仓位占用的平仓手续费</td>
</tr>
<tr>
<td style="text-align: left">occ_funding_fee</td>
<td style="text-align: left">string</td>
<td>仓位size和当前资金费率预占用资金费用</td>
</tr>
<tr>
<td style="text-align: left">auto_add_margin</td>
<td style="text-align: left">number</td>
<td>是否自动追加保证金</td>
</tr>
<tr>
<td style="text-align: left">cum_realised_pnl</td>
<td style="text-align: left">string</td>
<td>累计已结盈亏</td>
</tr>
<tr>
<td style="text-align: left">position_status</td>
<td style="text-align: left">string</td>
<td>仓位状态，正常，强平，减仓</td>
</tr>
<tr>
<td style="text-align: left">position_seq</td>
<td style="text-align: left">number</td>
<td>仓位变化版本号</td>
</tr>
</tbody></table>
<h3 id='t-websocketexecution'>个人成交</h3>
<blockquote>
<p>请求订阅</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="nx">ws</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="dl">'</span><span class="s1">{"op": "subscribe", "args": ["execution"]}</span><span class="dl">'</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">BybitWebsocket</span> <span class="kn">import</span> <span class="n">BybitWebsocket</span>
<span class="n">ws</span> <span class="o">=</span> <span class="n">BybitWebsocket</span><span class="p">(</span><span class="n">wsURL</span><span class="o">=</span><span class="s">"wss://stream-testnet.bybit.com/realtime"</span><span class="p">,</span>
                    <span class="n">api_key</span><span class="o">=</span><span class="n">api_key</span><span class="p">,</span> <span class="n">api_secret</span><span class="o">=</span><span class="n">api_secret</span><span class="p">)</span>
<span class="n">ws</span><span class="p">.</span><span class="n">subscribe_execution</span><span class="p">()</span>
<span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">ws</span><span class="p">.</span><span class="n">get_data</span><span class="p">(</span><span class="s">"execution"</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">data</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</code></pre></div>
<blockquote>
<p>响应示例</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">topic</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">execution</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">data</span><span class="dl">"</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="dl">"</span><span class="s2">symbol</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">BTCUSD</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">side</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Buy</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">order_id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">xxxxxxxx-xxxx-xxxx-9a8f-4a973eb5c418</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">exec_id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">xxxxxxxx-xxxx-xxxx-8b66-c3d2fcd352f6</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">order_link_id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">price</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">8300</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">order_qty</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">exec_type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Trade</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">exec_qty</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">exec_fee</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0.00000009</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">leaves_qty</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">is_maker</span><span class="dl">"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">trade_time</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2020-01-14T14:07:23.629Z</span><span class="dl">"</span> <span class="c1">// trade time</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>
</code></pre></div>
<p>获取用户成交记录，按时间升序排列。</p>

<p class="fake_header">返回参数</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left">string</td>
<td>合约类型</td>
</tr>
<tr>
<td style="text-align: left"><a href="#side-side">side</a></td>
<td style="text-align: left">string</td>
<td>方向</td>
</tr>
<tr>
<td style="text-align: left">order_id</td>
<td style="text-align: left">string</td>
<td>订单ID</td>
</tr>
<tr>
<td style="text-align: left">exec_id</td>
<td style="text-align: left">string</td>
<td>成交ID</td>
</tr>
<tr>
<td style="text-align: left">order_link_id</td>
<td style="text-align: left">string</td>
<td>用户自定义订单ID</td>
</tr>
<tr>
<td style="text-align: left"><a href="#price-price">price</a></td>
<td style="text-align: left">string</td>
<td>成交价格</td>
</tr>
<tr>
<td style="text-align: left">order_qty</td>
<td style="text-align: left">number</td>
<td>订单数量</td>
</tr>
<tr>
<td style="text-align: left"><a href="#exec-type-exec_type">exec_type</a></td>
<td style="text-align: left">string</td>
<td><a href="#exec-type-exec_type">交易类型枚举</a></td>
</tr>
<tr>
<td style="text-align: left">exec_qty</td>
<td style="text-align: left">number</td>
<td>成交数量</td>
</tr>
<tr>
<td style="text-align: left">exec_fee</td>
<td style="text-align: left">string</td>
<td>交易手续费</td>
</tr>
<tr>
<td style="text-align: left">leaves_qty</td>
<td style="text-align: left">number</td>
<td>剩余委托数量</td>
</tr>
<tr>
<td style="text-align: left">is_maker</td>
<td style="text-align: left">bool</td>
<td>是否是maker</td>
</tr>
<tr>
<td style="text-align: left">trade_time</td>
<td style="text-align: left">string</td>
<td>交易时间</td>
</tr>
</tbody></table>
<h3 id='t-websocketorder'>活动单</h3>
<blockquote>
<p>请求订阅</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="nx">ws</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="dl">'</span><span class="s1">{"op": "subscribe", "args": ["order"]}</span><span class="dl">'</span><span class="p">)</span>
</code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">from</span> <span class="nn">BybitWebsocket</span> <span class="kn">import</span> <span class="n">BybitWebsocket</span>
<span class="n">ws</span> <span class="o">=</span> <span class="n">BybitWebsocket</span><span class="p">(</span><span class="n">wsURL</span><span class="o">=</span><span class="s">"wss://stream-testnet.bybit.com/realtime"</span><span class="p">,</span>
                    <span class="n">api_key</span><span class="o">=</span><span class="n">api_key</span><span class="p">,</span> <span class="n">api_secret</span><span class="o">=</span><span class="n">api_secret</span><span class="p">)</span>
<span class="n">ws</span><span class="p">.</span><span class="n">subscribe_order</span><span class="p">()</span>
<span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">ws</span><span class="p">.</span><span class="n">get_data</span><span class="p">(</span><span class="s">"order"</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">data</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</code></pre></div>
<blockquote>
<p>响应示例</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">topic</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">order</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">data</span><span class="dl">"</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="dl">"</span><span class="s2">order_id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">xxxxxxxx-xxxx-xxxx-9a8f-4a973eb5c418</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">order_link_id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">symbol</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">BTCUSD</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">side</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Sell</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">order_type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Market</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">price</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">8579.5</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">qty</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">time_in_force</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">ImmediateOrCancel</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">create_type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">CreateByClosing</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">cancel_type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">order_status</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Filled</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">leaves_qty</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">cum_exec_qty</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">cum_exec_value</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0.00011655</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">cum_exec_fee</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0.00000009</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">timestamp</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2020-01-14T14:09:31.778Z</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">take_profit</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">stop_loss</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">trailing_stop</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">trailing_active</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">0</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">last_exec_price</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">8580</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">reduce_only</span><span class="dl">"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">close_on_trigger</span><span class="dl">"</span><span class="p">:</span> <span class="kc">false</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>
</code></pre></div>
<p class="fake_header">返回参数</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">order_id</td>
<td style="text-align: left">string</td>
<td>订单ID</td>
</tr>
<tr>
<td style="text-align: left">order_link_id</td>
<td style="text-align: left">string</td>
<td>用户自定义订单ID</td>
</tr>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left">string</td>
<td>合约类型</td>
</tr>
<tr>
<td style="text-align: left"><a href="#side-side">side</a></td>
<td style="text-align: left">string</td>
<td>方向</td>
</tr>
<tr>
<td style="text-align: left"><a href="#order-type-order_type">order_type</a></td>
<td style="text-align: left">string</td>
<td>委托单价格类型</td>
</tr>
<tr>
<td style="text-align: left"><a href="#price-price">price</a></td>
<td style="text-align: left">string</td>
<td>委托价格</td>
</tr>
<tr>
<td style="text-align: left">qty</td>
<td style="text-align: left">number</td>
<td>成交数量</td>
</tr>
<tr>
<td style="text-align: left"><a href="#time-in-force-time_in_force">time_in_force</a></td>
<td style="text-align: left">string</td>
<td>执行策略</td>
</tr>
<tr>
<td style="text-align: left">create_type</td>
<td style="text-align: left">string</td>
<td>下单操作的触发场景</td>
</tr>
<tr>
<td style="text-align: left">cancel_type</td>
<td style="text-align: left">string</td>
<td>取消操作的触发场景</td>
</tr>
<tr>
<td style="text-align: left"><a href="#order-status-order_status">order_status</a></td>
<td style="text-align: left">string</td>
<td>订单状态</td>
</tr>
<tr>
<td style="text-align: left">leaves_qty</td>
<td style="text-align: left">number</td>
<td>剩余委托数量</td>
</tr>
<tr>
<td style="text-align: left">cum_exec_qty</td>
<td style="text-align: left">number</td>
<td>累计成交数量</td>
</tr>
<tr>
<td style="text-align: left">cum_exec_value</td>
<td style="text-align: left">string</td>
<td>累计成交价值</td>
</tr>
<tr>
<td style="text-align: left">cum_exec_fee</td>
<td style="text-align: left">string</td>
<td>累计成交手续费</td>
</tr>
<tr>
<td style="text-align: left">timestamp</td>
<td style="text-align: left">string</td>
<td>委托时间</td>
</tr>
<tr>
<td style="text-align: left">take_profit</td>
<td style="text-align: left">string</td>
<td>止盈价格</td>
</tr>
<tr>
<td style="text-align: left">stop_loss</td>
<td style="text-align: left">string</td>
<td>止损价格</td>
</tr>
<tr>
<td style="text-align: left">trailing_stop</td>
<td style="text-align: left">string</td>
<td>追踪止损</td>
</tr>
<tr>
<td style="text-align: left">trailing_active</td>
<td style="text-align: left">string</td>
<td>激活价格</td>
</tr>
<tr>
<td style="text-align: left">last_exec_price</td>
<td style="text-align: left">string</td>
<td>最近一次成交价格</td>
</tr>
<tr>
<td style="text-align: left">reduce_only</td>
<td style="text-align: left">bool</td>
<td>只减仓</td>
</tr>
<tr>
<td style="text-align: left">close_on_trigger</td>
<td style="text-align: left">bool</td>
<td>触发后平仓. 如果下平仓单，请设置为<code>true</code>，避免因为保证金不足而导致下单失败</td>
</tr>
</tbody></table>
<h3 id='t-websocketstoporder'>条件单</h3>
<blockquote>
<p>请求订阅</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="nx">ws</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="dl">'</span><span class="s1">{"op": "subscribe", "args": ["stop_order"]}</span><span class="dl">'</span><span class="p">)</span>
</code></pre></div>
<blockquote>
<p>响应示例</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">topic</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">stop_order</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">data</span><span class="dl">"</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="dl">"</span><span class="s2">order_id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">xxxxxxxx-xxxx-xxxx-98fb-335aaa6c613b</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">order_link_id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">user_id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">symbol</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">BTCUSD</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">side</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Buy</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">order_type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Limit</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">price</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">8584.5</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">qty</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">time_in_force</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">ImmediateOrCancel</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">create_type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">CreateByStopOrder</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">cancel_type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">order_status</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Untriggered</span><span class="dl">"</span><span class="p">,</span> <span class="c1">//<a href="#stop-order-status-stop_order_status">条件单状态stop_order_status枚举</a></span>
            <span class="dl">"</span><span class="s2">stop_order_type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Stop</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">trigger_by</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">LastPrice</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">trigger_price</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">8584.5</span><span class="dl">"</span><span class="p">,</span> <span class="c1">//如果stop_order_type为`TrailingProfit`时，为激活价格，否则为触发价格。</span>
            <span class="dl">"</span><span class="s2">close_on_trigger</span><span class="dl">"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">timestamp</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2020-01-14T14:11:22.062Z</span><span class="dl">"</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>
</code></pre></div>
<p class="fake_header">返回参数</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">order_id</td>
<td style="text-align: left">string</td>
<td>订单ID</td>
</tr>
<tr>
<td style="text-align: left">order_link_id</td>
<td style="text-align: left">string</td>
<td>用户自定义订单ID</td>
</tr>
<tr>
<td style="text-align: left">user_id</td>
<td style="text-align: left">number</td>
<td>用户ID</td>
</tr>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left">string</td>
<td><a href="#symbol-symbol">交易对枚举</a></td>
</tr>
<tr>
<td style="text-align: left"><a href="#order-type-order_type">order_type</a></td>
<td style="text-align: left">string</td>
<td><a href="#order-type-order_type">订单类型枚举</a></td>
</tr>
<tr>
<td style="text-align: left"><a href="#side-side">side</a></td>
<td style="text-align: left">string</td>
<td>方向</td>
</tr>
<tr>
<td style="text-align: left">price</td>
<td style="text-align: left">string</td>
<td>委托价格</td>
</tr>
<tr>
<td style="text-align: left">qty</td>
<td style="text-align: left">number</td>
<td>委托数量</td>
</tr>
<tr>
<td style="text-align: left"><a href="#time-in-force-time_in_force">time_in_force</a></td>
<td style="text-align: left">string</td>
<td>执行策略</td>
</tr>
<tr>
<td style="text-align: left">create_type</td>
<td style="text-align: left">string</td>
<td>下单操作的触发场景</td>
</tr>
<tr>
<td style="text-align: left">cancel_type</td>
<td style="text-align: left">string</td>
<td>取消操作的触发场景</td>
</tr>
<tr>
<td style="text-align: left"><a href="#order-status-order_status">order_status</a></td>
<td style="text-align: left">string</td>
<td>订单状态</td>
</tr>
<tr>
<td style="text-align: left">stop_order_type</td>
<td style="text-align: left">string</td>
<td>委托单价格类型</td>
</tr>
<tr>
<td style="text-align: left">trigger_by</td>
<td style="text-align: left">string</td>
<td>触发价格类型. 默认为最新市价</td>
</tr>
<tr>
<td style="text-align: left">trigger_price</td>
<td style="text-align: left">string</td>
<td>如果stop_order_type为`TrailingProfit`时，为激活价格，否则为触发价格。</td>
</tr>
<tr>
<td style="text-align: left">close_on_trigger</td>
<td style="text-align: left">bool</td>
<td>触发后平仓. 如果下平仓单，请设置为<code>true</code>，避免因为保证金不足而导致下单失败</td>
</tr>
<tr>
<td style="text-align: left">timestamp</td>
<td style="text-align: left">string</td>
<td>UTC 时间</td>
</tr>
</tbody></table>
<h1 id='t-archivedata'>归档数据</h1><h3 id='t-historicalmarketdata'>历史行情</h3>
<p>您可以在这里获取Bybit <a href="https://public.bybit.com">历史行情数据</a>。</p>
<h1 id='t-enums'>枚举定义</h1>
<p>以下是各个接口请求参数或返回结果中定义的枚举。</p>
<h2 id='side-side'>Side (<code>side</code>)</h2>
<ul>
<li><code>Buy</code></li>
<li><code>Sell</code></li>
</ul>
<h2 id='symbol-symbol'>Symbol (<code>symbol</code>)</h2>
<ul>
<li><code>BTCUSD</code></li>
<li><code>ETHUSD</code></li>
<li><code>EOSUSD</code></li>
<li><code>XRPUSD</code></li>
</ul>
<h2 id='currency-currency-coin'>Currency (<code>currency</code>/<code>coin</code>)</h2>
<ul>
<li><code>BTC</code></li>
<li><code>ETH</code></li>
<li><code>EOS</code></li>
<li><code>XRP</code></li>
<li><code>USDT</code></li>
</ul>
<h2 id='contract-type-contract_type'>Contract Type(<code>contract_type</code>)</h2>
<ul>
<li><code>InversePerpetual</code></li>
<li><code>LinearPerpetual</code></li>
<li><code>InverseFutures</code></li>
</ul>
<h2 id='contract-status-status'>Contract Status(<code>status</code>)</h2>
<ul>
<li><code>Trading</code></li>
<li><code>Settling</code></li>
<li><code>Closed</code></li>
</ul>
<h2 id='wallet-fund-type-wallet_fund_type'>Wallet fund type (<code>wallet_fund_type</code>)</h2>
<ul>
<li><code>Deposit</code> 入金</li>
<li><code>Withdraw</code> 提币</li>
<li><code>RealisedPNL</code> 已结盈亏</li>
<li><code>Commission</code> 佣金</li>
<li><code>Refund</code> 系统返还（如提币审核拒绝返还、用户提币取消返还）</li>
<li><code>Prize</code> 增进</li>
<li><code>ExchangeOrderWithdraw</code> 兑出</li>
<li><code>ExchangeOrderDeposit</code> 兑入</li>
</ul>
<h2 id='withdraw-status-status'>Withdraw status (<code>status</code>)</h2>
<ul>
<li><code>ToBeConfirmed</code> 待（用户邮件）确认</li>
<li><code>UnderReview</code> 审核中</li>
<li><code>Pending</code> 待打款</li>
<li><code>Success</code> 打款成功</li>
<li><code>CancelByUser</code> 用户取消</li>
<li><code>Reject</code> 审核拒绝</li>
<li><code>Expire</code> 提币请求过期</li>
</ul>
<h2 id='order-type-order_type'>Order type (<code>order_type</code>)</h2>
<ul>
<li><code>Limit</code> 限价单</li>
<li><code>Market</code> 市价单</li>
</ul>
<h2 id='quantity-qty'>Quantity (<code>qty</code>)</h2>
<p><ul> <li>最大值1百万 (<code>1000000</code>)</li> <li>必须是正整数： <ul> <li><code>40</code> - 合法</li> <li><code>30.5</code> - 非法</li> </ul> </li> </ul></p>
<h2 id='price-price'>Price (<code>price</code>)</h2>
<p><ul>
<li>活动单<ul>
<li>必须是<code>tick_size</code>的整数倍<ul>
<li>当前symbol信息(如<code>tick_size</code>)，可以通过<a href="#t-querysymbol">交易对接口</a>接口获得。</li>
</ul>
</li>
<li>必须小于一百万 (<code>1000000</code>)</li>
<li>如果用户没有未平仓，则价格必须大于市场价格的10%<ul>
<li>如, 若当前市场价(last price) 为 10314, 那么下单价格的最小值为 1031.5。</li>
<li>伪代码(假设价格是0.5的增量):<pre class="center-column">
IF price > (last_price * 0.1)
// 发送订单
ELSE
//  不会发送订单，因为价格将不被系统接受
</pre></li>
</ul>
</li>
<li>如果已持有仓位，那么价格必须高于强平价格<ul>
<li>如, 若多仓的强平价格为 5176.5 那么价格最小为 5177. 在做空的情况下，价格必须低于强平价格。</li>
</ul>
</li>
</ul>
</li>
<li>条件单<ul>
<li>必须大于等于 <code>1</code></li>
</ul>
</li>
</ul>
</p>
<h2 id='time-in-force-time_in_force'>Time in force (<code>time_in_force</code>)</h2>
<ul>
<li><code>GoodTillCancel</code> 一直有效至取消</li>
<li><code>ImmediateOrCancel</code> 立即成交或取消</li>
<li><code>FillOrKill</code> 完全成交或取消</li>
<li><code>PostOnly</code> 被动委托</li>
</ul>
<h2 id='trigger-price-type-trigger_by'>Trigger price type (<code>trigger_by</code>)</h2>
<ul>
<li><code>LastPrice</code> 最新市价</li>
<li><code>IndexPrice</code> 指数价格</li>
<li><code>MarkPrice</code> 标记价格</li>
</ul>
<h2 id='order-order'>Order (<code>order</code>)</h2>
<p>排序方向</p>

<ul>
<li><code>desc</code> (default)</li>
<li><code>asc</code> </li>
</ul>
<h2 id='order-status-order_status'>Order status (<code>order_status</code>)</h2>
<p></p>

<ul>
<li><code>Created</code> </li>
<li><code>Rejected</code> </li>
<li><code>New</code> </li>
<li><code>PartiallyFilled</code> </li>
<li><code>Filled</code> </li>
<li><code>Cancelled</code> </li>
<li><code>PendingCancel</code> - 撮合引擎收到取消指令但不一定会被成功取消</li>
</ul>
<h2 id='stop-order-status-stop_order_status'>Stop order status (<code>stop_order_status</code>)</h2>
<ul>
<li><code>Active</code> - 条件单触发成功且下单成功</li>
<li><code>Untriggered</code> - 等待市价触发条件单</li>
<li><code>Triggered</code> - 市价已触发条件单</li>
<li><code>Cancelled</code> - 取消</li>
<li><code>Rejected</code> - 条件触发成功但下单失败</li>
<li><code>Deactivated</code> - 条件单触发前被取消</li>
</ul>
<h2 id='cancel-type-cancel_type'>Cancel type (<code>cancel_type</code>)</h2>
<ul>
<li><code>CancelByUser</code> 用户取消</li>
<li><code>CancelByReduceOnly</code> </li>
<li><code>CancelByPrepareLiq</code>,<code>CancelAllBeforeLiq</code> - 仓位进入强平导致取消订单</li>
<li><code>CancelByPrepareAdl</code>,<code>CancelAllBeforeAdl</code> - 自动减仓导致取消订单</li>
<li><code>CancelByAdmin</code> </li>
<li><code>CancelByTpSlTsClear</code> - 止盈止损单被取消</li>
<li><code>CancelByPzSideCh</code> - 该订单在触发止盈止损后被取消</li>
</ul>
<h2 id='create-type-create_type'>Create type (<code>create_type</code>)</h2>
<ul>
<li><code>CreateByUser</code></li>
<li><code>CreateByClosing</code></li>
<li><code>CreateByAdminClosing</code></li>
<li><code>CreateByStopOrder</code></li>
<li><code>CreateByTakeProfit</code></li>
<li><code>CreateByStopLoss</code></li>
<li><code>CreateByTrailingStop</code></li>
<li><code>CreateByLiq</code> - Created by partial liquidation</li>
<li><code>CreateByAdl_PassThrough</code> - Created by ADL</li>
<li><code>CreateByTakeOver_PassThrough</code> - Created by liquidation takeover</li>
</ul>
<h2 id='exec-type-exec_type'>Exec type (<code>exec_type</code>)</h2>
<ul>
<li><code>Trade</code> 普通交易</li>
<li><code>AdlTrade</code> 自动减仓</li>
<li><code>Funding</code> 资金费率</li>
<li><code>BustTrade</code> 强制平仓</li>
</ul>
<h2 id='liquidity-type-last_liquidity_ind'>Liquidity type (<code>last_liquidity_ind</code>)</h2>
<ul>
<li><code>AddedLiquidity</code> maker成交</li>
<li><code>RemovedLiquidity</code> taker成交</li>
</ul>
<h2 id='tick-direction-type-tick_direction'>Tick direction type (<code>tick_direction</code>)</h2>
<p>表示价格的波动，相对于上一笔交易是涨还是跌</p>

<ul>
<li><code>PlusTick</code> 涨</li>
<li><code>ZeroPlusTick</code> 跟上一次持平，上一次跟上上一次是涨</li>
<li><code>MinusTick</code> 跌</li>
<li><code>ZeroMinusTick</code> 跟上一次持平，上一次跟上上一次是跌</li>
</ul>
<h1 id='t-errors'>错误码</h1>
<p>Bybit使用以下HTTP Code和错误码：</p>

<table><thead>
<tr>
<th>HTTP Code</th>
<th>含义</th>
</tr>
</thead><tbody>
<tr>
<td>200</td>
<td>请求有效</td>
</tr>
<tr>
<td>403</td>
<td>拒绝访问</td>
</tr>
<tr>
<td>404</td>
<td>访问路径不存在</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Error Code</th>
<th>含义</th>
</tr>
</thead><tbody>
<tr>
<td>10001</td>
<td>参数错误</td>
</tr>
<tr>
<td>10002</td>
<td>请求过期，请检查 <code>timestamp</code> 和 <code>recv_window</code></td>
</tr>
<tr>
<td>10003</td>
<td>无效的apikey</td>
</tr>
<tr>
<td>10004</td>
<td>签名错误</td>
</tr>
<tr>
<td>10005</td>
<td>apikey权限不足</td>
</tr>
<tr>
<td>10006</td>
<td>请求次数超限</td>
</tr>
<tr>
<td>10007</td>
<td>您的请求中没有<code>api_key</code></td>
</tr>
<tr>
<td>10010</td>
<td>请求ip不匹配</td>
</tr>
<tr>
<td>10016</td>
<td>服务异常或请求超时</td>
</tr>
<tr>
<td>10017</td>
<td>请求路径不存在或请求方法错误</td>
</tr>
<tr>
<td>10018</td>
<td>超过ip频率限制</td>
</tr>
<tr>
<td>20001</td>
<td>订单不存在</td>
</tr>
<tr>
<td>20003</td>
<td>缺少参数<code>side</code></td>
</tr>
<tr>
<td>20004</td>
<td><code>side</code>不合法</td>
</tr>
<tr>
<td>20005</td>
<td>缺少参数<code>symbol</code></td>
</tr>
<tr>
<td>20006</td>
<td><code>symbol</code>不合法</td>
</tr>
<tr>
<td>20007</td>
<td>缺少参数<code>order_type</code></td>
</tr>
<tr>
<td>20008</td>
<td><code>order_type</code>不合法</td>
</tr>
<tr>
<td>20009</td>
<td>缺少参数<code>qty</code></td>
</tr>
<tr>
<td>20010</td>
<td><code>qty</code> 必须大于0</td>
</tr>
<tr>
<td>20011</td>
<td><code>qty</code> 必须为整数</td>
</tr>
<tr>
<td>20012</td>
<td><code>qty</code> 必须大于0并小于1百万</td>
</tr>
<tr>
<td>20013</td>
<td>缺少参数<code>price</code></td>
</tr>
<tr>
<td>20014</td>
<td><code>price</code>必须大于0</td>
</tr>
<tr>
<td>20015</td>
<td>缺少参数<code>time_in_force</code></td>
</tr>
<tr>
<td>20016</td>
<td><code>time_in_force</code>不合法</td>
</tr>
<tr>
<td>20017</td>
<td>缺少参数<code>order_id</code></td>
</tr>
<tr>
<td>20018</td>
<td>日期格式不对</td>
</tr>
<tr>
<td>20019</td>
<td>缺少参数<code>stop_px</code></td>
</tr>
<tr>
<td>20020</td>
<td>缺少参数<code>base_price</code></td>
</tr>
<tr>
<td>20021</td>
<td>缺少参数<code>stop_order_id</code></td>
</tr>
<tr>
<td>20022</td>
<td>缺少参数<code>leverage</code></td>
</tr>
<tr>
<td>20023</td>
<td><code>leverage</code>必须是数字</td>
</tr>
<tr>
<td>20031</td>
<td><code>leverage</code>必须大于0</td>
</tr>
<tr>
<td>20070</td>
<td>缺少参数<code>margin</code></td>
</tr>
<tr>
<td>20071</td>
<td><code>margin</code>必须大于0</td>
</tr>
<tr>
<td>20084</td>
<td><code>order_id</code>和<code>order_link_id</code>必须二选一</td>
</tr>
<tr>
<td>30001</td>
<td><code>order_link_id</code>重复</td>
</tr>
<tr>
<td>30003</td>
<td><code>qty</code>太小</td>
</tr>
<tr>
<td>30004</td>
<td><code>qty</code>太大</td>
</tr>
<tr>
<td>30005</td>
<td><code>price</code>太大</td>
</tr>
<tr>
<td>30007</td>
<td><code>price</code>太小</td>
</tr>
<tr>
<td>30008</td>
<td><code>order_type</code>非法</td>
</tr>
<tr>
<td>30009</td>
<td>持仓不存在</td>
</tr>
<tr>
<td>30010</td>
<td>钱包余额不足</td>
</tr>
<tr>
<td>30011</td>
<td>由于仓位清算，不允许操作</td>
</tr>
<tr>
<td>30012</td>
<td>由于ADL，不允许操作</td>
</tr>
<tr>
<td>30013</td>
<td>持仓处于强平、ADL或其他非可操作状态</td>
</tr>
<tr>
<td>30014</td>
<td>平仓数量不能大于持仓数量</td>
</tr>
<tr>
<td>30015</td>
<td>平仓订单不合法，应和持仓方向相反</td>
</tr>
<tr>
<td>30016</td>
<td>平仓前请先取消止盈止损单</td>
</tr>
<tr>
<td>30017</td>
<td>不能低于买方向强平价格</td>
</tr>
<tr>
<td>30018</td>
<td>不能高于卖方向强平价格</td>
</tr>
<tr>
<td>30019</td>
<td>非开仓单不能使用TP/SL参数</td>
</tr>
<tr>
<td>30020</td>
<td>持仓已有TP/SL设置</td>
</tr>
<tr>
<td>30021</td>
<td>预估保证金不足</td>
</tr>
<tr>
<td>30022</td>
<td>预估买方向强平价格不能高于标记价格</td>
</tr>
<tr>
<td>30023</td>
<td>预估卖方向强平价不能低于标记价格</td>
</tr>
<tr>
<td>30024</td>
<td>空仓无法设置TP/SL/TS</td>
</tr>
<tr>
<td>30025</td>
<td>触发价格必须高于市价10%</td>
</tr>
<tr>
<td>30026</td>
<td>价格过高</td>
</tr>
<tr>
<td>30027</td>
<td>止盈价应高于上笔成交价</td>
</tr>
<tr>
<td>30028</td>
<td>止损价应在强平价和上笔成交价之间</td>
</tr>
<tr>
<td>30029</td>
<td>止损价格应在上笔成交价和清算价格之间</td>
</tr>
<tr>
<td>30030</td>
<td>设定的止盈价格应低于上笔成交价</td>
</tr>
<tr>
<td>30031</td>
<td>可用余额不足以支付订单费用</td>
</tr>
<tr>
<td>30032</td>
<td>订单已成交或已取消</td>
</tr>
<tr>
<td>30033</td>
<td>条件单的数量超限</td>
</tr>
<tr>
<td>30034</td>
<td>订单不存在</td>
</tr>
<tr>
<td>30035</td>
<td>取消订单过快</td>
</tr>
<tr>
<td>30036</td>
<td>订单执行后的预期仓位值超过当前风险限额</td>
</tr>
<tr>
<td>30037</td>
<td>订单已取消</td>
</tr>
<tr>
<td>30041</td>
<td>持仓不存在</td>
</tr>
<tr>
<td>30042</td>
<td>钱包余额不足</td>
</tr>
<tr>
<td>30043</td>
<td>由于仓位清算，不允许操作</td>
</tr>
<tr>
<td>30044</td>
<td>由于ADL，不允许操作</td>
</tr>
<tr>
<td>30045</td>
<td>持仓处于其他不可操作状态</td>
</tr>
<tr>
<td>30049</td>
<td>可用余额不足</td>
</tr>
<tr>
<td>30050</td>
<td>任何调整都将立即引发清算</td>
</tr>
<tr>
<td>30051</td>
<td>杠杆设置非法，因为它将超出您的风险限额</td>
</tr>
<tr>
<td>30052</td>
<td>杠杆设置非法，不能小于1</td>
</tr>
<tr>
<td>30054</td>
<td>保证金设置不合法</td>
</tr>
<tr>
<td>30057</td>
<td>请求的合约数量超过风险限额</td>
</tr>
<tr>
<td>30063</td>
<td>不满足只减仓的条件</td>
</tr>
<tr>
<td>30067</td>
<td>可用余额不足</td>
</tr>
<tr>
<td>30068</td>
<td>退出价值必须大于0</td>
</tr>
<tr>
<td>30074</td>
<td>无法创建条件单，由<code>base_price</code>和<code>stop_px</code>比较可知预期涨至<code>stop_px</code>时触发条件单，而此时<code>LastPrice</code>(或<code>IndexPrice</code>、<code>MarkPrice</code>，由<code>trigger_by</code>指定)已经达到或高于<code>stop_px</code></td>
</tr>
<tr>
<td>30075</td>
<td>无法创建条件单，由<code>base_price</code>和<code>stop_px</code>比较可知预期跌至<code>stop_px</code>时触发条件单，而此时<code>LastPrice</code>(或<code>IndexPrice</code>、<code>MarkPrice</code>，由<code>trigger_by</code>指定)已经达到或低于<code>stop_px</code></td>
</tr>
<tr>
<td>33004</td>
<td>apikey已过期</td>
</tr>
<tr>
<td>34026</td>
<td>风险限额没有变化</td>
</tr>
</tbody></table>
<h1 id='t-abandonedendpoints'>废弃接口</h1><h3 id='t-a_getleverage'>用户杠杆</h3>
<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight console tab-console"><code><span class="go">curl "https://api.bybit.com/user/leverage?api_key={api_key}&amp;timestamp={timestamp}&amp;sign={sign}"
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">bybit</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">bybit</span><span class="p">.</span><span class="n">bybit</span><span class="p">(</span><span class="n">test</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">api_key</span><span class="o">=</span><span class="s">"api_key"</span><span class="p">,</span> <span class="n">api_secret</span><span class="o">=</span><span class="s">"api_secret"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">client</span><span class="p">.</span><span class="n">Positions</span><span class="p">.</span><span class="n">userLeverage</span><span class="p">())</span>
</code></pre></div>
<blockquote>
<p>响应示例</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">ret_code</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ret_msg</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">ok</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_code</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">result</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
        <span class="dl">"</span><span class="s2">BTCUSD</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
            <span class="dl">"</span><span class="s2">leverage</span><span class="dl">"</span><span class="p">:</span> <span class="mi">5</span>
        <span class="p">},</span>
        <span class="dl">"</span><span class="s2">EOSUSD</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
            <span class="dl">"</span><span class="s2">leverage</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span>
        <span class="p">},</span>
        <span class="dl">"</span><span class="s2">ETHUSD</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
            <span class="dl">"</span><span class="s2">leverage</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span>
        <span class="p">},</span>
        <span class="dl">"</span><span class="s2">XRPUSD</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
            <span class="dl">"</span><span class="s2">leverage</span><span class="dl">"</span><span class="p">:</span> <span class="mi">10</span>
        <span class="p">}</span>
    <span class="p">},</span>
    <span class="dl">"</span><span class="s2">ext_info</span><span class="dl">"</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">time_now</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1577477752.346548</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_status</span><span class="dl">"</span><span class="p">:</span> <span class="mi">119</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_reset_ms</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1577477752355</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit</span><span class="dl">"</span><span class="p">:</span> <span class="mi">120</span>
<span class="p">}</span>
</code></pre></div>
<p>获取用户杠杆。</p>

<p class="fake_header">HTTP 请求</p>

<p>GET
<code><span id=uLeverage>/user/leverage</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#uLeverage"><img src="../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button></p>

<p class="fake_header">请求参数</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">类型</th>
<th>说明</th>
</tr>
</thead><tbody>
</tbody></table>

<p class="fake_header">返回参数</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">BTCUSD &gt; leverage</td>
<td style="text-align: left">number</td>
<td>BTCUSD杠杆</td>
</tr>
<tr>
<td style="text-align: left">EOSUSD &gt; leverage</td>
<td style="text-align: left">number</td>
<td>EOSUSD杠杆</td>
</tr>
<tr>
<td style="text-align: left">ETHUSD &gt; leverage</td>
<td style="text-align: left">number</td>
<td>ETHUSD杠杆</td>
</tr>
<tr>
<td style="text-align: left">XRPUSD &gt; leverage</td>
<td style="text-align: left">number</td>
<td>XRPUSD杠杆</td>
</tr>
</tbody></table>
<h3 id='t-a_getactive'>查询活动委托</h3>
<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight console tab-console"><code><span class="go">curl "https://api.bybit.com/open-api/order/list?api_key={api_key}&amp;timestamp={timestamp}&amp;sign={sign}&amp;symbol=BTCUSD"
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">bybit</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">bybit</span><span class="p">.</span><span class="n">bybit</span><span class="p">(</span><span class="n">test</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">api_key</span><span class="o">=</span><span class="s">"api_key"</span><span class="p">,</span> <span class="n">api_secret</span><span class="o">=</span><span class="s">"api_secret"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">client</span><span class="p">.</span><span class="n">Order</span><span class="p">.</span><span class="n">Order_getOrders</span><span class="p">().</span><span class="n">result</span><span class="p">())</span>
</code></pre></div>
<blockquote>
<p>响应示例</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">ret_code</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ret_msg</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">ok</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_code</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">result</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
        <span class="dl">"</span><span class="s2">current_page</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">last_page</span><span class="dl">"</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">data</span><span class="dl">"</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span>
                <span class="dl">"</span><span class="s2">user_id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">symbol</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">BTCUSD</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">side</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Sell</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">order_type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Market</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">price</span><span class="dl">"</span><span class="p">:</span> <span class="mi">7074</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">qty</span><span class="dl">"</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">time_in_force</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">ImmediateOrCancel</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">order_status</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Filled</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">ext_fields</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
                    <span class="dl">"</span><span class="s2">close_on_trigger</span><span class="dl">"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
                    <span class="dl">"</span><span class="s2">orig_order_type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">BLimit</span><span class="dl">"</span><span class="p">,</span>
                    <span class="dl">"</span><span class="s2">prior_x_req_price</span><span class="dl">"</span><span class="p">:</span> <span class="mf">5898.5</span><span class="p">,</span>
                    <span class="dl">"</span><span class="s2">op_from</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">pc</span><span class="dl">"</span><span class="p">,</span>
                    <span class="dl">"</span><span class="s2">remark</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">127.0.0.1</span><span class="dl">"</span><span class="p">,</span>
                    <span class="dl">"</span><span class="s2">o_req_num</span><span class="dl">"</span><span class="p">:</span> <span class="o">-</span><span class="mi">34799032763</span><span class="p">,</span>
                    <span class="dl">"</span><span class="s2">xreq_type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">x_create</span><span class="dl">"</span>
                <span class="p">},</span>
                <span class="dl">"</span><span class="s2">last_exec_time</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1577448481.696421</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">last_exec_price</span><span class="dl">"</span><span class="p">:</span> <span class="mf">7070.5</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">leaves_qty</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">leaves_value</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">cum_exec_qty</span><span class="dl">"</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">cum_exec_value</span><span class="dl">"</span><span class="p">:</span> <span class="mf">0.00028283</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">cum_exec_fee</span><span class="dl">"</span><span class="p">:</span> <span class="mf">0.00002</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">reject_reason</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">NoError</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">order_link_id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">created_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2019-12-27T12:08:01.000Z</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">updated_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2019-12-27T12:08:01.000Z</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">order_id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">f185806b-b801-40ff-adec-52289370ed62</span><span class="dl">"</span>
            <span class="p">}</span>
        <span class="p">]</span>
    <span class="p">},</span>
    <span class="dl">"</span><span class="s2">ext_info</span><span class="dl">"</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">time_now</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1577448922.437871</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_status</span><span class="dl">"</span><span class="p">:</span> <span class="mi">98</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_reset_ms</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1580885703683</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit</span><span class="dl">"</span><span class="p">:</span> <span class="mi">100</span>
<span class="p">}</span>
</code></pre></div>
<p><p>获取我的活动委托单列表。</p>
<p>创建/取消订单是异步的，因此<b>该接口可能返回的数据可能会有延迟</b>。如果要获取订单的实时信息，可以调用接口<a href="#t-queryactive">实时查询活动单信息</a>.</p>
</p>

<p class="fake_header">HTTP 请求</p>

<p>GET
<code><span id=oaoList>/open-api/order/list</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#oaoList"><img src="../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button></p>

<p class="fake_header">请求参数</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">order_id</td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>订单ID</td>
</tr>
<tr>
<td style="text-align: left">order_link_id</td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>机构自定义订单ID, 最大长度36位，且同一机构下自定义ID不可重复</td>
</tr>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>合约类型. 默认 <code>BTCUSD</code></td>
</tr>
<tr>
<td style="text-align: left">order</td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>按创建时间排序</td>
</tr>
<tr>
<td style="text-align: left">page</td>
<td style="text-align: left">false</td>
<td style="text-align: left">integer</td>
<td>页码.默认取第一页</td>
</tr>
<tr>
<td style="text-align: left">limit</td>
<td style="text-align: left">false</td>
<td style="text-align: left">integer</td>
<td>每页数量, 最大50. 默认每页20条</td>
</tr>
<tr>
<td style="text-align: left"><a href="#order-status-order_status">order_status</a></td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>指定订单状态查询订单列表。不传该参数则默认查询所有状态订单。该参数支持多状态查询，状态之间用英文逗号分割。</td>
</tr>
</tbody></table>

<p class="fake_header">返回参数</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">user_id</td>
<td style="text-align: left">number</td>
<td>用户ID</td>
</tr>
<tr>
<td style="text-align: left">symbol</td>
<td style="text-align: left">string</td>
<td>合约类型</td>
</tr>
<tr>
<td style="text-align: left">side</td>
<td style="text-align: left">string</td>
<td>方向</td>
</tr>
<tr>
<td style="text-align: left">order_type</td>
<td style="text-align: left">string</td>
<td>交易记录类型</td>
</tr>
<tr>
<td style="text-align: left">price</td>
<td style="text-align: left">number</td>
<td>委托价格</td>
</tr>
<tr>
<td style="text-align: left">qty</td>
<td style="text-align: left">number</td>
<td>委托数量</td>
</tr>
<tr>
<td style="text-align: left">time_in_force</td>
<td style="text-align: left">string</td>
<td>执行策略</td>
</tr>
<tr>
<td style="text-align: left">order_status</td>
<td style="text-align: left">string</td>
<td>订单状态</td>
</tr>
<tr>
<td style="text-align: left">ext_fields&gt;close_on_trigger</td>
<td style="text-align: left">bool</td>
<td>触发后平仓. 如果下平仓单，请设置为<code>true</code>，避免因为保证金不足而导致下单失败</td>
</tr>
<tr>
<td style="text-align: left">ext_fields&gt;orig_order_type</td>
<td style="text-align: left">string</td>
<td>原始特殊订单类型</td>
</tr>
<tr>
<td style="text-align: left">ext_fields&gt;prior_x_req_price</td>
<td style="text-align: left">number</td>
<td>期望撮合的价格</td>
</tr>
<tr>
<td style="text-align: left">ext_fields&gt;op_from</td>
<td style="text-align: left">string</td>
<td>请求来源</td>
</tr>
<tr>
<td style="text-align: left">ext_fields&gt;remark</td>
<td style="text-align: left">string</td>
<td>备注</td>
</tr>
<tr>
<td style="text-align: left">ext_fields&gt;o_req_num</td>
<td style="text-align: left">number</td>
<td>用于关联request&response</td>
</tr>
<tr>
<td style="text-align: left">ext_fields&gt;xreq_type</td>
<td style="text-align: left">string</td>
<td>请求类型</td>
</tr>
<tr>
<td style="text-align: left">last_exec_time</td>
<td style="text-align: left">string</td>
<td>最近一次成交时间</td>
</tr>
<tr>
<td style="text-align: left">last_exec_price</td>
<td style="text-align: left">number</td>
<td>最近一次成交价格</td>
</tr>
<tr>
<td style="text-align: left">leaves_qty</td>
<td style="text-align: left">number</td>
<td>剩余委托数量</td>
</tr>
<tr>
<td style="text-align: left">leaves_value</td>
<td style="text-align: left">number</td>
<td>剩余挂单数量对应的预估价值</td>
</tr>
<tr>
<td style="text-align: left">cum_exec_qty</td>
<td style="text-align: left">number</td>
<td>累计成交数量</td>
</tr>
<tr>
<td style="text-align: left">cum_exec_value</td>
<td style="text-align: left">number</td>
<td>累计成交价值</td>
</tr>
<tr>
<td style="text-align: left">cum_exec_fee</td>
<td style="text-align: left">number</td>
<td>累计成交手续费</td>
</tr>
<tr>
<td style="text-align: left">reject_reason</td>
<td style="text-align: left">string</td>
<td>被拒单的原因</td>
</tr>
<tr>
<td style="text-align: left">order_link_id</td>
<td style="text-align: left">string</td>
<td>机构自定义订单ID, 最大长度36位，且同一机构下自定义ID不可重复</td>
</tr>
<tr>
<td style="text-align: left">created_at</td>
<td style="text-align: left">string</td>
<td>创建时间</td>
</tr>
<tr>
<td style="text-align: left">order_id</td>
<td style="text-align: left">string</td>
<td>订单ID</td>
</tr>
</tbody></table>
<h3 id='t-a_getcond'>查询条件委托</h3>
<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight console tab-console"><code><span class="go">curl "https://api.bybit.com/open-api/stop-order/list?api_key={api_key}&amp;timestamp={timestamp}&amp;sign={sign}"
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">bybit</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">bybit</span><span class="p">.</span><span class="n">bybit</span><span class="p">(</span><span class="n">test</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">api_key</span><span class="o">=</span><span class="s">"api_key"</span><span class="p">,</span> <span class="n">api_secret</span><span class="o">=</span><span class="s">"api_secret"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">client</span><span class="p">.</span><span class="n">Conditional</span><span class="p">.</span><span class="n">Conditional_getOrders</span><span class="p">().</span><span class="n">result</span><span class="p">())</span>
</code></pre></div>
<blockquote>
<p>响应示例</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">ret_code</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ret_msg</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">ok</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_code</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">result</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
        <span class="dl">"</span><span class="s2">current_page</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">last_page</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">data</span><span class="dl">"</span><span class="p">:</span> <span class="p">[</span>
            <span class="p">{</span>
                <span class="dl">"</span><span class="s2">user_id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">stop_order_status</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Untriggered</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">symbol</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">BTCUSD</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">side</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Buy</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">order_type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Limit</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">price</span><span class="dl">"</span><span class="p">:</span> <span class="mi">8000</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">qty</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">time_in_force</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">GoodTillCancel</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">stop_order_type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Stop</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">trigger_by</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">LastPrice</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">base_price</span><span class="dl">"</span><span class="p">:</span> <span class="mi">7000</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">order_link_id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">created_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2019-12-27T12:48:24.000Z</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">updated_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2019-12-27T12:48:24.000Z</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">stop_px</span><span class="dl">"</span><span class="p">:</span> <span class="mi">7500</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">stop_order_id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">a85cd1c0-a9a4-49d3-a1bd-bab5ebe946d5</span><span class="dl">"</span>
            <span class="p">},</span>
            <span class="p">{</span>
                <span class="dl">"</span><span class="s2">user_id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">stop_order_status</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Untriggered</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">symbol</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">BTCUSD</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">side</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Sell</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">order_type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Limit</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">price</span><span class="dl">"</span><span class="p">:</span> <span class="mi">999999</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">qty</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">time_in_force</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">PostOnly</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">stop_order_type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Stop</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">trigger_by</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">LastPrice</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">base_price</span><span class="dl">"</span><span class="p">:</span> <span class="mf">6910.5</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">order_link_id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">created_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2019-12-17T12:13:20.000Z</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">updated_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2019-12-17T12:13:20.000Z</span><span class="dl">"</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">stop_px</span><span class="dl">"</span><span class="p">:</span> <span class="mi">10000000000000</span><span class="p">,</span>
                <span class="dl">"</span><span class="s2">stop_order_id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">dea89649-9492-459d-a8c4-c298b87b3d26</span><span class="dl">"</span>
            <span class="p">}</span>
        <span class="p">]</span>
    <span class="p">},</span>
    <span class="dl">"</span><span class="s2">ext_info</span><span class="dl">"</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">time_now</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1577451658.755468</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_status</span><span class="dl">"</span><span class="p">:</span> <span class="mi">599</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_reset_ms</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1577451658762</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit</span><span class="dl">"</span><span class="p">:</span> <span class="mi">600</span>
<span class="p">}</span>
</code></pre></div>
<p><p>获取我的条件委托单列表。</p> <p>创建/取消订单是异步的，因此<b>该接口可能返回的数据可能会有延迟</b>。如果要获取订单的实时信息，可以调用接口<a href="#t-querycond">实时查询条件单信息</a>。</p></p>

<p class="fake_header">HTTP 请求</p>

<p>GET
<code><span id=oasoList>/open-api/stop-order/list</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#oasoList"><img src="../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button></p>

<p class="fake_header">请求参数</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">stop_order_id</td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>条件委托订单ID。</td>
</tr>
<tr>
<td style="text-align: left">order_link_id</td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>机构自定义订单ID, 最大长度36位，且同一机构下自定义ID不可重复</td>
</tr>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>合约类型. Default <code>BTCUSD</code></td>
</tr>
<tr>
<td style="text-align: left"><a href="#stop-order-status-stop_order_status">stop_order_status</a></td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>条件单状态</td>
</tr>
<tr>
<td style="text-align: left"><a href="#order-order">order</a></td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>按创建时间排序</td>
</tr>
<tr>
<td style="text-align: left">page</td>
<td style="text-align: left">false</td>
<td style="text-align: left">integer</td>
<td>页码.默认取第一页</td>
</tr>
<tr>
<td style="text-align: left">limit</td>
<td style="text-align: left">false</td>
<td style="text-align: left">integer</td>
<td>每页数量, 最大50. 默认每页20条</td>
</tr>
</tbody></table>

<p class="fake_header">返回参数</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">user_id</td>
<td style="text-align: left">number</td>
<td>用户ID</td>
</tr>
<tr>
<td style="text-align: left"><a href="#stop-order-status-stop_order_status">stop_order_status</a></td>
<td style="text-align: left">string</td>
<td>条件单状态</td>
</tr>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left">string</td>
<td>合约类型</td>
</tr>
<tr>
<td style="text-align: left"><a href="#side-side">side</a></td>
<td style="text-align: left">string</td>
<td>方向</td>
</tr>
<tr>
<td style="text-align: left"><a href="#order-type-order_type">order_type</a></td>
<td style="text-align: left">string</td>
<td>订单类型</td>
</tr>
<tr>
<td style="text-align: left"><a href="#price-price">price</a></td>
<td style="text-align: left">number</td>
<td>委托价格</td>
</tr>
<tr>
<td style="text-align: left"><a href="#quantity-qty">qty</a></td>
<td style="text-align: left">number</td>
<td>委托数量</td>
</tr>
<tr>
<td style="text-align: left"><a href="#time-in-force-time_in_force">time_in_force</a></td>
<td style="text-align: left">string</td>
<td>执行策略</td>
</tr>
<tr>
<td style="text-align: left">stop_order_type</td>
<td style="text-align: left">string</td>
<td>委托单价格类型</td>
</tr>
<tr>
<td style="text-align: left"><a href="#trigger-price-type-trigger_by">trigger_by</a></td>
<td style="text-align: left">string</td>
<td>触发价格类型. 默认为最新市价</td>
</tr>
<tr>
<td style="text-align: left">base_price</td>
<td style="text-align: left">number</td>
<td>下单时市价</td>
</tr>
<tr>
<td style="text-align: left">order_link_id</td>
<td style="text-align: left">string</td>
<td>机构自定义订单ID</td>
</tr>
<tr>
<td style="text-align: left">created_at</td>
<td style="text-align: left">string</td>
<td>创建时间</td>
</tr>
<tr>
<td style="text-align: left">updated_at</td>
<td style="text-align: left">string</td>
<td>更新时间</td>
</tr>
<tr>
<td style="text-align: left">stop_px</td>
<td style="text-align: left">number</td>
<td>触发价格</td>
</tr>
<tr>
<td style="text-align: left">stop_order_id</td>
<td style="text-align: left">string</td>
<td>条件委托订单ID。</td>
</tr>
</tbody></table>
<h3 id='t-a_placecond'>创建条件委托单</h3>
<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight console tab-console"><code><span class="go">curl https://api.bybit.com/open-api/stop-order/create \
-H "Content-Type: application/json" \
-d '{"api_key":"{api_key}","order_type":"Limit","side":"Buy","symbol":"BTCUSD","qty":1,"price":8100,"base_price":8300,"stop_px":8150,"time_in_force":"GoodTillCancel","order_link_id":"cus_order_id_1","timestamp":{timestamp},"sign":"{sign}"}'
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">bybit</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">bybit</span><span class="p">.</span><span class="n">bybit</span><span class="p">(</span><span class="n">test</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">api_key</span><span class="o">=</span><span class="s">"api_key"</span><span class="p">,</span> <span class="n">api_secret</span><span class="o">=</span><span class="s">"api_secret"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">client</span><span class="p">.</span><span class="n">Conditional</span><span class="p">.</span><span class="n">Conditional_new</span><span class="p">(</span><span class="n">order_type</span><span class="o">=</span><span class="s">"Limit"</span><span class="p">,</span><span class="n">side</span><span class="o">=</span><span class="s">"Buy"</span><span class="p">,</span><span class="n">symbol</span><span class="o">=</span><span class="s">"BTCUSD"</span><span class="p">,</span><span class="n">qty</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">price</span><span class="o">=</span><span class="mi">8100</span><span class="p">,</span><span class="n">base_price</span><span class="o">=</span><span class="mi">8300</span><span class="p">,</span><span class="n">stop_px</span><span class="o">=</span><span class="mi">8150</span><span class="p">,</span><span class="n">time_in_force</span><span class="o">=</span><span class="s">"GoodTillCancel"</span><span class="p">,</span> <span class="n">order_link_id</span><span class="o">=</span><span class="s">"cus_order_id_1"</span><span class="p">).</span><span class="n">result</span><span class="p">())</span>
</code></pre></div>
<blockquote>
<p>响应示例</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">ret_code</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ret_msg</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">ok</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_code</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">result</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
        <span class="dl">"</span><span class="s2">user_id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">symbol</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">BTCUSD</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">side</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Buy</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">order_type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Limit</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">price</span><span class="dl">"</span><span class="p">:</span> <span class="mi">8000</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">qty</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">time_in_force</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">GoodTillCancel</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">stop_order_type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Stop</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">trigger_by</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">LastPrice</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">base_price</span><span class="dl">"</span><span class="p">:</span> <span class="mi">7000</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">order_status</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Untriggered</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">ext_fields</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
            <span class="dl">"</span><span class="s2">stop_order_type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Stop</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">trigger_by</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">LastPrice</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">base_price</span><span class="dl">"</span><span class="p">:</span> <span class="mi">7000</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">expected_direction</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Rising</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">trigger_price</span><span class="dl">"</span><span class="p">:</span> <span class="mi">7500</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">op_from</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">api</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">remark</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">127.0.01</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">o_req_num</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span>
        <span class="p">},</span>
        <span class="dl">"</span><span class="s2">leaves_qty</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">leaves_value</span><span class="dl">"</span><span class="p">:</span> <span class="mf">0.00013333</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">reject_reason</span><span class="dl">"</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">cross_seq</span><span class="dl">"</span><span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">created_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2019-12-27T12:48:24.000Z</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">updated_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2019-12-27T12:48:24.000Z</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">stop_px</span><span class="dl">"</span><span class="p">:</span> <span class="mi">7500</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">stop_order_id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">a85cd1c0-a9a4-49d3-a1bd-bab5ebe946d5</span><span class="dl">"</span>
    <span class="p">},</span>
    <span class="dl">"</span><span class="s2">ext_info</span><span class="dl">"</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">time_now</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1577450904.327654</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_status</span><span class="dl">"</span><span class="p">:</span> <span class="mi">99</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_reset_ms</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1577450904335</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">100</span><span class="dl">"</span>
<span class="p">}</span>
</code></pre></div>
<p><p>市价条件委托: 一个传统的市场价格订单,会以当前的最优价格为您成交订单。当且仅当选择市价单时，'price', '可为空！</p>
<p>限价条件委托: 您可以为您的订单设置一个执行价格，当市场价格达到您的设置价格时，系统会为您成交订单。</p>
<p>止盈止损: 您仅能在开仓时设置止盈止损条件单，一旦持有仓位后提交活动委托时关联的止盈止损则不再有效。一旦持仓后，当创建订单后发送的止盈止损信息将不再有效。</p>
<p>委托数量: 表示您要购买/卖出的永续合约数，对于委托数量目前Bybit只允许提交正整数。</p>
<p>委托价格: 表示您期望购买/卖出永续合约的价格，可以根据<a href="#t-querysymbol">交易对接口</a>查询不同symbol价格阶梯。</p>
<p>条件委托触发价格: 您可以为您的条件委托单设置一个触发价格，条件委托单不进入委托表（Order Book)，只有触发条件成立如市场价格到达触发价格时，条件委托单才会进入交易系统。当市场价格到达触发价格：1）您的限价条件委托单进入Order Book，等待被执行；2）您的市价条件委托单将按照市场最优价格立即被执行。</p>
<p>自定义条件单ID: 您可以自定义活动委托订单ID，我们会为您关联到系统的订单ID，并把系统的唯一订单ID在活动委托创建成功后一并返回给您，您可以使用该订单ID去取消活动委托，同时要求您传递的自定义订单ID最大长度不超过36个字段且唯一。</p>
</p>

<aside class="notice">
请注意:只允许最多创建10个条件委托单
</aside>

<p class="fake_header">HTTP 请求</p>

<p>POST
<code><span id=oasoCreate>/open-api/stop-order/create</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#oasoCreate"><img src="../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button></p>

<p class="fake_header">请求参数</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><a href="#side-side">side</a></td>
<td style="text-align: left"><b>true</b></td>
<td style="text-align: left">string</td>
<td>方向</td>
</tr>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left"><b>true</b></td>
<td style="text-align: left">string</td>
<td>合约类型</td>
</tr>
<tr>
<td style="text-align: left"><a href="#order-type-order_type">order_type</a></td>
<td style="text-align: left"><b>true</b></td>
<td style="text-align: left">string</td>
<td>委托单价格类型</td>
</tr>
<tr>
<td style="text-align: left"><a href="#quantity-qty">qty</a></td>
<td style="text-align: left"><b>true</b></td>
<td style="text-align: left">integer</td>
<td>委托数量(1个委托1美元)，只能为正整数</td>
</tr>
<tr>
<td style="text-align: left"><a href="#price-price">price</a></td>
<td style="text-align: left">false</td>
<td style="text-align: left">number</td>
<td>条件委托执行价格。如果条件委托是限价单，则price为必传字段</td>
</tr>
<tr>
<td style="text-align: left">base_price</td>
<td style="text-align: left"><b>true</b></td>
<td style="text-align: left">number</td>
<td>当前市价。用于和stop_px值进行比较，确定当前条件委托是看空到<code>stop_px</code>时触发还是看多到stop_px触发。主要是用来标识当前条件单预期的方向</td>
</tr>
<tr>
<td style="text-align: left">stop_px</td>
<td style="text-align: left"><b>true</b></td>
<td style="text-align: left">number</td>
<td>触发价格</td>
</tr>
<tr>
<td style="text-align: left"><a href="#time-in-force-time_in_force">time_in_force</a></td>
<td style="text-align: left"><b>true</b></td>
<td style="text-align: left">string</td>
<td>执行策略</td>
</tr>
<tr>
<td style="text-align: left"><a href="#trigger-price-type-trigger_by">trigger_by</a></td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>触发价格类型. 默认为最新市价</td>
</tr>
<tr>
<td style="text-align: left">close_on_trigger</td>
<td style="text-align: left">false</td>
<td style="text-align: left">bool</td>
<td>触发后平仓. 如果下平仓单，请设置为<code>true</code>，避免因为保证金不足而导致下单失败</td>
</tr>
<tr>
<td style="text-align: left">order_link_id</td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>机构自定义订单ID, 最大长度36位，且同一机构下自定义ID不可重复</td>
</tr>
</tbody></table>

<p class="fake_header">返回参数</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">user_id</td>
<td style="text-align: left">number</td>
<td>用户ID</td>
</tr>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left">string</td>
<td>合约类型</td>
</tr>
<tr>
<td style="text-align: left"><a href="#side-side">side</a></td>
<td style="text-align: left">string</td>
<td>方向</td>
</tr>
<tr>
<td style="text-align: left"><a href="#order-type-order_type">order_type</a></td>
<td style="text-align: left">string</td>
<td>订单类型</td>
</tr>
<tr>
<td style="text-align: left"><a href="#price-price">price</a></td>
<td style="text-align: left">number</td>
<td>委托价格</td>
</tr>
<tr>
<td style="text-align: left"><a href="#quantity-qty">qty</a></td>
<td style="text-align: left">number</td>
<td>委托数量</td>
</tr>
<tr>
<td style="text-align: left"><a href="#time-in-force-time_in_force">time_in_force</a></td>
<td style="text-align: left">string</td>
<td>执行策略</td>
</tr>
<tr>
<td style="text-align: left">ext_fields&gt;stop_order_type</td>
<td style="text-align: left">string</td>
<td>委托单价格类型</td>
</tr>
<tr>
<td style="text-align: left">ext_fields&gt;<a href="#trigger-price-type-trigger_by">trigger_by</a></td>
<td style="text-align: left">string</td>
<td>触发价格类型. 默认为最新市价</td>
</tr>
<tr>
<td style="text-align: left">ext_fields&gt;base_price</td>
<td style="text-align: left">number</td>
<td>下单时市价</td>
</tr>
<tr>
<td style="text-align: left">ext_fields&gt;<a href="#order-status-order_status">order_status</a></td>
<td style="text-align: left">string</td>
<td>订单状态</td>
</tr>
<tr>
<td style="text-align: left">ext_fields&gt;stop_order_type</td>
<td style="text-align: left">string</td>
<td>委托单价格类型</td>
</tr>
<tr>
<td style="text-align: left">ext_fields&gt;expected_direction</td>
<td style="text-align: left">string</td>
<td>预期方向</td>
</tr>
<tr>
<td style="text-align: left">ext_fields&gt;trigger_price</td>
<td style="text-align: left">number</td>
<td>如果stop_order_type为`TrailingProfit`时，为激活价格，否则为触发价格。</td>
</tr>
<tr>
<td style="text-align: left">ext_fields&gt;op_from</td>
<td style="text-align: left">string</td>
<td>请求来源</td>
</tr>
<tr>
<td style="text-align: left">remark</td>
<td style="text-align: left">string</td>
<td>备注</td>
</tr>
<tr>
<td style="text-align: left">o_req_num</td>
<td style="text-align: left">number</td>
<td>用于关联request&response</td>
</tr>
<tr>
<td style="text-align: left">leaves_qty</td>
<td style="text-align: left">number</td>
<td>剩余委托数量</td>
</tr>
<tr>
<td style="text-align: left">leaves_value</td>
<td style="text-align: left">number</td>
<td>剩余挂单数量对应的预估价值</td>
</tr>
<tr>
<td style="text-align: left">reject_reason</td>
<td style="text-align: left">string</td>
<td>被拒单的原因</td>
</tr>
<tr>
<td style="text-align: left">cross_seq</td>
<td style="text-align: left">number</td>
<td>撮合版本号</td>
</tr>
<tr>
<td style="text-align: left">created_at</td>
<td style="text-align: left">string</td>
<td>创建时间</td>
</tr>
<tr>
<td style="text-align: left">updated_at</td>
<td style="text-align: left">string</td>
<td>更新时间</td>
</tr>
<tr>
<td style="text-align: left">stop_px</td>
<td style="text-align: left">number</td>
<td>触发价格</td>
</tr>
<tr>
<td style="text-align: left">stop_order_id</td>
<td style="text-align: left">string</td>
<td>条件委托订单ID。</td>
</tr>
</tbody></table>
<h3 id='t-a_cancelcond'>撤消条件委托单</h3>
<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight console tab-console"><code><span class="go">curl https://api.bybit.com/open-api/stop-order/cancel \
-H "Content-Type: application/json" \
-d '{"api_key":"{api_key}","symbol":"BTCUSD","order_id":"","timestamp":{timestamp},"sign":"{sign}"}'
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">bybit</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">bybit</span><span class="p">.</span><span class="n">bybit</span><span class="p">(</span><span class="n">test</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">api_key</span><span class="o">=</span><span class="s">"api_key"</span><span class="p">,</span> <span class="n">api_secret</span><span class="o">=</span><span class="s">"api_secret"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">client</span><span class="p">.</span><span class="n">Conditional</span><span class="p">.</span><span class="n">Conditional_cancel</span><span class="p">(</span><span class="n">symbol</span><span class="o">=</span><span class="s">"BTCUSD"</span><span class="p">,</span> <span class="n">order_id</span><span class="o">=</span><span class="s">""</span><span class="p">).</span><span class="n">result</span><span class="p">())</span>
</code></pre></div>
<blockquote>
<p>响应示例</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">ret_code</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ret_msg</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">ok</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_code</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">result</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
        <span class="dl">"</span><span class="s2">user_id</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">stop_order_status</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Untriggered</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">symbol</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">BTCUSD</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">side</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Buy</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">order_type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Limit</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">price</span><span class="dl">"</span><span class="p">:</span> <span class="mi">8000</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">qty</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">time_in_force</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">GoodTillCancel</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">stop_order_type</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">Stop</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">trigger_by</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">LastPrice</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">base_price</span><span class="dl">"</span><span class="p">:</span> <span class="mi">7000</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">order_link_id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">created_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2019-12-27T13:10:18.000Z</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">updated_at</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">2019-12-27T13:10:18.000Z</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">stop_px</span><span class="dl">"</span><span class="p">:</span> <span class="mi">7500</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">stop_order_id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">c1025629-e85b-4c26-b4f3-76e86ad9f8cb</span><span class="dl">"</span>
    <span class="p">},</span>
    <span class="dl">"</span><span class="s2">ext_info</span><span class="dl">"</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">time_now</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1577452218.567120</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_status</span><span class="dl">"</span><span class="p">:</span> <span class="mi">97</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_reset_ms</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1577452218573</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">100</span><span class="dl">"</span>
<span class="p">}</span>
</code></pre></div>
<p><p>您可以撤销所有未被激活的条件委托,或止盈止损单。本质上所有条件委托在被激活后都是属于活动委托，所以条件委托一旦被激活，您需要通过调用取消活动委托接口来取消所有未成交、部分成交的活动委托单。同样全部成交的活动委托不可取消。</p>
</p>

<p class="fake_header">HTTP 请求</p>

<p>POST
<code><span id=oasoCancel>/open-api/stop-order/cancel</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#oasoCancel"><img src="../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button></p>

<p class="fake_header">请求参数</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">required</th>
<th style="text-align: left">type</th>
<th>comments</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left"><b>true</b></td>
<td style="text-align: left">string</td>
<td>合约类型</td>
</tr>
<tr>
<td style="text-align: left">stop_order_id</td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>订单ID。如果未填order_link_id则为<b>必填</b>字段。</td>
</tr>
<tr>
<td style="text-align: left">order_link_id</td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>机构ID。如果未填stop_order_id则为<b>必填</b>字段。</td>
</tr>
</tbody></table>

<p class="fake_header">返回参数</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">user_id</td>
<td style="text-align: left">number</td>
<td>用户ID</td>
</tr>
<tr>
<td style="text-align: left"><a href="#stop-order-status-stop_order_status">stop_order_status</a></td>
<td style="text-align: left">string</td>
<td>条件单状态</td>
</tr>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left">string</td>
<td>合约类型</td>
</tr>
<tr>
<td style="text-align: left"><a href="#side-side">side</a></td>
<td style="text-align: left">string</td>
<td>方向</td>
</tr>
<tr>
<td style="text-align: left"><a href="#order-type-order_type">order_type</a></td>
<td style="text-align: left">string</td>
<td>订单类型</td>
</tr>
<tr>
<td style="text-align: left"><a href="#price-price">price</a></td>
<td style="text-align: left">number</td>
<td>委托价格</td>
</tr>
<tr>
<td style="text-align: left"><a href="#quantity-qty">qty</a></td>
<td style="text-align: left">number</td>
<td>委托数量</td>
</tr>
<tr>
<td style="text-align: left"><a href="#time-in-force-time_in_force">time_in_force</a></td>
<td style="text-align: left">string</td>
<td>执行策略</td>
</tr>
<tr>
<td style="text-align: left">stop_order_type</td>
<td style="text-align: left">string</td>
<td>委托单价格类型</td>
</tr>
<tr>
<td style="text-align: left"><a href="#trigger-price-type-trigger_by">trigger_by</a></td>
<td style="text-align: left">string</td>
<td>触发价格类型. 默认为最新市价</td>
</tr>
<tr>
<td style="text-align: left">base_price</td>
<td style="text-align: left">number</td>
<td>下单时市价</td>
</tr>
<tr>
<td style="text-align: left">order_link_id</td>
<td style="text-align: left">string</td>
<td>机构自定义订单ID</td>
</tr>
<tr>
<td style="text-align: left">created_at</td>
<td style="text-align: left">string</td>
<td>创建时间</td>
</tr>
<tr>
<td style="text-align: left">updated_at</td>
<td style="text-align: left">string</td>
<td>更新时间</td>
</tr>
<tr>
<td style="text-align: left">stop_px</td>
<td style="text-align: left">number</td>
<td>触发价格</td>
</tr>
<tr>
<td style="text-align: left">stop_order_id</td>
<td style="text-align: left">string</td>
<td>条件委托订单ID。</td>
</tr>
</tbody></table>
<h3 id='t-a_replacecond'>修改条件委托单</h3>
<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight console tab-console"><code><span class="go">curl https://api.bybit.com/open-api/stop-order/replace \
-H "Content-Type: application/json" \
-d '{"api_key":"{api_key}","symbol":"BTCUSD","stop_order_id":"","timestamp":{timestamp},"sign":"{sign}"}'
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">bybit</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">bybit</span><span class="p">.</span><span class="n">bybit</span><span class="p">(</span><span class="n">test</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">api_key</span><span class="o">=</span><span class="s">"api_key"</span><span class="p">,</span> <span class="n">api_secret</span><span class="o">=</span><span class="s">"api_secret"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">client</span><span class="p">.</span><span class="n">Conditional</span><span class="p">.</span><span class="n">Conditional_replace</span><span class="p">(</span><span class="n">symbol</span><span class="o">=</span><span class="s">"BTCUSD"</span><span class="p">,</span> <span class="n">stop_order_id</span><span class="o">=</span><span class="s">""</span><span class="p">).</span><span class="n">result</span><span class="p">())</span>
</code></pre></div>
<blockquote>
<p>响应示例</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">ret_code</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ret_msg</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">ok</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">ext_code</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">result</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
        <span class="dl">"</span><span class="s2">stop_order_id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">378a1bbc-a93a-4e75-87f4-502ea754ba36</span><span class="dl">"</span>
    <span class="p">},</span>
    <span class="dl">"</span><span class="s2">ext_info</span><span class="dl">"</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">time_now</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1577475760.604942</span><span class="dl">"</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_status</span><span class="dl">"</span><span class="p">:</span> <span class="mi">96</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit_reset_ms</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1577475760612</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">100</span><span class="dl">"</span>
<span class="p">}</span>
</code></pre></div>
<p><p>修改未触发的条件单。</p></p>

<aside class="notice">
请注意，只有未触发的条件单才能被修改。

</aside>

<p class="fake_header">HTTP 请求</p>

<p>POST
<code><span id=oasoReplace>/open-api/stop-order/replace</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#oasoReplace"><img src="../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button></p>

<p class="fake_header">请求参数</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">stop_order_id</td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>条件委托订单ID。</td>
</tr>
<tr>
<td style="text-align: left">order_id</td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td><b>已废弃!!</b> 条件委托订单ID。</td>
</tr>
<tr>
<td style="text-align: left">order_link_id</td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>机构自定义订单ID, 最大长度36位，且同一机构下自定义ID不可重复</td>
</tr>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left"><b>true</b></td>
<td style="text-align: left">string</td>
<td>合约类型.</td>
</tr>
<tr>
<td style="text-align: left">p_r_qty</td>
<td style="text-align: left">false</td>
<td style="text-align: left">int</td>
<td>修改后的订单数量。如果是未完全成交订单，则表示修改剩余未成交的部分。如果不修改这个字段，请不要传这个参数。</td>
</tr>
<tr>
<td style="text-align: left">p_r_price</td>
<td style="text-align: left">false</td>
<td style="text-align: left">number</td>
<td>修改后的订单价格。如果不修改这个字段，请不要传这个参数。</td>
</tr>
<tr>
<td style="text-align: left">p_r_trigger_price</td>
<td style="text-align: left">false</td>
<td style="text-align: left">number</td>
<td>修改后的条件单的触发价格或止盈止损的价格。如果不修改这个字段，请不要传这个参数。</td>
</tr>
</tbody></table>

<p class="fake_header">返回参数</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">stop_order_id</td>
<td style="text-align: left">string</td>
<td>条件委托订单ID。</td>
</tr>
</tbody></table>
<h3 id='t-a_replaceactive'>修改活动单信息</h3>
<blockquote>
<p>请求示例</p>
</blockquote>
<div class="highlight"><pre class="highlight console tab-console"><code><span class="go">curl https://api.bybit.com/open-api/order/replace \
-H "Content-Type: application/json" \
-d '{"api_key":"{api_key}","symbol":"BTCUSD","order_id":"","timestamp":{timestamp},"sign":"{sign}"}'
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">bybit</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">bybit</span><span class="p">.</span><span class="n">bybit</span><span class="p">(</span><span class="n">test</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">api_key</span><span class="o">=</span><span class="s">"api_key"</span><span class="p">,</span> <span class="n">api_secret</span><span class="o">=</span><span class="s">"api_secret"</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">client</span><span class="p">.</span><span class="n">Order</span><span class="p">.</span><span class="n">Order_Replace</span><span class="p">(</span><span class="n">symbol</span><span class="o">=</span><span class="s">"BTCUSD"</span><span class="p">,</span> <span class="n">order_id</span><span class="o">=</span><span class="s">""</span><span class="p">).</span><span class="n">result</span><span class="p">())</span>
</code></pre></div>
<blockquote>
<p>响应示例</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="dl">"</span><span class="s2">ret_code</span><span class="dl">"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>    <span class="c1">//Error code,</span>
    <span class="dl">"</span><span class="s2">ret_msg</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">ok</span><span class="dl">"</span><span class="p">,</span>  <span class="c1">//Error message,</span>
    <span class="dl">"</span><span class="s2">ext_code</span><span class="dl">"</span><span class="p">:</span> <span class="dl">""</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">result</span><span class="dl">"</span><span class="p">:</span> <span class="p">{</span>
        <span class="dl">"</span><span class="s2">order_id</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">efa44157-c355-4a98-b6d6-1d846a936b93</span><span class="dl">"</span>
    <span class="p">},</span>
    <span class="dl">"</span><span class="s2">time_now</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1539778407.210858</span><span class="dl">"</span><span class="p">,</span>    <span class="c1">// UTC timestamp</span>
    <span class="dl">"</span><span class="s2">rate_limit_status</span><span class="dl">"</span><span class="p">:</span> <span class="mi">99</span><span class="p">,</span> <span class="c1">// The remaining number of accesses in one minute</span>
    <span class="dl">"</span><span class="s2">rate_limit_reset_ms</span><span class="dl">"</span><span class="p">:</span> <span class="mi">1580885703683</span><span class="p">,</span>
    <span class="dl">"</span><span class="s2">rate_limit</span><span class="dl">"</span><span class="p">:</span> <span class="mi">100</span>             
<span class="p">}</span>
</code></pre></div>
<p><p>本接口可以修改您的活动单信息.</p>
</p>

<aside class="notice">
请注意，只有未成交或未完全成交的订单才可以被修改。
</aside>

<p class="fake_header">HTTP 请求</p>

<p>POST
<code><span id=oaoReplace>/open-api/order/replace</span></code>
<button class="clipboard_button" data-clipboard-action="copy" data-clipboard-target="#oaoReplace"><img src="../../images/copy_to_clipboard-ff25494f.png" height=15 width=15></img></button></p>

<p class="fake_header">请求参数</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">是否必须</th>
<th style="text-align: left">类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">order_id</td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>活动订单号ID。当成功创建了活动订单后返回的唯一的订单号ID。</td>
</tr>
<tr>
<td style="text-align: left">order_link_id</td>
<td style="text-align: left">false</td>
<td style="text-align: left">string</td>
<td>机构自定义订单ID, 最大长度36位，且同一机构下自定义ID不可重复</td>
</tr>
<tr>
<td style="text-align: left"><a href="#symbol-symbol">symbol</a></td>
<td style="text-align: left"><b>true</b></td>
<td style="text-align: left">string</td>
<td>合约类型.</td>
</tr>
<tr>
<td style="text-align: left">p_r_qty</td>
<td style="text-align: left">false</td>
<td style="text-align: left">int</td>
<td>修改后的订单数量。如果是未完全成交订单，则表示修改剩余未成交的部分。如果不修改这个字段，请不要传这个参数。</td>
</tr>
<tr>
<td style="text-align: left">p_r_price</td>
<td style="text-align: left">false</td>
<td style="text-align: left">number</td>
<td>修改后的订单价格。如果不修改这个字段，请不要传这个参数。</td>
</tr>
</tbody></table>

<p class="fake_header">返回参数</p>

<table><thead>
<tr>
<th style="text-align: left">参数</th>
<th style="text-align: left">类型</th>
<th>说明</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">order_id</td>
<td style="text-align: left">string</td>
<td>订单ID</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="console">console</a>
                <a href="#" data-language-name="python">python</a>
          </div>
      </div>
    </div>
  </body>

<script>
    $(".con a").click(function(){
      $(".con a").removeClass("selected");
      $(this).addClass("selected")
    });
    $("#international").click(function(){
      $this = $(this);
      var currentUrl = window.location.href;
      if ($this.text() == 'English') {
        window.location=currentUrl.replace(/\/zh-cn/,"");
      } else {
        if (currentUrl.indexOf("inverse") > -1) {
            if (currentUrl.indexOf("inverse-futures") > -1) {
                window.location=currentUrl.replace(/\/inverse-futures/,"/zh-cn/inverse-futures");
            } else {
                window.location=currentUrl.replace(/\/inverse/,"/zh-cn/inverse");
            }
        } else {
          window.location=currentUrl.replace(/\/linear/,"/zh-cn/linear");
        }

      }
    });
</script>

</html>
